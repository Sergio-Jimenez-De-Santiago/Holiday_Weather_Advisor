/*! For license information please see main.0a7091e6.js.LICENSE.txt */
(()=>{var t={110:(t,e,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(e),g=u(n),m=0;m<a.length;++m){var y=a[m];if(!o[y]&&(!r||!r[y])&&(!g||!g[y])&&(!s||!s[y])){var v=f(n,y);try{l(e,y,v)}catch(b){}}}}return e}},746:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case s:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case f:case m:case g:case u:return t;default:return e}}case i:return e}}}function _(t){return x(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(t){return _(t)||x(t)===c},e.isConcurrentMode=_,e.isContextConsumer=function(t){return x(t)===l},e.isContextProvider=function(t){return x(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===f},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===m},e.isMemo=function(t){return x(t)===g},e.isPortal=function(t){return x(t)===i},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===s||t===a||t===d||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===u||t.$$typeof===l||t.$$typeof===f||t.$$typeof===v||t.$$typeof===b||t.$$typeof===w||t.$$typeof===y)},e.typeOf=x},309:(t,e,n)=>{"use strict";t.exports=n(746)},888:(t,e,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(t,e,n)=>{t.exports=n(888)()},47:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(t,e,n)=>{"use strict";var r=n(791),i=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,F=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function z(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function H(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=H(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){Q(t,e);var n=q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function ot(t,e){var n=q(e.value),r=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,St=null,kt=null;function Et(t){if(t=bi(t)){if("function"!==typeof _t)throw Error(o(280));var e=t.stateNode;e&&(e=xi(e),_t(t.stateNode,t.type,e))}}function Tt(t){St?kt?kt.push(t):kt=[t]:St=t}function It(){if(St){var t=St,e=kt;if(kt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Ct(t,e){return t(e)}function At(){}var Dt=!1;function Mt(t,e,n){if(Dt)return t(e,n);Dt=!0;try{return Ct(t,e,n)}finally{Dt=!1,(null!==St||null!==kt)&&(At(),It())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Nt=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ct){Nt=!1}function Rt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Lt=!1,Ft=null,jt=!1,Vt=null,Ut={onError:function(t){Lt=!0,Ft=t}};function zt(t,e,n,r,i,o,a,s,u){Lt=!1,Ft=null,Rt.apply(Ut,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Bt(t)!==t)throw Error(o(188))}function Ht(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qt(i),t;if(a===r)return qt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,$t=i.unstable_requestPaint,Qt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,_e,Se,ke,Ee,Te=!1,Ie=[],Ce=null,Ae=null,De=null,Me=new Map,Pe=new Map,Ne=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":De=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&_e(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=vi(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&_e(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ve(t,e,n){je(t)&&n.delete(e)}function Ue(){Te=!1,null!==Ce&&je(Ce)&&(Ce=null),null!==Ae&&je(Ae)&&(Ae=null),null!==De&&je(De)&&(De=null),Me.forEach(Ve),Pe.forEach(Ve)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function Be(t){function e(e){return ze(e,t)}if(0<Ie.length){ze(Ie[0],t);for(var n=1;n<Ie.length;n++){var r=Ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ce&&ze(Ce,t),null!==Ae&&ze(Ae,t),null!==De&&ze(De,t),Me.forEach(e),Pe.forEach(e),n=0;n<Ne.length;n++)(r=Ne[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)Fe(n),null===n.blockedOn&&Ne.shift()}var We=w.ReactCurrentBatchConfig,qe=!0;function He(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,We.transition=o}}function Ke(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,We.transition=o}}function Ge(t,e,n,r){if(qe){var i=Xe(t,e,n,r);if(null===i)qr(t,e,r,Ye,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ce=Le(Ce,t,e,n,r,i),!0;case"dragenter":return Ae=Le(Ae,t,e,n,r,i),!0;case"mouseover":return De=Le(De,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Me.set(o,Le(Me.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pe.set(o,Le(Pe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&xe(o),null===(o=Xe(t,e,n,r))&&qr(t,e,r,Ye,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(t,e,r,null,n)}}var Ye=null;function Xe(t,e,n,r){if(Ye=null,null!==(t=vi(t=xt(r))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Qe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in Qe?Qe.value:Qe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=F({},ln,{view:0,detail:0}),fn=on(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),gn=on(F({},dn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return kn}var Tn=F({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=on(Tn),Cn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Mn),Nn=[9,13,27,32],On=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,Fn=c&&(!On||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Hn(t,e,n,r){Tt(r),0<(e=Kr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Yn(t){jr(t,0)}function Xn(t){if(G(wi(t)))return t}function $n(t,e){if("change"===t)return e}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&Xn(Gn)){var e=[];Hn(e,Gn,t,xt(t)),Mt(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Gn)}function or(t,e){if("click"===t)return Xn(e)}function ar(t,e){if("input"===t||"change"===t)return Xn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Er(t){if(Sr[t])return Sr[t];if(!_r[t])return t;var e,n=_r[t];for(e in n)if(n.hasOwnProperty(e)&&e in kr)return Sr[t]=n[e];return t}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Dr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Dr.set(t,e),u(e,[t])}for(var Nr=0;Nr<Mr.length;Nr++){var Or=Mr[Nr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,u,l){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var c=Ft;Lt=!1,Ft=null,jt||(jt=!0,Vt=c)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Fr(i,s,l),o=u}}}if(jt)throw t=Vt,jt=!1,Vt=null,t}function Vr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Wr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Wr(n,t,r,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[zr]){t[zr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zr]||(e[zr]=!0,Ur("selectionchange",!1,e))}}function Wr(t,e,n,r){switch($e(e)){case 1:var i=He;break;case 4:i=Ke;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}Mt((function(){var r=o,i=xt(n),a=[];t:{var s=Dr.get(t);if(void 0!==s){var u=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Cr:u=yn;break;case Ar:u=Dn;break;case"scroll":u=fn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Pt(p,f))&&c.push(Hr(p,g,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===wt||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=Bt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Cn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:wi(u),d=null==l?s:wi(l),(s=new c(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,vi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,g=c),h=g,u&&l)t:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Yr(a,s,u,c,!1),null!==l&&null!==h&&Yr(a,h,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(qn(s))if(Qn)m=ar;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(t,r))?Hn(a,m,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?wi(r):window,t){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(On)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=tn()):(Je="value"in(Qe=i)?Qe.value:Qe.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Vn=!0,jn);case"textInput":return(t=e.data)===jn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!On&&Un(t,e)?(t=tn(),Ze=Je=Qe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}jr(a,e)}))}function Hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pt(t,n))&&r.unshift(Hr(t,o,i)),null!=(o=Pt(t,e))&&r.push(Hr(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pt(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Pt(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(t){return("string"===typeof t?t:""+t).replace(Xr,"\n").replace($r,"")}function Jr(t,e,n){if(e=Qr(e),Qr(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Be(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Be(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[fi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xi(t){return t[di]||null}var _i=[],Si=-1;function ki(t){return{current:t}}function Ei(t){0>Si||(t.current=_i[Si],_i[Si]=null,Si--)}function Ti(t,e){Si++,_i[Si]=t.current,t.current=e}var Ii={},Ci=ki(Ii),Ai=ki(!1),Di=Ii;function Mi(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ni(){Ei(Ai),Ei(Ci)}function Oi(t,e,n){if(Ci.current!==Ii)throw Error(o(168));Ti(Ci,e),Ti(Ai,n)}function Ri(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,W(t)||"Unknown",i));return F({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Di=Ci.current,Ti(Ci,t),Ti(Ai,Ai.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ri(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,Ei(Ai),Ei(Ci),Ti(Ci,t)):Ei(Ai),Ti(Ai,n)}var ji=null,Vi=!1,Ui=!1;function zi(t){null===ji?ji=[t]:ji.push(t)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var t=0,e=be;try{var n=ji;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(t+1)),Gt(Zt,Bi),i}finally{be=e,Ui=!1}}return null}var Wi=[],qi=0,Hi=null,Ki=0,Gi=[],Yi=0,Xi=null,$i=1,Qi="";function Ji(t,e){Wi[qi++]=Ki,Wi[qi++]=Hi,Hi=t,Ki=e}function Zi(t,e,n){Gi[Yi++]=$i,Gi[Yi++]=Qi,Gi[Yi++]=Xi,Xi=t;var r=$i;t=Qi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-ae(e)+i|n<<i|r,Qi=o+t}else $i=1<<o|n<<i|r,Qi=t}function to(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function eo(t){for(;t===Hi;)Hi=Wi[--qi],Wi[qi]=null,Ki=Wi[--qi],Wi[qi]=null;for(;t===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:$i,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=li(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=li(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?li(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=li(t.nextSibling)}function po(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=w.ReactCurrentBatchConfig;function yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function wo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Nl(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Fl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===e.type)?((r=i(e,n.props)).ref=yo(t,e,n),r.return=t,r):((r=Ol(n.type,n.key,n.props,null,t.mode,r)).ref=yo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Rl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ol(e.type,e.key,e.props,null,t.mode,n)).ref=yo(t,null,e),n.return=t,n;case _:return(e=jl(e,t.mode,n)).return=t,e;case P:return f(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Rl(e,t.mode,n,null)).return=t,e;vo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(t,e,n,r):null;case _:return n.key===i?c(t,e,n,r):null;case P:return d(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);vo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case P:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);vo(e,r)}return null}function g(i,o,s,u){for(var l=null,c=null,h=o,g=o=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,s[g],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),o=a(y,o,g),null===c?l=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),io&&Ji(i,g),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===c?l=h:c.sibling=h,c=h);return io&&Ji(i,g),l}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),io&&Ji(i,g),l}function m(i,s,u,l){var c=R(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,g=s,m=s=0,y=null,v=u.next();null!==g&&!v.done;m++,v=u.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(i,g,v.value,l);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),io&&Ji(i,m),c;if(null===g){for(;!v.done;m++,v=u.next())null!==(v=f(i,v.value,l))&&(s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return io&&Ji(i,m),c}for(g=r(i,g);!v.done;m++,v=u.next())null!==(v=p(g,i,m,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),io&&Ji(i,m),c}return function t(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&bo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=yo(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===S?((o=Rl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ol(a.type,a.key,a.props,null,r.mode,u)).ref=yo(r,o,a),u.return=r,r=u)}return s(r);case _:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=jl(a,r.mode,u)).return=r,r=o}return s(r);case P:return t(r,o,(c=a._init)(a._payload),u)}if(et(a))return g(r,o,a,u);if(R(a))return m(r,o,a,u);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),So=ki(null),ko=null,Eo=null,To=null;function Io(){To=Eo=ko=null}function Co(t){var e=So.current;Ei(So),t._currentValue=e}function Ao(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){ko=t,To=Eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(To!==t)if(t={context:t,memoizedValue:e,next:null},null===Eo){if(null===ko)throw Error(o(308));Eo=t,ko.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Po=null;function No(t){null===Po?Po=[t]:Po.push(t)}function Oo(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,No(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ro(t,r)}function Ro(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Fo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ro(t,n)}return null===(i=r.interleaved)?(e.next=e,No(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ro(t,n)}function zo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Bo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wo(t,e,n,r){var i=t.updateQueue;Lo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(f=e,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break t;h=F({},h,f);break t;case 2:Lo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Lu|=a,t.lanes=a,t.memoizedState=h}}function qo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=ki(Ho),Go=ki(Ho),Yo=ki(Ho);function Xo(t){if(t===Ho)throw Error(o(174));return t}function $o(t,e){switch(Ti(Yo,e),Ti(Go,t),Ti(Ko,Ho),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ei(Ko),Ti(Ko,e)}function Qo(){Ei(Ko),Ei(Go),Ei(Yo)}function Jo(t){Xo(Yo.current);var e=Xo(Ko.current),n=ut(e,t.type);e!==n&&(Ti(Go,t),Ti(Ko,n))}function Zo(t){Go.current===t&&(Ei(Ko),Ei(Go))}var ta=ki(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var na=[];function ra(){for(var t=0;t<na.length;t++)na[t]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,ua=null,la=null,ca=!1,ha=!1,fa=0,da=0;function pa(){throw Error(o(321))}function ga(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ma(t,e,n,r,i,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Za:ts,t=n(r,i),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(o(301));a+=1,la=ua=null,e.updateQueue=null,ia.current=es,t=n(r,i)}while(ha)}if(ia.current=Ja,e=null!==ua&&null!==ua.next,aa=0,la=ua=sa=null,ca=!1,e)throw Error(o(300));return t}function ya(){var t=0!==fa;return fa=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=t:la=la.next=t,la}function ba(){if(null===ua){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=ua.next;var e=null===la?sa.memoizedState:la.next;if(null!==e)la=e,ua=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ua=t).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===la?sa.memoizedState=la=t:la=la.next=t}return la}function wa(t,e){return"function"===typeof e?e(t):e}function xa(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ua,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((aa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,sa.lanes|=h,Lu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,sa.lanes|=a,Lu|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _a(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(t,e){var n=sa,r=ba(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,La(Ia.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ma(9,Ta.bind(null,n,r,i,e),void 0,null),null===Au)throw Error(o(349));0!==(30&aa)||Ea(n,e,i)}return i}function Ea(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ta(t,e,n,r){e.value=n,e.getSnapshot=r,Ca(e)&&Aa(t)}function Ia(t,e,n){return n((function(){Ca(e)&&Aa(t)}))}function Ca(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Aa(t){var e=Ro(t,1);null!==e&&nl(e,t,1,-1)}function Da(t){var e=va();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=Ya.bind(null,sa,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Pa(){return ba().memoizedState}function Na(t,e,n,r){var i=va();sa.flags|=t,i.memoizedState=Ma(1|e,n,void 0,void 0===r?null:r)}function Oa(t,e,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ua){var a=ua.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ma(e,n,o,r))}sa.flags|=t,i.memoizedState=Ma(1|e,n,o,r)}function Ra(t,e){return Na(8390656,8,t,e)}function La(t,e){return Oa(2048,8,t,e)}function Fa(t,e){return Oa(4,2,t,e)}function ja(t,e){return Oa(4,4,t,e)}function Va(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ua(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Oa(4,4,Va.bind(null,e,t),n)}function za(){}function Ba(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wa(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qa(t,e,n){return 0===(21&aa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),sa.lanes|=n,Lu|=n,t.baseState=!0),e)}function Ha(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=oa.transition;oa.transition={};try{t(!1),e()}finally{be=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ga(t,e,n){var r=el(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(t))$a(e,n);else if(null!==(n=Oo(t,e,n,r))){nl(n,t,r,tl()),Qa(n,e,r)}}function Ya(t,e,n){var r=el(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(t))$a(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(i.next=i,No(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(n=Oo(t,e,i,r))&&(nl(n,t,r,i=tl()),Qa(n,e,r))}}function Xa(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function $a(t,e){ha=ca=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qa(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Ja={readContext:Mo,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Mo,useCallback:function(t,e){return va().memoizedState=[t,void 0===e?null:e],t},useContext:Mo,useEffect:Ra,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Na(4194308,4,Va.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Na(4194308,4,t,e)},useInsertionEffect:function(t,e){return Na(4,2,t,e)},useMemo:function(t,e){var n=va();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=va();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ga.bind(null,sa,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},va().memoizedState=t},useState:Da,useDebugValue:za,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=Da(!1),e=t[0];return t=Ha.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Au)throw Error(o(349));0!==(30&aa)||Ea(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ra(Ia.bind(null,r,a,t),[t]),r.flags|=2048,Ma(9,Ta.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=va(),e=Au.identifierPrefix;if(io){var n=Qi;e=":"+e+"R"+(n=($i&~(1<<32-ae($i)-1)).toString(32)+n),0<(n=fa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=da++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:Ba,useContext:Mo,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:Wa,useReducer:xa,useRef:Pa,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(t){return qa(ba(),ua.memoizedState,t)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ka,unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:Ba,useContext:Mo,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:Wa,useReducer:_a,useRef:Pa,useState:function(){return _a(wa)},useDebugValue:za,useDeferredValue:function(t){var e=ba();return null===ua?e.memoizedState=t:qa(e,ua.memoizedState,t)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ka,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function rs(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Vo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Uo(t,o,i))&&(nl(e,t,i,r),zo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Vo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Uo(t,o,i))&&(nl(e,t,i,r),zo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tl(),r=el(t),i=Vo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Uo(t,i,r))&&(nl(e,t,r,n),zo(e,t,r))}};function os(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function as(t,e,n){var r=!1,i=Ii,o=e.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Pi(e)?Di:Ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Mi(t,i):Ii),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function us(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Pi(e)?Di:Ci.current,i.context=Mi(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(rs(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function cs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function hs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=Vo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qu||(qu=!0,Hu=r),hs(0,e)},n}function ps(t,e,n){(n=Vo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,e),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=El.bind(null,t,e,n),e.then(t,t))}function ms(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Vo(-1,1)).tag=2,Uo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var vs=w.ReactCurrentOwner,bs=!1;function ws(t,e,n,r){e.child=null===t?_o(e,null,n,r):xo(e,t.child,n,r)}function xs(t,e,n,r,i){n=n.render;var o=e.ref;return Do(e,i),r=ma(t,e,n,r,o,i),n=ya(),null===t||bs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i))}function _s(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Pl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ol(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return qs(t,e,i)}return e.flags|=1,(t=Nl(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(ur(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,qs(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Ts(t,e,n,r,i)}function ks(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nu,Pu),Pu|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ti(Nu,Pu),Pu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Nu,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ti(Nu,Pu),Pu|=r;return ws(t,e,i,n),e.child}function Es(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ts(t,e,n,r,i){var o=Pi(n)?Di:Ci.current;return o=Mi(e,o),Do(e,i),n=ma(t,e,n,r,o,i),r=ya(),null===t||bs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i))}function Is(t,e,n,r,i){if(Pi(n)){var o=!0;Li(e)}else o=!1;if(Do(e,i),null===e.stateNode)Ws(t,e),as(e,n,r),us(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Mo(l):l=Mi(e,l=Pi(n)?Di:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&ss(e,a,r,l),Lo=!1;var f=e.memoizedState;a.state=f,Wo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Ai.current||Lo?("function"===typeof c&&(rs(e,n,c,r),u=e.memoizedState),(s=Lo||os(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,jo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ns(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Mo(u):u=Mi(e,u=Pi(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&ss(e,a,r,u),Lo=!1,f=e.memoizedState,a.state=f,Wo(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||Ai.current||Lo?("function"===typeof d&&(rs(e,n,d,r),p=e.memoizedState),(l=Lo||os(e,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cs(t,e,n,r,o,i)}function Cs(t,e,n,r,i,o){Es(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Fi(e,n,!1),qs(t,e,o);r=e.stateNode,vs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function As(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),$o(t,e.containerInfo)}function Ds(t,e,n,r,i){return po(),go(i),e.flags|=256,ws(t,e,n,r),e.child}var Ms,Ps,Ns,Os,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,i=e.pendingProps,a=ta.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ti(ta,1&a),null===t)return lo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),t=Rl(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=Rs,t):js(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Vs(t,e,s,r=cs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Rl(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&xo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Rs,a);if(0===(1&e.mode))return Vs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(t,e,s,r=cs(a=Error(o(419)),r,void 0))}if(u=0!==(s&t.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(t,i),nl(r,t,i,-1))}return gl(),Vs(t,e,s,r=cs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Il.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=li(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Yi++]=$i,Gi[Yi++]=Qi,Gi[Yi++]=Xi,$i=t.id,Qi=t.overflow,Xi=e),e=js(e,r.children),e.flags|=4096,e)}(t,e,u,i,r,a,n);if(s){s=i.fallback,u=e.mode,r=(a=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Nl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nl(r,s):(s=Rl(s,u,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Rs,i}return t=(s=t.child).sibling,i=Nl(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function js(t,e){return(e=Ll({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Vs(t,e,n,r){return null!==r&&go(r),xo(e,t.child,null,n),(t=js(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Us(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Ao(t.return,e,n)}function zs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Us(t,n,e);else if(19===t.tag)Us(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ti(ta,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ea(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zs(e,!0,n,null,o);break;case"together":zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Lu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Nl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Nl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Hs(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ks(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(e),null;case 1:case 17:return Pi(e.type)&&Ni(),Ks(e),null;case 3:return r=e.stateNode,Qo(),Ei(Ai),Ei(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(al(oo),oo=null))),Ps(t,e),Ks(e),null;case 5:Zo(e);var i=Xo(Yo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ns(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Ks(e),null}if(t=Xo(Ko.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[di]=a,t=0!==(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":it(r,a),Vr("invalid",r)}for(var u in vt(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,t),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,t),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[fi]=e,t[di]=r,Ms(t,e,!1,!1),e.stateNode=t;t:{switch(u=bt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":$(t,r),i=X(t,r),Vr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Vr("invalid",t)}for(a in vt(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?mt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Vr("scroll",t):null!=c&&b(t,a,c,u))}switch(n){case"input":K(t),Z(t,r,!1);break;case"textarea":K(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ks(e),null;case 6:if(t&&null!=e.stateNode)Os(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Ko.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return Ks(e),null;case 13:if(Ei(ta),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ks(e),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ta.current)?0===Ou&&(Ou=3):gl())),null!==e.updateQueue&&(e.flags|=4),Ks(e),null);case 4:return Qo(),Ps(t,e),null===t&&Br(e.stateNode.containerInfo),Ks(e),null;case 10:return Co(e.type._context),Ks(e),null;case 19:if(Ei(ta),null===(a=e.memoizedState))return Ks(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Ou||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=ea(t))){for(e.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ti(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>Bu&&(e.flags|=128,r=!0,Hs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ea(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(e),null}else 2*Qt()-a.renderingStartTime>Bu&&1073741824!==n&&(e.flags|=128,r=!0,Hs(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,n=ta.current,Ti(ta,r?1&n|2:1&n),e):(Ks(e),null);case 22:case 23:return hl(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Pu)&&(Ks(e),6&e.subtreeFlags&&(e.flags|=8192)):Ks(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ys(t,e){switch(eo(e),e.tag){case 1:return Pi(e.type)&&Ni(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qo(),Ei(Ai),Ei(Ci),ra(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Zo(e),null;case 13:if(Ei(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ei(ta),null;case 4:return Qo(),null;case 10:return Co(e.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ms=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ns=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=X(t,i),r=X(t,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(c in vt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",t),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Os=function(t,e,n,r){n!==r&&(e.flags|=4)};var Xs=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(t,e,r)}else n.current=null}function tu(t,e,n){try{n()}catch(r){kl(t,e,r)}}var eu=!1;function nu(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(e,n,o)}i=i.next}while(i!==r)}}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ou(t){var e=t.alternate;null!==e&&(t.alternate=null,ou(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[gi],delete e[mi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function su(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function uu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(uu(t,e,n),t=t.sibling;null!==t;)uu(t,e,n),t=t.sibling}function lu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(lu(t,e,n),t=t.sibling;null!==t;)lu(t,e,n),t=t.sibling}var cu=null,hu=!1;function fu(t,e,n){for(n=n.child;null!==n;)du(t,e,n),n=n.sibling}function du(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,e);case 6:var r=cu,i=hu;cu=null,fu(t,e,n),hu=i,null!==(cu=r)&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),Be(t)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(t,e,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,e,a),i=i.next}while(i!==r)}fu(t,e,n);break;case 1:if(!$s&&(Zs(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,e,s)}fu(t,e,n);break;case 21:fu(t,e,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(t,e,n),$s=r):fu(t,e,n);break;default:fu(t,e,n)}}function pu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Qs),e.forEach((function(e){var r=Cl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break t;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break t}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)mu(e,t),e=e.sibling}function mu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gu(e,t),yu(t),4&r){try{nu(3,t,t.return),ru(3,t)}catch(m){kl(t,t.return,m)}try{nu(5,t,t.return)}catch(m){kl(t,t.return,m)}}break;case 1:gu(e,t),yu(t),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gu(e,t),yu(t),512&r&&null!==n&&Zs(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(m){kl(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),bt(u,s);var c=bt(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?mt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):b(i,h,f,c)}switch(u){case"input":J(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){kl(t,t.return,m)}}break;case 6:if(gu(e,t),yu(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){kl(t,t.return,m)}}break;case 3:if(gu(e,t),yu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){kl(t,t.return,m)}break;case 4:default:gu(e,t),yu(t);break;case 13:gu(e,t),yu(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Qt())),4&r&&pu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?($s=(c=$s)||h,gu(e,t),$s=c):gu(e,t),yu(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Js=t,h=t.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==p?(p.return=d,Js=p):xu(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=gt("display",s))}catch(m){kl(t,t.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){kl(t,t.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(e,t),yu(t),4&r&&pu(t);case 21:}}function yu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(au(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),lu(t,su(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(t,su(t),a);break;default:throw Error(o(161))}}catch(s){kl(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vu(t,e,n){Js=t,bu(t,e,n)}function bu(t,e,n){for(var r=0!==(1&t.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Xs;var l=$s;if(Xs=a,($s=u)&&!l)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?_u(i):null!==u?(u.return=a,Js=u):_u(i);for(;null!==o;)Js=o,bu(o,e,n),o=o.sibling;Js=i,Xs=s,$s=l}wu(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(t)}}function wu(t){for(;null!==Js;){var e=Js;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:$s||ru(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!$s)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&qo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}qo(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Be(f)}}}break;default:throw Error(o(163))}$s||512&e.flags&&iu(e)}catch(d){kl(e,e.return,d)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function xu(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function _u(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ru(4,e)}catch(u){kl(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){kl(e,i,u)}}var o=e.return;try{iu(e)}catch(u){kl(e,o,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){kl(e,a,u)}}}catch(u){kl(e,e.return,u)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var Su,ku=Math.ceil,Eu=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Cu=0,Au=null,Du=null,Mu=0,Pu=0,Nu=ki(0),Ou=0,Ru=null,Lu=0,Fu=0,ju=0,Vu=null,Uu=null,zu=0,Bu=1/0,Wu=null,qu=!1,Hu=null,Ku=null,Gu=!1,Yu=null,Xu=0,$u=0,Qu=null,Ju=-1,Zu=0;function tl(){return 0!==(6&Cu)?Qt():-1!==Ju?Ju:Ju=Qt()}function el(t){return 0===(1&t.mode)?1:0!==(2&Cu)&&0!==Mu?Mu&-Mu:null!==mo.transition?(0===Zu&&(Zu=ge()),Zu):0!==(t=be)?t:t=void 0===(t=window.event)?16:$e(t.type)}function nl(t,e,n,r){if(50<$u)throw $u=0,Qu=null,Error(o(185));ye(t,n,r),0!==(2&Cu)&&t===Au||(t===Au&&(0===(2&Cu)&&(Fu|=n),4===Ou&&sl(t,Mu)),rl(t,r),1===n&&0===Cu&&0===(1&e.mode)&&(Bu=Qt()+500,Vi&&Bi()))}function rl(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Au?Mu:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Vi=!0,zi(t)}(ul.bind(null,t)):zi(ul.bind(null,t)),ai((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Al(n,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function il(t,e){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(o(327));var n=t.callbackNode;if(_l()&&t.callbackNode!==n)return null;var r=fe(t,t===Au?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=ml(t,r);else{e=r;var i=Cu;Cu|=2;var a=pl();for(Au===t&&Mu===e||(Wu=null,Bu=Qt()+500,fl(t,e));;)try{vl();break}catch(u){dl(t,u)}Io(),Eu.current=a,Cu=i,null!==Du?e=0:(Au=null,Mu=0,e=Ou)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ol(t,i))),1===e)throw n=Ru,fl(t,0),sl(t,r),rl(t,Qt()),n;if(6===e)sl(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=ml(t,r))&&(0!==(a=pe(t))&&(r=a,e=ol(t,a))),1===e))throw n=Ru,fl(t,0),sl(t,r),rl(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:xl(t,Uu,Wu);break;case 3:if(sl(t,r),(130023424&r)===r&&10<(e=zu+500-Qt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(xl.bind(null,t,Uu,Wu),e);break}xl(t,Uu,Wu);break;case 4:if(sl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){t.timeoutHandle=ri(xl.bind(null,t,Uu,Wu),r);break}xl(t,Uu,Wu);break;default:throw Error(o(329))}}}return rl(t,Qt()),t.callbackNode===n?il.bind(null,t):null}function ol(t,e){var n=Vu;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),2!==(t=ml(t,e))&&(e=Uu,Uu=n,null!==e&&al(e)),t}function al(t){null===Uu?Uu=t:Uu.push.apply(Uu,t)}function sl(t,e){for(e&=~ju,e&=~Fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function ul(t){if(0!==(6&Cu))throw Error(o(327));_l();var e=fe(t,0);if(0===(1&e))return rl(t,Qt()),null;var n=ml(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ol(t,r))}if(1===n)throw n=Ru,fl(t,0),sl(t,e),rl(t,Qt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xl(t,Uu,Wu),rl(t,Qt()),null}function ll(t,e){var n=Cu;Cu|=1;try{return t(e)}finally{0===(Cu=n)&&(Bu=Qt()+500,Vi&&Bi())}}function cl(t){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&_l();var e=Cu;Cu|=1;var n=Iu.transition,r=be;try{if(Iu.transition=null,be=1,t)return t()}finally{be=r,Iu.transition=n,0===(6&(Cu=e))&&Bi()}}function hl(){Pu=Nu.current,Ei(Nu)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Qo(),Ei(Ai),Ei(Ci),ra();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:Ei(ta);break;case 10:Co(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Au=t,Du=t=Nl(t.current,null),Mu=Pu=e,Ou=0,Ru=null,ju=Fu=Lu=0,Uu=Vu=null,null!==Po){for(e=0;e<Po.length;e++)if(null!==(r=(n=Po[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return t}function dl(t,e){for(;;){var n=Du;try{if(Io(),ia.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,la=ua=sa=null,ha=!1,fa=0,Tu.current=null,null===n||null===n.return){Ou=1,Ru=e,Du=null;break}t:{var a=t,s=n.return,u=n,l=e;if(e=Mu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,e),1&p.mode&&gs(a,c,e),l=c;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break t}if(0===(1&e)){gs(a,c,e),gl();break t}l=Error(o(426))}else if(io&&1&u.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,u,0,e),go(ls(l,u));break t}}a=l=ls(l,u),4!==Ou&&(Ou=2),null===Vu?Vu=[a]:Vu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Bo(a,ds(0,l,e));break t;case 1:u=l;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Bo(a,ps(a,u,e));break t}}a=a.return}while(null!==a)}wl(n)}catch(w){e=w,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function pl(){var t=Eu.current;return Eu.current=Ja,null===t?Ja:t}function gl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Au||0===(268435455&Lu)&&0===(268435455&Fu)||sl(Au,Mu)}function ml(t,e){var n=Cu;Cu|=2;var r=pl();for(Au===t&&Mu===e||(Wu=null,fl(t,e));;)try{yl();break}catch(i){dl(t,i)}if(Io(),Cu=n,Eu.current=r,null!==Du)throw Error(o(261));return Au=null,Mu=0,Ou}function yl(){for(;null!==Du;)bl(Du)}function vl(){for(;null!==Du&&!Xt();)bl(Du)}function bl(t){var e=Su(t.alternate,t,Pu);t.memoizedProps=t.pendingProps,null===e?wl(t):Du=e,Tu.current=null}function wl(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Gs(n,e,Pu)))return void(Du=n)}else{if(null!==(n=Ys(n,e)))return n.flags&=32767,void(Du=n);if(null===t)return Ou=6,void(Du=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Du=e);Du=e=t}while(null!==e);0===Ou&&(Ou=5)}function xl(t,e,n){var r=be,i=Iu.transition;try{Iu.transition=null,be=1,function(t,e,n,r){do{_l()}while(null!==Yu);if(0!==(6&Cu))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Au&&(Du=Au=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Al(ee,(function(){return _l(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Iu.transition,Iu.transition=null;var s=be;be=1;var u=Cu;Cu|=4,Tu.current=null,function(t,e){if(ti=qe,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break t}var s=0,u=-1,l=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},qe=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ns(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kl(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}g=eu,eu=!1}(t,n),mu(n,t),pr(ei),qe=!!ti,ei=ti=null,t.current=n,vu(n,t,i),$t(),Cu=u,be=s,Iu.transition=a}else t.current=n;if(Gu&&(Gu=!1,Yu=t,Xu=i),a=t.pendingLanes,0===a&&(Ku=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rl(t,Qt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,t=Hu,Hu=null,t;0!==(1&Xu)&&0!==t.tag&&_l(),a=t.pendingLanes,0!==(1&a)?t===Qu?$u++:($u=0,Qu=t):$u=0,Bi()}(t,e,n,r)}finally{Iu.transition=i,be=r}return null}function _l(){if(null!==Yu){var t=we(Xu),e=Iu.transition,n=be;try{if(Iu.transition=null,be=16>t?16:t,null===Yu)var r=!1;else{if(t=Yu,Yu=null,Xu=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(ou(h),h===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break t}Js=a.return}}var b=t.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else t:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){kl(u,u.return,_)}if(u===s){Js=null;break t}var x=u.sibling;if(null!==x){x.return=u.return,Js=x;break t}Js=u.return}}if(Cu=i,Bi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(_){}r=!0}return r}finally{be=n,Iu.transition=e}}return!1}function Sl(t,e,n){t=Uo(t,e=ds(0,e=ls(n,e),1),1),e=tl(),null!==t&&(ye(t,1,e),rl(t,e))}function kl(t,e,n){if(3===t.tag)Sl(t,t,n);else for(;null!==e;){if(3===e.tag){Sl(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){e=Uo(e,t=ps(e,t=ls(n,t),1),1),t=tl(),null!==e&&(ye(e,1,t),rl(e,t));break}}e=e.return}}function El(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&n,Au===t&&(Mu&n)===n&&(4===Ou||3===Ou&&(130023424&Mu)===Mu&&500>Qt()-zu?fl(t,0):ju|=n),rl(t,e)}function Tl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=tl();null!==(t=Ro(t,e))&&(ye(t,e,n),rl(t,n))}function Il(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tl(t,n)}function Cl(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Tl(t,n)}function Al(t,e){return Gt(t,e)}function Dl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(t,e,n,r){return new Dl(t,e,n,r)}function Pl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Nl(t,e){var n=t.alternate;return null===n?((n=Ml(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ol(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Pl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Rl(n.children,i,a,e);case k:s=8,i|=8;break;case E:return(t=Ml(12,n,e,2|i)).elementType=E,t.lanes=a,t;case A:return(t=Ml(13,n,e,i)).elementType=A,t.lanes=a,t;case D:return(t=Ml(19,n,e,i)).elementType=D,t.lanes=a,t;case N:return Ll(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case I:s=9;break t;case C:s=11;break t;case M:s=14;break t;case P:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ml(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Rl(t,e,n,r){return(t=Ml(7,t,r,e)).lanes=n,t}function Ll(t,e,n,r){return(t=Ml(22,t,r,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Fl(t,e,n){return(t=Ml(6,t,null,e)).lanes=n,t}function jl(t,e,n){return(e=Ml(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vl(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(t,e,n,r,i,o,a,s,u){return t=new Vl(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Ml(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),t}function zl(t){if(!t)return Ii;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Ri(t,n,e)}return e}function Bl(t,e,n,r,i,o,a,s,u){return(t=Ul(n,r,!0,t,0,o,0,s,u)).context=zl(null),n=t.current,(o=Vo(r=tl(),i=el(n))).callback=void 0!==e&&null!==e?e:null,Uo(n,o,i),t.current.lanes=i,ye(t,i,r),rl(t,r),t}function Wl(t,e,n,r){var i=e.current,o=tl(),a=el(i);return n=zl(n),null===e.context?e.context=n:e.pendingContext=n,(e=Vo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Uo(i,e,a))&&(nl(t,i,a,o),zo(t,i,a)),a}function ql(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Hl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kl(t,e){Hl(t,e),(t=t.alternate)&&Hl(t,e)}Su=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ai.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:As(e),po();break;case 5:Jo(e);break;case 1:Pi(e.type)&&Li(e);break;case 4:$o(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ti(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ti(ta,1&ta.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fs(t,e,n):(Ti(ta,1&ta.current),null!==(t=qs(t,e,n))?t.sibling:null);Ti(ta,1&ta.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Bs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ta,ta.current),r)break;return null;case 22:case 23:return e.lanes=0,ks(t,e,n)}return qs(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Zi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ws(t,e),t=e.pendingProps;var i=Mi(e,Ci.current);Do(e,n),i=ma(null,e,r,t,i,n);var a=ya();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(e),i.updater=is,e.stateNode=i,i._reactInternals=e,us(e,r,t,n),e=Cs(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Pl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===M)return 14}return 2}(r),t=ns(r,t),i){case 0:e=Ts(null,e,r,t,n);break t;case 1:e=Is(null,e,r,t,n);break t;case 11:e=xs(null,e,r,t,n);break t;case 14:e=_s(null,e,r,ns(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ts(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 1:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 3:t:{if(As(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,jo(t,e),Wo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ds(t,e,r,n,i=ls(Error(o(423)),e));break t}if(r!==i){e=Ds(t,e,r,n,i=ls(Error(o(424)),e));break t}for(ro=li(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=_o(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=qs(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return Jo(e),null===t&&lo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Es(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&lo(e),null;case 13:return Fs(t,e,n);case 4:return $o(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=xo(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xs(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ti(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){e=qs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Vo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a.return,n,e),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ao(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Do(e,n),r=r(i=Mo(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=ns(r=e.type,e.pendingProps),_s(t,e,r,i=ns(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),Ws(t,e),e.tag=1,Pi(r)?(t=!0,Li(e)):t=!1,Do(e,n),as(e,r,i),us(e,r,i,n),Cs(null,e,r,!0,t,n);case 19:return Bs(t,e,n);case 22:return ks(t,e,n)}throw Error(o(156,e.tag))};var Gl="function"===typeof reportError?reportError:function(t){console.error(t)};function Yl(t){this._internalRoot=t}function Xl(t){this._internalRoot=t}function $l(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jl(){}function Zl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=ql(a);s.call(t)}}Wl(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=ql(a);o.call(t)}}var a=Bl(e,r,t,0,null,!1,0,"",Jl);return t._reactRootContainer=a,t[pi]=a.current,Br(8===t.nodeType?t.parentNode:t),cl(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=ql(u);s.call(t)}}var u=Ul(t,0,!1,null,0,!1,0,"",Jl);return t._reactRootContainer=u,t[pi]=u.current,Br(8===t.nodeType?t.parentNode:t),cl((function(){Wl(e,u,n,r)})),u}(n,e,t,i,r);return ql(a)}Xl.prototype.render=Yl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wl(t,e,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl((function(){Wl(null,t,null,null)})),e[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),rl(e,Qt()),0===(6&Cu)&&(Bu=Qt()+500,Bi()))}break;case 13:cl((function(){var e=Ro(t,1);if(null!==e){var n=tl();nl(e,t,1,n)}})),Kl(t,1)}},_e=function(t){if(13===t.tag){var e=Ro(t,134217728);if(null!==e)nl(e,t,134217728,tl());Kl(t,134217728)}},Se=function(t){if(13===t.tag){var e=el(t),n=Ro(t,e);if(null!==n)nl(n,t,e,tl());Kl(t,e)}},ke=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},_t=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=ll,At=cl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,xi,Tt,It,ll]},ec={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ht(t))?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ie=rc.inject(nc),oe=rc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!$l(t))throw Error(o(299));var n=!1,r="",i=Gl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Ul(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Br(8===t.nodeType?t.parentNode:t),new Yl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Ht(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,n){if(!Ql(e))throw Error(o(200));return Zl(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!$l(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Bl(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Br(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xl(e)},e.render=function(t,e,n){if(!Ql(e))throw Error(o(200));return Zl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(o(40));return!!t._reactRootContainer&&(cl((function(){Zl(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ql(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Zl(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},250:(t,e,n)=>{"use strict";var r=n(164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},164:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},381:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},239:(t,e,n)=>{var r=n(381);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],d=n.index;if(s+=t.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=t[a],g=n[2],m=n[3],y=n[4],v=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=g&&null!=p&&p!==g,_="+"===b||"*"===b,S="?"===b||"*"===b,k=n[2]||c,E=y||v;r.push({name:m||o++,prefix:g||"",delimiter:k,optional:S,repeat:_,partial:x,asterisk:!!w,pattern:E?l(E):w?".*":"[^"+u(k)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var l=t[s];if("string"===typeof l)a+=u(l);else{var f=u(l.prefix),d="(?:"+l.pattern+")";e.push(l),l.repeat&&(d+="(?:"+f+d+")*"),a+=d=l.optional?l.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",c(new RegExp("^"+a,h(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},195:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case s:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case f:case m:case g:case u:return t;default:return e}}case i:return e}}}function _(t){return x(t)===h}},228:(t,e,n)=>{"use strict";n(195)},374:(t,e,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:s.current}}e.Fragment=o,e.jsx=l,e.jsxs=l},117:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,i)&&!k.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===o?"."+C(u,0):o,x(a)?(i="",null!=t&&(i=t.replace(I,"$&/")+"/"),A(a,e,i,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",x(t))for(var l=0;l<t.length;l++){var c=o+C(s=t[l],l);u+=A(s,e,i,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=A(s=s.value,e,i,c=o+C(s,l++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function D(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},N={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:D,forEach:function(t,e,n){D(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return D(t,(function(){e++})),e},toArray:function(t){return D(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=R,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)_.call(e,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},791:(t,e,n)=>{"use strict";t.exports=n(117)},184:(t,e,n)=>{"use strict";t.exports=n(374)},813:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=t[s],l=s+1,c=t[l];if(0>o(u,n))l<i&&0>o(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function x(t){if(m=!1,w(t),!g)if(null!==r(l))g=!0,N(_);else{var e=r(c);null!==e&&O(x,e.startTime-t)}}function _(t,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var o=d;try{for(w(n),f=r(l);null!==f&&(!(f.expirationTime>n)||t&&!A());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),w(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&O(x,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,I=5,C=-1;function A(){return!(e.unstable_now()-C<I)}function D(){if(null!==E){var t=e.unstable_now();C=t;var n=!0;try{n=E(!0,t)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(D)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=D,S=function(){P.postMessage(null)}}else S=function(){y(D,0)};function N(t){E=t,k||(k=!0,S())}function O(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,N(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(l)&&t===r(c)&&(m?(v(T),T=-1):m=!0,O(x,o-a))):(t.sortIndex=s,n(l,t),g||p||(g=!0,N(_))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:(t,e,n)=>{"use strict";t.exports=n(813)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(791),e=n(250);function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function a(t){return"/"===t.charAt(0)}function s(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}const u=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&a(t),u=e&&a(e),l=o||u;if(t&&a(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,f=i.length;f>=0;f--){var d=i[f];"."===d?s(i,f):".."===d?(s(i,f),h++):h&&(s(i,f),h--)}if(!l)for(;h--;h)i.unshift("..");!l||""===i[0]||i[0]&&a(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}const c=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=l(e),i=l(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1};var h=!0,f="Invariant failed";function d(t,e){if(!t){if(h)throw new Error(f);var n="function"===typeof e?e():e,r=n?"".concat(f,": ").concat(n):f;throw new Error(r)}}function p(t){return"/"===t.charAt(0)?t:"/"+t}function g(t){return"/"===t.charAt(0)?t.substr(1):t}function m(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function y(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function v(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function b(t,e,n,r){var i;"string"===typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t),i.state=e):(void 0===(i=o({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(Fg){throw Fg instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Fg}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=u(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var x=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(t,e){e(window.confirm(t))}var S="popstate",k="hashchange";function E(){try{return window.history.state||{}}catch(Fg){return{}}}function T(t){void 0===t&&(t={}),x||d(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,l=void 0===u?_:u,c=i.keyLength,h=void 0===c?6:c,f=t.basename?y(p(t.basename)):"";function g(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=m(o,f)),b(o,r,n)}function T(){return Math.random().toString(36).substr(2,h)}var I=w();function C(t){o(U,t),U.length=e.length,I.notifyListeners(U.location,U.action)}function A(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(g(t.state))}function D(){P(g(E()))}var M=!1;function P(t){if(M)M=!1,C();else{I.confirmTransitionTo(t,"POP",l,(function(e){e?C({action:"POP",location:t}):function(t){var e=U.location,n=O.indexOf(e.key);-1===n&&(n=0);var r=O.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(M=!0,L(i))}(t)}))}}var N=g(E()),O=[N.key];function R(t){return f+v(t)}function L(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?(window.addEventListener(S,A),r&&window.addEventListener(k,D)):0===F&&(window.removeEventListener(S,A),r&&window.removeEventListener(k,D))}var V=!1;var U={length:e.length,action:"POP",location:N,createHref:R,push:function(t,r){var i="PUSH",o=b(t,r,T(),U.location);I.confirmTransitionTo(o,i,l,(function(t){if(t){var r=R(o),a=o.key,u=o.state;if(n)if(e.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var l=O.indexOf(U.location.key),c=O.slice(0,l+1);c.push(o.key),O=c,C({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=b(t,r,T(),U.location);I.confirmTransitionTo(o,i,l,(function(t){if(t){var r=R(o),a=o.key,u=o.state;if(n)if(e.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var l=O.indexOf(U.location.key);-1!==l&&(O[l]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=I.setPrompt(t);return V||(j(1),V=!0),function(){return V&&(V=!1,j(-1)),e()}},listen:function(t){var e=I.appendListener(t);return j(1),function(){j(-1),e()}}};return U}var I="hashchange",C={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+g(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:g,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function D(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function M(t){window.location.replace(A(window.location.href)+"#"+t)}function P(t){void 0===t&&{},x||d(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,i=void 0===r?_:r,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?y(p(t.basename)):"",l=C[s],c=l.encodePath,h=l.decodePath;function f(){var t=h(D());return u&&m(t,u),b(t)}var g=w();function S(t){o(U,t),U.length=e.length,g.notifyListeners(U.location,U.action)}var k=!1,E=null;function T(){var t,e,n=D(),r=c(n);if(n!==r)M(r);else{var o=f(),a=U.location;if(!k&&(o,a.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(E===v(o))return;null,function(t){if(k)!1,S();else{var e="POP";g.confirmTransitionTo(t,e,i,(function(n){n?S({action:e,location:t}):function(t){var e=U.location,n=R.lastIndexOf(v(e));-1===n&&0;var r=R.lastIndexOf(v(t));-1===r&&0;var i=n-r;i&&(!0,L(i))}(t)}))}}(o)}}var P=D(),N=c(P);P!==N&&M(N);var O=f(),R=[v(O)];function L(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?window.addEventListener(I,T):0===F&&window.removeEventListener(I,T)}var V=!1;var U={length:e.length,action:"POP",location:O,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&A(window.location.href),n+"#"+c(u+v(t))},push:function(t,e){var n="PUSH",r=b(t,void 0,void 0,U.location);g.confirmTransitionTo(r,n,i,(function(t){if(t){var e=v(r),i=c(u+e);if(D()!==i){e,function(t){window.location.hash=t}(i);var o=R.lastIndexOf(v(U.location)),a=R.slice(0,o+1);a.push(e),a,S({action:n,location:r})}else S()}}))},replace:function(t,e){var n="REPLACE",r=b(t,void 0,void 0,U.location);g.confirmTransitionTo(r,n,i,(function(t){if(t){var e=v(r),i=c(u+e);D()!==i&&(e,M(i));var o=R.indexOf(v(U.location));-1!==o&&(R[o]=e),S({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&!1;var e=g.setPrompt(t);return V||(j(1),!0),function(){return V&&(!1,j(-1)),e()}},listen:function(t){var e=g.appendListener(t);return j(1),function(){j(-1),e()}}};return U}function N(t,e,n){return Math.min(Math.max(t,e),n)}var O=n(7),R=n.n(O),L=1073741823,F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var j=t.createContext||function(e,n){var r,o,a="__create-react-context-"+function(){var t="__global_unique_id__";return F[t]=(F[t]||0)+1}()+"__",s=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}(e.props.value),e}i(e,t);var r=e.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,r=this.props.value,i=t.value;!function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}(r,i)?(e="function"===typeof n?n(r,i):L,0!==(e|=0)&&this.emitter.set(t.value,e)):e=0}},r.render=function(){return this.props.children},e}(t.Component);s.childContextTypes=((r={})[a]=R().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?L:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?L:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(t.Component);return u.contextTypes=((o={})[a]=R().object,o),{Provider:s,Consumer:u}};const V=j;var U=n(239),z=n.n(U);n(228);function B(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n(110);var W=function(t){var e=V();return e.displayName=t,e},q=W("Router"),H=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}i(n,e),n.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(q.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},n}(t.Component);t.Component;var K=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(t.Component);var G={},Y=1e4,X=0;function $(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(G[t])return G[t];var e=z().compile(t);return X<Y&&(G[t]=e,X++),e}(t)(e,{pretty:!0})}function Q(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(q.Consumer,null,(function(e){e||d(!1);var i=e.history,s=e.staticContext,u=a?i.push:i.replace,l=b(n?"string"===typeof r?$(r,n.params):o({},r,{pathname:$(r.pathname,n.params)}):r);return s?(u(l),null):t.createElement(K,{onMount:function(){u(l)},onUpdate:function(t,e){var n,r,i=b(e.to);n=i,r=o({},l,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&c(n.state,r.state)||u(l)},to:r})}))}var J={},Z=1e4,tt=0;function et(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=J[n]||(J[n]={});if(r[t])return r[t];var i=[],o={regexp:z()(t,i,e),keys:i};return tt<Z&&(r[t]=o,tt++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var c=u[0],h=u.slice(1),f=t===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var nt=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(q.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?et(r.pathname,e.props):n.match}),a=e.props,s=a.children,u=a.component,l=a.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(q.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?t.createElement(u,i):l?l(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function rt(t){return"/"===t.charAt(0)?t:"/"+t}function it(t,e){if(!t)return e;var n=rt(t);return 0!==e.pathname.indexOf(n)?e:o({},e,{pathname:e.pathname.substr(n.length)})}function ot(t){return"string"===typeof t?t:v(t)}function at(t){return function(){d(!1)}}function st(){}t.Component;var ut=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this;return t.createElement(q.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?et(a.pathname,o({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var lt=t.useContext;function ct(){return lt(q).location}var ht=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=T(t.props),t}return i(n,e),n.prototype.render=function(){return t.createElement(H,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ft=function(t,e){return"function"===typeof t?t(e):t},dt=function(t,e){return"string"===typeof t?b(t,null,null,e):t},pt=function(t){return t},gt=t.forwardRef;"undefined"===typeof gt&&(gt=pt);var mt=gt((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,s=B(e,["innerRef","navigate","onClick"]),u=s.target,l=o({},s,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||u&&"_self"!==u||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return l.ref=pt!==gt&&n||r,t.createElement("a",l)}));var yt=gt((function(e,n){var r=e.component,i=void 0===r?mt:r,a=e.replace,s=e.to,u=e.innerRef,l=B(e,["component","replace","to","innerRef"]);return t.createElement(q.Consumer,null,(function(e){e||d(!1);var r=e.history,c=dt(ft(s,e.location),e.location),h=c?r.createHref(c):"",f=o({},l,{href:h,navigate:function(){var t=ft(s,e.location);(a?r.replace:r.push)(t)}});return pt!==gt?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),vt=function(t){return t},bt=t.forwardRef;"undefined"===typeof bt&&(bt=vt);bt((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,u=e.activeStyle,l=e.className,c=e.exact,h=e.isActive,f=e.location,p=e.strict,g=e.style,m=e.to,y=e.innerRef,v=B(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return t.createElement(q.Consumer,null,(function(e){e||d(!1);var r=f||e.location,a=dt(ft(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?et(r.pathname,{path:w,exact:c,strict:p}):null,_=!!(h?h(x,r):x),S=_?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(l,s):l,k=_?o({},g,{},u):g,E=o({"aria-current":_&&i||null,className:S,style:k,to:a},v);return vt!==bt?E.ref=n||y:E.innerRef=y,t.createElement(yt,E)}))}));var wt=function(t,e){return wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},wt(t,e)};function xt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _t=function(){return _t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_t.apply(this,arguments)};function St(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Fg){o(Fg)}}function s(t){try{u(r.throw(t))}catch(Fg){o(Fg)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function kt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(Fg){s=[6,Fg],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Et(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function It(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ct=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},At={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ct(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Dt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&Mt(n)&&(t[n]=Dt(t[n],e[n]));return t}function Mt(t){return"__proto__"!==t}var Pt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function Nt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ot(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Fg){return!1}}var Rt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Lt.prototype.create),o}return xt(e,t),e}(Error),Lt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(Ft,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new Rt(i,s,r)},t}();var Ft=/\{\$([^}]+)}/g;function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function Vt(t,e){var n=new Ut(t,e);return n.subscribe.bind(n)}var Ut=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=zt),void 0===r.error&&(r.error=zt),void 0===r.complete&&(r.complete=zt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Fg){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(Fg){"undefined"!==typeof console&&console.error&&console.error(Fg)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function zt(){}function Bt(t){return t&&t._delegate?t._delegate:t}var Wt=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),qt="[DEFAULT]",Ht=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=qt);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Pt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(Fg){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=_t({identifier:qt,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(Fg){if(r)return null;throw Fg}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:qt})}catch(Fg){}try{for(var r=Et(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Tt(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(Fg){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=qt),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return St(this,void 0,void 0,(function(){var t;return kt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(It(It([],Tt(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Tt(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=qt),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?qt:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var l=Et(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=Tt(c.value,2),f=h[0],d=h[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(p){e={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Et(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===qt?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(xg){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:qt:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var Kt,Gt=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ht(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function Yt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Xt,$t=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Xt||(Xt={}));var Qt,Jt={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Zt=Xt.INFO,te=((Kt={})[Xt.DEBUG]="log",Kt[Xt.VERBOSE]="log",Kt[Xt.INFO]="info",Kt[Xt.WARN]="warn",Kt[Xt.ERROR]="error",Kt),ee=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=te[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Yt(["["+i+"]  "+t.name+":"],n))}},ne=function(){function t(t){this.name=t,this._logLevel=Zt,this._logHandler=ee,this._userLogHandler=null,$t.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Xt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?Jt[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Yt([this,Xt.DEBUG],t)),this._logHandler.apply(this,Yt([this,Xt.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Yt([this,Xt.VERBOSE],t)),this._logHandler.apply(this,Yt([this,Xt.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Yt([this,Xt.INFO],t)),this._logHandler.apply(this,Yt([this,Xt.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Yt([this,Xt.WARN],t)),this._logHandler.apply(this,Yt([this,Xt.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Yt([this,Xt.ERROR],t)),this._logHandler.apply(this,Yt([this,Xt.ERROR],t))},t}();function re(t){$t.forEach((function(e){e.setLogLevel(t)}))}var ie,oe=((Qt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Qt["bad-app-name"]="Illegal App name: '{$appName}",Qt["duplicate-app"]="Firebase App named '{$appName}' already exists",Qt["app-deleted"]="Firebase App named '{$appName}' already deleted",Qt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Qt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Qt),ae=new Lt("app","Firebase",oe),se="@firebase/app",ue="[DEFAULT]",le=((ie={})[se]="fire-core",ie["@firebase/analytics"]="fire-analytics",ie["@firebase/app-check"]="fire-app-check",ie["@firebase/auth"]="fire-auth",ie["@firebase/database"]="fire-rtdb",ie["@firebase/functions"]="fire-fn",ie["@firebase/installations"]="fire-iid",ie["@firebase/messaging"]="fire-fcm",ie["@firebase/performance"]="fire-perf",ie["@firebase/remote-config"]="fire-rc",ie["@firebase/storage"]="fire-gcs",ie["@firebase/firestore"]="fire-fst",ie["fire-js"]="fire-js",ie["firebase-wrapper"]="fire-js-all",ie),ce=new ne("@firebase/app"),he=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Dt(void 0,t),this.container=new Gt(e.name),this._addComponent(new Wt("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=ue),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ue),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(Fg){ce.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,Fg)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ae.create("app-deleted",{appName:this.name_})},t}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var fe="8.5.0";function de(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=ue);var a=o.name;if("string"!==typeof a||!a)throw ae.create("bad-app-name",{appName:String(a)});if(jt(e,a))throw ae.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=le[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ce.warn(u.join(" "))}o(new Wt(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:re,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw ae.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Jt[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:Xt[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=$t;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:fe,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!jt(e,t=t||ue))throw ae.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return ce.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[a])throw ae.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Dt(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,l=Object.keys(e);u<l.length;u++){var c=l[u];e[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}var pe=function t(){var e=de(he);return e.INTERNAL=_t(_t({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Dt(e,t)},createSubscribe:Vt,ErrorFactory:Lt,deepExtend:Dt}),e}(),ge=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ye=pe.initializeApp;pe.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ot()&&ce.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ye.apply(void 0,t)};var ve=pe;!function(t,e){t.INTERNAL.registerComponent(new Wt("platform-logger",(function(t){return new ge(t)}),"PRIVATE")),t.registerVersion(se,"0.6.21",e),t.registerVersion("fire-js","")}(ve);const be=ve;be.registerVersion("firebase","8.5.0","app");var we=function(t,e){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},we(t,e)};function xe(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _e,Se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ke=ke||{},Ee=Se||self;function Te(){}function Ie(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ce(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ae="closure_uid_"+(1e9*Math.random()>>>0),De=0;function Me(t,e,n){return t.call.apply(t.bind,arguments)}function Pe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ne(t,e,n){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Me:Pe).apply(null,arguments)}function Oe(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Re(){return Date.now()}function Le(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Fe(){this.j=this.j,this.i=this.i}Fe.prototype.j=!1,Fe.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Ae)&&t[Ae]||(t[Ae]=++De)})(this)},Fe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var je=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ve=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ue(t){return Array.prototype.concat.apply([],arguments)}function ze(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Be(t){return/^[\s\xa0]*$/.test(t)}var We,qe=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function He(t,e){return-1!=t.indexOf(e)}function Ke(t,e){return t<e?-1:t>e?1:0}t:{var Ge=Ee.navigator;if(Ge){var Ye=Ge.userAgent;if(Ye){We=Ye;break t}}We=""}function Xe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $e(t){var e={};for(var n in t)e[n]=t[n];return e}var Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Je(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Qe.length;o++)n=Qe[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ze(t){return Ze[" "](t),t}Ze[" "]=Te;var tn,en=He(We,"Opera"),nn=He(We,"Trident")||He(We,"MSIE"),rn=He(We,"Edge"),on=rn||nn,an=He(We,"Gecko")&&!(He(We.toLowerCase(),"webkit")&&!He(We,"Edge"))&&!(He(We,"Trident")||He(We,"MSIE"))&&!He(We,"Edge"),sn=He(We.toLowerCase(),"webkit")&&!He(We,"Edge");function un(){var t=Ee.document;return t?t.documentMode:void 0}t:{var ln="",cn=function(){var t=We;return an?/rv:([^\);]+)(\)|;)/.exec(t):rn?/Edge\/([\d\.]+)/.exec(t):nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):sn?/WebKit\/(\S+)/.exec(t):en?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(cn&&(ln=cn?cn[1]:""),nn){var hn=un();if(null!=hn&&hn>parseFloat(ln)){tn=String(hn);break t}}tn=ln}var fn,dn={};function pn(t){return function(t,e){var n=dn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=qe(String(tn)).split("."),r=qe(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ke(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ke(0==a[2].length,0==s[2].length)||Ke(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(Ee.document&&nn){var gn=un();fn=gn||(parseInt(tn,10)||void 0)}else fn=void 0;var mn=fn,yn=!nn||9<=Number(mn),vn=nn&&!pn("9"),bn=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ee.addEventListener("test",Te,e),Ee.removeEventListener("test",Te,e)}catch(n){}return t}();function wn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function xn(t,e){if(wn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(an){t:{try{Ze(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:_n[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}wn.prototype.b=function(){this.defaultPrevented=!0},Le(xn,wn);var _n={2:"touch",3:"pen",4:"mouse"};xn.prototype.b=function(){xn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Sn="closure_listenable_"+(1e6*Math.random()|0),kn=0;function En(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++kn,this.Y=this.Z=!1}function Tn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function In(t){this.src=t,this.a={},this.b=0}function Cn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=je(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function An(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}In.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=An(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new En(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Dn="closure_lm_"+(1e6*Math.random()|0),Mn={};function Pn(t,e,n,r,i){if(r&&r.once)return On(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pn(t,e[o],n,r,i);return null}return n=Bn(n),t&&t[Sn]?t.va(e,n,Ce(r)?!!r.capture:!!r,i):Nn(t,e,n,!1,r,i)}function Nn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ce(i)?!!i.capture:!!i;if(a&&!yn)return null;var s=Un(t);if(s||(t[Dn]=s=new In(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Vn,e=yn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function On(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)On(t,e[o],n,r,i);return null}return n=Bn(n),t&&t[Sn]?t.wa(e,n,Ce(r)?!!r.capture:!!r,i):Nn(t,e,n,!0,r,i)}function Rn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Rn(t,e[o],n,r,i);else r=Ce(r)?!!r.capture:!!r,n=Bn(n),t&&t[Sn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=An(o=t.a[e],n,r,i))&&(Tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Un(t))&&(e=t.a[e.toString()],t=-1,e&&(t=An(e,n,r,i)),(n=-1<t?e[t]:null)&&Ln(n))}function Ln(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Sn])Cn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Un(e))?(Cn(n,t),0==n.b&&(n.src=null,e[Dn]=null)):Tn(t)}}}function Fn(t){return t in Mn?Mn[t]:Mn[t]="on"+t}function jn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ln(t),n.call(r,e)}function Vn(t,e){if(t.Y)return!0;if(!yn){if(!e)t:{e=["window","event"];for(var n=Ee,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return jn(t,e=new xn(e,this))}return jn(t,new xn(e,this))}function Un(t){return(t=t[Dn])instanceof In?t:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(t){return"function"===typeof t?t:(t[zn]||(t[zn]=function(e){return t.handleEvent(e)}),t[zn])}function Wn(){Fe.call(this),this.c=new In(this),this.J=this,this.C=null}function qn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new wn(e,t);else if(e instanceof wn)e.target=e.target||t;else{var i=e;Je(e=new wn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Hn(a,r,!0,e)&&i}if(i=Hn(a=e.a=t,r,!0,e)&&i,i=Hn(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Hn(a=e.a=n[o],r,!1,e)&&i}function Hn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Cn(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Le(Wn,Fe),Wn.prototype[Sn]=!0,(_e=Wn.prototype).addEventListener=function(t,e,n,r){Pn(this,t,e,n,r)},_e.removeEventListener=function(t,e,n,r){Rn(this,t,e,n,r)},_e.G=function(){if(Wn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Tn(n[r]);delete e.a[t],e.b--}}this.C=null},_e.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_e.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Kn=Ee.JSON.stringify;function Gn(){this.b=this.a=null}var Yn,Xn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Qn}),(function(t){t.reset()}));function $n(){var t=er,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qn(){this.next=this.b=this.a=null}function Jn(t){Ee.setTimeout((function(){throw t}),0)}function Zn(t,e){Yn||function(){var t=Ee.Promise.resolve(void 0);Yn=function(){t.then(nr)}}(),tr||(Yn(),tr=!0),er.add(t,e)}Gn.prototype.add=function(t,e){var n=Xn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qn.prototype.reset=function(){this.next=this.b=this.a=null};var tr=!1,er=new Gn;function nr(){for(var t;t=$n();){try{t.a.call(t.b)}catch(n){Jn(n)}var e=Xn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}tr=!1}function rr(t,e){Wn.call(this),this.b=t||1,this.a=e||Ee,this.f=Ne(this.Za,this),this.g=Re()}function ir(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function or(t,e,n){if("function"===typeof t)n&&(t=Ne(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ne(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ee.setTimeout(t,e||0)}function ar(t){t.a=or((function(){t.a=null,t.c&&(t.c=!1,ar(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Le(rr,Wn),(_e=rr.prototype).aa=!1,_e.M=null,_e.Za=function(){if(this.aa){var t=Re()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qn(this,"tick"),this.aa&&(ir(this),this.start()))}},_e.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Re())},_e.G=function(){rr.X.G.call(this),ir(this),delete this.a};var sr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ar(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ee.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Fe);function ur(t){Fe.call(this),this.b=t,this.a={}}Le(ur,Fe);var lr=[];function cr(t,e,n,r){Array.isArray(n)||(n&&(lr[0]=n.toString()),n=lr);for(var i=0;i<n.length;i++){var o=Pn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function hr(t){Xe(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ln(t)}),t),t.a={}}function fr(){this.a=!0}function dr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Kn(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}ur.prototype.G=function(){ur.X.G.call(this),hr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fr.prototype.info=function(){};var pr={},gr=null;function mr(){return gr=gr||new Wn}function yr(t){wn.call(this,pr.Fa,t)}function vr(t){var e=mr();qn(e,new yr(e,t))}function br(t,e){wn.call(this,pr.STAT_EVENT,t),this.stat=e}function wr(t){var e=mr();qn(e,new br(e,t))}function xr(t){wn.call(this,pr.Ga,t)}function _r(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return Ee.setTimeout((function(){t()}),e)}pr.Fa="serverreachability",Le(yr,wn),pr.STAT_EVENT="statevent",Le(br,wn),pr.Ga="timingevent",Le(xr,wn);var Sr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},kr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Er(){}function Tr(t){var e;return(e=t.a)||(e=t.a={}),e}function Ir(){}Er.prototype.a=null;var Cr,Ar={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Dr(){wn.call(this,"d")}function Mr(){wn.call(this,"c")}function Pr(){}function Nr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ur(this),this.P=Or,t=on?125:void 0,this.R=new rr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Le(Dr,wn),Le(Mr,wn),Le(Pr,Er),Cr=new Pr;var Or=45e3,Rr={},Lr={};function Fr(t,e,n){t.H=1,t.i=oi(Zr(e)),t.j=n,t.I=!0,jr(t,null)}function jr(t,e){t.u=Re(),zr(t),t.l=Zr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vi(n.b,"t",r),t.D=0,t.a=fo(t.g,t.g.C?e:null),0<t.O&&(t.F=new sr(Ne(t.Ca,t,t.a),t.O)),cr(t.J,t.a,"readystatechange",t.Xa),e=t.B?$e(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),vr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Vr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ur(t,n);if(i==Lr){4==e&&(t.h=4,wr(14),r=!1),dr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Rr){t.h=4,wr(15),dr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}dr(t.c,t.f,i,null),Kr(t,i)}4==e&&0==n.length&&(t.h=1,wr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),io(e),e.F=!0,wr(11))):(dr(t.c,t.f,n,"[Invalid Chunked Response]"),Hr(t),qr(t))}function Ur(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Lr:(n=Number(e.substring(n,r)),isNaN(n)?Rr:(r+=1)+n>e.length?Lr:(e=e.substr(r,n),t.D=r+n,e))}function zr(t){t.T=Re()+t.P,Br(t,t.P)}function Br(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_r(Ne(t.Va,t),e)}function Wr(t){t.o&&(Ee.clearTimeout(t.o),t.o=null)}function qr(t){0==t.g.v||t.A||so(t.g,t)}function Hr(t){Wr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ir(t.R),hr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Kr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ei(n.b,t)))if(n.I=t.N,!t.C&&Ei(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Jp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ao(n),Xi(n)}ro(n),wr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_r(Ne(n.Sa,n),6e3));if(1>=ki(n.b)&&n.ea){try{n.ea()}catch(Jp){}n.ea=void 0}}else lo(n,11)}else if((t.C||n.a==t)&&ao(n),!Be(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(He(c,"spdy")||He(c,"quic")||He(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ti(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ii(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Re()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ho(u,u.C?u.ga:null,u.fa),d.C){Ii(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Wr(p),zr(p)),u.a=d}else no(u);0<n.g.length&&Ji(n)}else"stop"!=i[0]&&"close"!=i[0]||lo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?lo(n,7):Yi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);vr(4)}catch(Jp){}}function Gr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ie(t)||"string"===typeof t)Ve(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ie(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(Ie(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Yr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Yr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];$r(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)$r(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function $r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_e=Nr.prototype).setTimeout=function(t){this.P=t},_e.Xa=function(t){t=t.target;var e=this.F;e&&3==qi(t)?e.f():this.Ca(t)},_e.Ca=function(t){try{if(t==this.a)t:{var e=qi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!on&&!this.a.$())){this.A||4!=e||7==n||vr(8==n||0>=r?3:2),Wr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,wr(12),Hr(this),qr(this);break t}dr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Kr(this,u)}this.I?(Vr(this,e,o),on&&this.b&&3==e&&(cr(this.J,this.R,"tick",this.Wa),this.R.start())):(dr(this.c,this.f,o,null),Kr(this,o)),4==e&&Hr(this),this.b&&!this.A&&(4==e?so(this.g,this):(this.b=!1,zr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,wr(12)):(this.h=0,wr(13)),Hr(this),qr(this)}}}catch(l){}},_e.Wa=function(){if(this.a){var t=qi(this.a),e=this.a.$();this.D<e.length&&(Wr(this),Vr(this,t,e),this.b&&4!=t&&zr(this))}},_e.cancel=function(){this.A=!0,Hr(this)},_e.Va=function(){this.o=null;var t=Re();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(vr(3),wr(17)),Hr(this),this.h=2,qr(this)):Br(this,this.T-t)},(_e=Yr.prototype).K=function(){Xr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_e.L=function(){return Xr(this),this.a.concat()},_e.get=function(t,e){return $r(this.b,t)?this.b[t]:e},_e.set=function(t,e){$r(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_e.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Jr){this.a=void 0!==e?e:t.a,ti(this,t.f),this.j=t.j,ei(this,t.c),ni(this,t.h),this.g=t.g,e=t.b;var n=new pi;n.c=e.c,e.a&&(n.a=new Yr(e.a),n.b=e.b),ri(this,n),this.i=t.i}else t&&(n=String(t).match(Qr))?(this.a=!!e,ti(this,n[1]||"",!0),this.j=ai(n[2]||""),ei(this,n[3]||"",!0),ni(this,n[4]),this.g=ai(n[5]||"",!0),ri(this,n[6]||"",!0),this.i=ai(n[7]||"")):(this.a=!!e,this.b=new pi(null,this.a))}function Zr(t){return new Jr(t)}function ti(t,e,n){t.f=n?ai(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ei(t,e,n){t.c=n?ai(e,!0):e}function ni(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ri(t,e,n){e instanceof pi?(t.b=e,function(t,e){e&&!t.f&&(gi(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mi(this,e),vi(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=si(e,fi)),t.b=new pi(e,t.a))}function ii(t,e,n){t.b.set(e,n)}function oi(t){return ii(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Re()).toString(36)),t}function ai(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function si(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ui),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ui(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(si(e,li,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(si(e,li,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(si(n,"/"==n.charAt(0)?hi:ci,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",si(n,di)),t.join("")};var li=/[#\/\?@]/g,ci=/[#\?:]/g,hi=/[#\?]/g,fi=/[#\?@]/g,di=/#/g;function pi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gi(t){t.a||(t.a=new Yr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mi(t,e){gi(t),e=bi(t,e),$r(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$r((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xr(t)))}function yi(t,e){return gi(t),e=bi(t,e),$r(t.a.b,e)}function vi(t,e,n){mi(t,e),0<n.length&&(t.c=null,t.a.set(bi(t,e),ze(n)),t.b+=n.length)}function bi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_e=pi.prototype).add=function(t,e){gi(this),this.c=null,t=bi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_e.forEach=function(t,e){gi(this),this.a.forEach((function(n,r){Ve(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_e.L=function(){gi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_e.K=function(t){gi(this);var e=[];if("string"===typeof t)yi(this,t)&&(e=Ue(e,this.a.get(bi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ue(e,t[n])}return e},_e.set=function(t,e){return gi(this),this.c=null,yi(this,t=bi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_e.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var wi=function(t,e){this.b=t,this.a=e};function xi(t){this.g=t||_i,Ee.PerformanceNavigationTiming?t=0<(t=Ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Ee.ia&&Ee.ia.ya&&Ee.ia.ya()&&Ee.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _i=10;function Si(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ki(t){return t.b?1:t.a?t.a.size:0}function Ei(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ti(t,e){t.a?t.a.add(e):t.b=e}function Ii(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ci(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=xe(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ze(t.c)}function Ai(){}function Di(){this.a=new Ai}function Mi(t,e,n){var r=n||"";try{Gr(t,(function(t,n){var i=t;Ce(t)&&(i=Kn(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Fg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Fg}}function Pi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xi.prototype.cancel=function(){var t,e;if(this.c=Ci(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=xe(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ai.prototype.stringify=function(t){return Ee.JSON.stringify(t,void 0)},Ai.prototype.parse=function(t){return Ee.JSON.parse(t,void 0)};var Ni=Ee.JSON.parse;function Oi(t){Wn.call(this),this.headers=new Yr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ri,this.D=this.F=!1}Le(Oi,Wn);var Ri="",Li=/^https?$/i,Fi=["POST","PUT"];function ji(t){return"content-type"==t.toLowerCase()}function Vi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ui(t),Bi(t)}function Ui(t){t.u||(t.u=!0,qn(t,"complete"),qn(t,"error"))}function zi(t){if(t.b&&"undefined"!=typeof ke&&(!t.s[1]||4!=qi(t)||2!=t.W()))if(t.l&&4==qi(t))or(t.za,0,t);else if(qn(t,"readystatechange"),4==qi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Qr)[1]||null;if(!o&&Ee.self&&Ee.self.location){var a=Ee.self.location.protocol;o=a.substr(0,a.length-1)}i=!Li.test(o?o.toLowerCase():"")}e=i}if(e)qn(t,"complete"),qn(t,"success");else{t.h=6;try{var s=2<qi(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Ui(t)}}finally{Bi(t)}}}function Bi(t,e){if(t.a){Wi(t);var n=t.a,r=t.s[0]?Te:null;t.a=null,t.s=null,e||qn(t,"ready");try{n.onreadystatechange=r}catch(Fg){}}}function Wi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ee.clearTimeout(t.m),t.m=null)}function qi(t){return t.a?t.a.readyState:0}function Hi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Xe(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ii(t,e,n))}function Ki(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gi(t){this.pa=0,this.g=[],this.c=new fr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ki("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ki("baseRetryDelayMs",5e3,t),this.Ra=Ki("retryDelaySeedMs",1e4,t),this.Ma=Ki("forwardChannelMaxRetries",2,t),this.ma=Ki("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xi(t&&t.concurrentRequestLimit),this.ka=new Di,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yi(t){if($i(t),3==t.v){var e=t.R++,n=Zr(t.B);ii(n,"SID",t.J),ii(n,"RID",e),ii(n,"TYPE","terminate"),to(t,n),(e=new Nr(t,t.c,e,void 0)).H=2,e.i=oi(Zr(n)),n=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(n=Ee.navigator.sendBeacon(e.i.toString(),"")),!n&&Ee.Image&&((new Image).src=e.i,n=!0),n||(e.a=fo(e.g,null),e.a.ba(e.i)),e.u=Re(),zr(e)}co(t)}function Xi(t){t.a&&(io(t),t.a.cancel(),t.a=null)}function $i(t){Xi(t),t.j&&(Ee.clearTimeout(t.j),t.j=null),ao(t),t.b.cancel(),t.h&&("number"===typeof t.h&&Ee.clearTimeout(t.h),t.h=null)}function Qi(t,e){t.g.push(new wi(t.Oa++,e)),3==t.v&&Ji(t)}function Ji(t){Si(t.b)||t.h||(t.h=!0,Zn(t.Ba,t),t.u=0)}function Zi(t,e){var n;n=e?e.f:t.R++;var r=Zr(t.B);ii(r,"SID",t.J),ii(r,"RID",n),ii(r,"AID",t.P),to(t,r),t.i&&t.l&&Hi(r,t.i,t.l),n=new Nr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=eo(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ti(t.b,n),Fr(n,r,e)}function to(t,e){t.f&&Gr({},(function(t,n){ii(e,n,t)}))}function eo(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ne(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Mi(c,a,"req"+l+"_")}catch(Ko){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function no(t){t.a||t.j||(t.T=1,Zn(t.Aa,t),t.o=0)}function ro(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=_r(Ne(t.Aa,t),uo(t,t.o)),t.o++,!0)}function io(t){null!=t.s&&(Ee.clearTimeout(t.s),t.s=null)}function oo(t){t.a=new Nr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Zr(t.la);ii(e,"RID","rpc"),ii(e,"SID",t.J),ii(e,"CI",t.H?"0":"1"),ii(e,"AID",t.P),to(t,e),ii(e,"TYPE","xmlhttp"),t.i&&t.l&&Hi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=oi(Zr(e)),n.j=null,n.I=!0,jr(n,t)}function ao(t){null!=t.m&&(Ee.clearTimeout(t.m),t.m=null)}function so(t,e){var n=null;if(t.a==e){ao(t),io(t),t.a=null;var r=2}else{if(!Ei(t.b,e))return;n=e.s,Ii(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Re()-e.u;var i=t.u;qn(r=mr(),new xr(r,n,e,i)),Ji(t)}else no(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ki(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=_r(Ne(t.Ba,t,e),uo(t,t.u)),t.u++,!0))}(t,e)||2==r&&ro(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:lo(t,5);break;case 4:lo(t,10);break;case 3:lo(t,6);break;default:lo(t,2)}}function uo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function lo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ne(t.Ya,t);n||(n=new Jr("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||ti(n,"https"),oi(n)),function(t,e){var n=new fr;if(Ee.Image){var r=new Image;r.onload=Oe(Pi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oe(Pi,n,r,"TestLoadImage: error",!1,e),r.onabort=Oe(Pi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oe(Pi,n,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else wr(2);t.v=0,t.f&&t.f.ra(e),co(t),$i(t)}function co(t){t.v=0,t.I=-1,t.f&&(0==Ci(t.b).length&&0==t.g.length||(t.b.c.length=0,ze(t.g),t.g.length=0),t.f.qa())}function ho(t,e,n){var r=function(t){return t instanceof Jr?Zr(t):new Jr(t,void 0)}(n);if(""!=r.c)e&&ei(r,e+"."+r.c),ni(r,r.h);else{var i=Ee.location;r=function(t,e,n,r){var i=new Jr(null,void 0);return t&&ti(i,t),e&&ei(i,e),n&&ni(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Xe(t.V,(function(t,e){ii(r,e,t)})),e=t.A,n=t.na,e&&n&&ii(r,e,n),ii(r,"VER",t.ha),to(t,r),r}function fo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oi(t.Na)).F=t.C,e}function po(){}function go(){if(nn&&!(10<=Number(mn)))throw Error("Environmental error: no available transport.")}function mo(t,e){Wn.call(this),this.a=new Gi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Be(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new bo(this)}function yo(t){Dr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function vo(){Mr.call(this),this.status=1}function bo(t){this.a=t}(_e=Oi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Tr(this.H):Tr(Cr),this.a.onreadystatechange=Ne(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Vi(this,o)}t=n||"";var i=new Yr(this.headers);r&&Gr(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ji,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=Ee.FormData&&t instanceof Ee.FormData,!(0<=je(Fi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Wi(this),0<this.o&&((this.D=function(t){return nn&&pn(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ne(this.xa,this)):this.m=or(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Vi(this,o)}},_e.xa=function(){"undefined"!=typeof ke&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qn(this,"timeout"),this.abort(8))},_e.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qn(this,"complete"),qn(this,"abort"),Bi(this))},_e.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bi(this,!0)),Oi.X.G.call(this)},_e.za=function(){this.j||(this.A||this.l||this.g?zi(this):this.Ua())},_e.Ua=function(){zi(this)},_e.W=function(){try{return 2<qi(this)?this.a.status:-1}catch(t){return-1}},_e.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},_e.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ni(e)}},_e.ua=function(){return this.h},_e.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(_e=Gi.prototype).ha=8,_e.v=1,_e.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Nr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Je(r=$e(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=eo(this,n,e),ii(i=Zr(this.B),"RID",t),ii(i,"CVER",22),this.A&&ii(i,"X-HTTP-Session-Id",this.A),to(this,i),this.i&&r&&Hi(i,this.i,r),Ti(this.b,n),this.Ia&&ii(i,"TYPE","init"),this.da?(ii(i,"$req",e),ii(i,"SID","null"),n.U=!0,Fr(n,i,null)):Fr(n,i,e),this.v=2}}else 3==this.v&&(t?Zi(this,t):0==this.g.length||Si(this.b)||Zi(this))},_e.Aa=function(){if(this.j=null,oo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=_r(Ne(this.Ta,this),t)}},_e.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,wr(10),Xi(this),oo(this))},_e.Sa=function(){null!=this.m&&(this.m=null,Xi(this),ro(this),wr(19))},_e.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),wr(2)):(this.c.info("Failed to ping google.com"),wr(1))},(_e=po.prototype).ta=function(){},_e.sa=function(){},_e.ra=function(){},_e.qa=function(){},_e.Ja=function(){},go.prototype.a=function(t,e){return new mo(t,e)},Le(mo,Wn),mo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;wr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ho(t,null,t.fa),Ji(t)},mo.prototype.close=function(){Yi(this.a)},mo.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Qi(this.a,e)}else this.l?((e={}).__data__=Kn(t),Qi(this.a,e)):Qi(this.a,t)},mo.prototype.G=function(){this.a.f=null,delete this.f,Yi(this.a),delete this.a,mo.X.G.call(this)},Le(yo,Dr),Le(vo,Mr),Le(bo,po),bo.prototype.ta=function(){qn(this.a,"a")},bo.prototype.sa=function(t){qn(this.a,new yo(t))},bo.prototype.ra=function(t){qn(this.a,new vo(t))},bo.prototype.qa=function(){qn(this.a,"b")},go.prototype.createWebChannel=go.prototype.a,mo.prototype.send=mo.prototype.h,mo.prototype.open=mo.prototype.g,mo.prototype.close=mo.prototype.close,Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,kr.COMPLETE="complete",Ir.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Wn.prototype.listen=Wn.prototype.va,Oi.prototype.listenOnce=Oi.prototype.wa,Oi.prototype.getLastError=Oi.prototype.Qa,Oi.prototype.getLastErrorCode=Oi.prototype.ua,Oi.prototype.getStatus=Oi.prototype.W,Oi.prototype.getResponseJson=Oi.prototype.Pa,Oi.prototype.getResponseText=Oi.prototype.$,Oi.prototype.send=Oi.prototype.ba;var wo=function(){return new go},xo=function(){return mr()},_o=Sr,So=kr,ko=pr,Eo={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},To=Ir,Io=Oi;var Co=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Co.o=-1;var Ao={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Do=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return xt(e,t),e}(Error),Mo=new ne("@firebase/firestore");function Po(){return Mo.logLevel}function No(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mo.logLevel<=Xt.DEBUG){var r=e.map(Lo);Mo.debug.apply(Mo,It(["Firestore (8.5.0): "+t],r))}}function Oo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mo.logLevel<=Xt.ERROR){var r=e.map(Lo);Mo.error.apply(Mo,It(["Firestore (8.5.0): "+t],r))}}function Ro(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mo.logLevel<=Xt.WARN){var r=e.map(Lo);Mo.warn.apply(Mo,It(["Firestore (8.5.0): "+t],r))}}function Lo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Fo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Oo(e),new Error(e)}function jo(t,e){t||Fo()}function Vo(t,e){return t}function Uo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zo=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62),n="";n.length<20;)for(var r=Uo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62));return n},t}();function Bo(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qo(t){return t+"\0"}var Ho=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Do(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Do(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Do(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Do(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Bo(this.nanoseconds,t.nanoseconds):Bo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ko=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ho(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Go(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $o=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fo(),void 0===n?n=t.length-e:n>t.length-e&&Fo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Do(Ao.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}($o),Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Jo.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Do(Ao.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Do(Ao.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Do(Ao.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Do(Ao.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}($o),ta=function(){function t(t){this.fields=t,t.sort(Zo.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Wo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ea=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Bo(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ea.EMPTY_BYTE_STRING=new ea("");var na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(jo(!!t),"string"==typeof t){var e=0,n=na.exec(t);if(jo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ia(t.seconds),nanos:ia(t.nanos)}}function ia(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oa(t){return"string"==typeof t?ea.fromBase64String(t):ea.fromUint8Array(t)}function aa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sa(t){var e=t.mapValue.fields.__previous_value__;return aa(e)?sa(e):e}function ua(t){var e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Ho(e.seconds,e.nanos)}function la(t){return null==t}function ca(t){return 0===t&&1/t==-1/0}function ha(t){return"number"==typeof t&&Number.isInteger(t)&&!ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fa=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Qo.fromString(e))},t.fromName=function(e){return new t(Qo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Qo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Qo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Qo(e.slice()))},t}();function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aa(t)?4:10:Fo()}function pa(t,e){var n=da(t);if(n!==da(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ra(t.timestampValue),r=ra(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return oa(t.bytesValue).isEqual(oa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ia(t.geoPointValue.latitude)===ia(e.geoPointValue.latitude)&&ia(t.geoPointValue.longitude)===ia(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ia(t.integerValue)===ia(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ia(t.doubleValue),r=ia(e.doubleValue);return n===r?ca(n)===ca(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Go(n)!==Go(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pa(n[i],r[i])))return!1;return!0}(t,e);default:return Fo()}}function ga(t,e){return void 0!==(t.values||[]).find((function(t){return pa(t,e)}))}function ma(t,e){var n=da(t),r=da(e);if(n!==r)return Bo(n,r);switch(n){case 0:return 0;case 1:return Bo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ia(t.integerValue||t.doubleValue),r=ia(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ya(t.timestampValue,e.timestampValue);case 4:return ya(ua(t),ua(e));case 5:return Bo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=oa(t),r=oa(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Bo(n[i],r[i]);if(0!==o)return o}return Bo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Bo(ia(t.latitude),ia(e.latitude));return 0!==n?n:Bo(ia(t.longitude),ia(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ma(n[i],r[i]);if(o)return o}return Bo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Bo(r[a],o[a]);if(0!==s)return s;var u=ma(n[r[a]],i[o[a]]);if(0!==u)return u}return Bo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Fo()}}function ya(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Bo(t,e);var n=ra(t),r=ra(e),i=Bo(n.seconds,r.seconds);return 0!==i?i:Bo(n.nanos,r.nanos)}function va(t){return ba(t)}function ba(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ra(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,fa.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ba(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ba(t.fields[o])}return e+"}"}(t.mapValue):Fo();var e,n}function wa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function xa(t){return!!t&&"integerValue"in t}function _a(t){return!!t&&"arrayValue"in t}function Sa(t){return!!t&&"nullValue"in t}function ka(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ea(t){return!!t&&"mapValue"in t}var Ta=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Zo.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return pa(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===da(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Ea(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Zo.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Ea(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Ia(t){var e=[];return Yo(t.fields||{},(function(t,n){var r=new Zo([t]);if(Ea(n)){var i=Ia(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ta(e)}var Ca=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ko.min(),Ta.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ta.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ta.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ta.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ta.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Aa=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Da(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Aa(t,e,n,r,i,o,a)}function Ma(t){var e=Vo(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+va(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),la(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qa(e.startAt)),e.endAt&&(n+="|ub:",n+=qa(e.endAt)),e.h=n}return e.h}function Pa(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ka(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!pa(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ya(t.startAt,e.startAt)&&Ya(t.endAt,e.endAt)}function Na(t){return fa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Oa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return xt(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ra(t,n,r):"array-contains"===n?new Va(t,r):"in"===n?new Ua(t,r):"not-in"===n?new za(t,r):"array-contains-any"===n?new Ba(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new La(t,n):new Fa(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ma(e,this.value)):null!==e&&da(this.value)===da(e)&&this.m(ma(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ra=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=fa.fromName(r.referenceValue),i}return xt(e,t),e.prototype.matches=function(t){var e=fa.comparator(t.key,this.key);return this.m(e)},e}(Oa),La=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ja("in",n),r}return xt(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Oa),Fa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ja("not-in",n),r}return xt(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Oa);function ja(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return fa.fromName(t.referenceValue)}))}var Va=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return xt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return _a(e)&&ga(e.arrayValue,this.value)},e}(Oa),Ua=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return xt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ga(this.value.arrayValue,e)},e}(Oa),za=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return xt(e,t),e.prototype.matches=function(t){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ga(this.value.arrayValue,e)},e}(Oa),Ba=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return xt(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!_a(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ga(e.value.arrayValue,t)}))},e}(Oa),Wa=function(t,e){this.position=t,this.before=e};function qa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return va(t)})).join(",")}var Ha=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ka(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ga(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?fa.comparator(fa.fromName(a.referenceValue),n.key):ma(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ya(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pa(t.position[n],e.position[n]))return!1;return!0}var Xa=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function $a(t,e,n,r,i,o,a,s){return new Xa(t,e,n,r,i,o,a,s)}function Qa(t){return new Xa(t)}function Ja(t){return!la(t.limit)&&"F"===t.limitType}function Za(t){return!la(t.limit)&&"L"===t.limitType}function ts(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function es(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ns(t){return null!==t.collectionGroup}function rs(t){var e=Vo(t);if(null===e.p){e.p=[];var n=es(e),r=ts(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ha(n)),e.p.push(new Ha(Zo.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ha(Zo.keyField(),u))}}}return e.p}function is(t){var e=Vo(t);if(!e.T)if("F"===e.limitType)e.T=Da(e.path,e.collectionGroup,rs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=rs(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ha(o.field,a))}var s=e.endAt?new Wa(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Wa(e.startAt.position,!e.startAt.before):null;e.T=Da(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function os(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function as(t,e){return Pa(is(t),is(e))&&t.limitType===e.limitType}function ss(t){return Ma(is(t))+"|lt:"+t.limitType}function us(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+va(e.value);var e})).join(", ")+"]"),la(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qa(t.startAt)),t.endAt&&(e+=", endAt: "+qa(t.endAt)),"Target("+e+")"}(is(t))+"; limitType="+t.limitType+")"}function ls(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):fa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ga(t.startAt,rs(t),e))&&(!t.endAt||!Ga(t.endAt,rs(t),e))}(t,e)}function cs(t){return function(e,n){for(var r=!1,i=0,o=rs(t);i<o.length;i++){var a=o[i],s=hs(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function hs(t,e,n){var r=t.field.isKeyField()?fa.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ma(r,i):Fo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fo()}}function fs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function ds(t){return{integerValue:""+t}}function ps(t,e){return ha(e)?ds(e):fs(t,e)}var gs=function(){this._=void 0};function ms(t,e,n){return t instanceof bs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ws?xs(t,e):t instanceof _s?Ss(t,e):function(t,e){var n=vs(t,e),r=Es(n)+Es(t.A);return xa(n)&&xa(t.A)?ds(r):fs(t.R,r)}(t,e)}function ys(t,e,n){return t instanceof ws?xs(t,e):t instanceof _s?Ss(t,e):n}function vs(t,e){return t instanceof ks?xa(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e}(gs),ws=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return xt(e,t),e}(gs);function xs(t,e){for(var n=Ts(e),r=function(t){n.some((function(e){return pa(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _s=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return xt(e,t),e}(gs);function Ss(t,e){for(var n=Ts(e),r=function(t){n=n.filter((function(e){return!pa(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ks=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return xt(e,t),e}(gs);function Es(t){return ia(t.integerValue||t.doubleValue)}function Ts(t){return _a(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Is=function(t,e){this.field=t,this.transform=e},Cs=function(t,e){this.version=t,this.transformResults=e},As=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ds(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ms=function(){};function Ps(t,e,n){t instanceof Fs?function(t,e,n){var r=t.value.clone(),i=Us(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof js?function(t,e,n){if(Ds(t.precondition,e)){var r=Us(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Vs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ns(t,e,n){t instanceof Fs?function(t,e,n){if(Ds(t.precondition,e)){var r=t.value.clone(),i=zs(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ls(e),r).setHasLocalMutations()}}(t,e,n):t instanceof js?function(t,e,n){if(Ds(t.precondition,e)){var r=zs(t.fieldTransforms,n,e),i=e.data;i.setAll(Vs(t)),i.setAll(r),e.convertToFoundDocument(Ls(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ds(t.precondition,e)&&e.convertToNoDocument(Ko.min())}(t,e)}function Os(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=vs(o.transform,a||null);null!=s&&(null==n&&(n=Ta.empty()),n.set(o.field,s))}return n||null}function Rs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Wo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ws&&e instanceof ws||t instanceof _s&&e instanceof _s?Wo(t.elements,e.elements,pa):t instanceof ks&&e instanceof ks?pa(t.A,e.A):t instanceof bs&&e instanceof bs}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ls(t){return t.isFoundDocument()?t.version:Ko.min()}var Fs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return xt(e,t),e}(Ms),js=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return xt(e,t),e}(Ms);function Vs(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Us(t,e,n){var r=new Map;jo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ys(a,s,n[i]))}return r}function zs(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ms(s,u,e))}return r}var Bs,Ws,qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return xt(e,t),e}(Ms),Hs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return xt(e,t),e}(Ms),Ks=function(t){this.count=t};function Gs(t){switch(t){case Ao.OK:return Fo();case Ao.CANCELLED:case Ao.UNKNOWN:case Ao.DEADLINE_EXCEEDED:case Ao.RESOURCE_EXHAUSTED:case Ao.INTERNAL:case Ao.UNAVAILABLE:case Ao.UNAUTHENTICATED:return!1;case Ao.INVALID_ARGUMENT:case Ao.NOT_FOUND:case Ao.ALREADY_EXISTS:case Ao.PERMISSION_DENIED:case Ao.FAILED_PRECONDITION:case Ao.ABORTED:case Ao.OUT_OF_RANGE:case Ao.UNIMPLEMENTED:case Ao.DATA_LOSS:return!0;default:return Fo()}}function Ys(t){if(void 0===t)return Oo("GRPC error has no .code"),Ao.UNKNOWN;switch(t){case Bs.OK:return Ao.OK;case Bs.CANCELLED:return Ao.CANCELLED;case Bs.UNKNOWN:return Ao.UNKNOWN;case Bs.DEADLINE_EXCEEDED:return Ao.DEADLINE_EXCEEDED;case Bs.RESOURCE_EXHAUSTED:return Ao.RESOURCE_EXHAUSTED;case Bs.INTERNAL:return Ao.INTERNAL;case Bs.UNAVAILABLE:return Ao.UNAVAILABLE;case Bs.UNAUTHENTICATED:return Ao.UNAUTHENTICATED;case Bs.INVALID_ARGUMENT:return Ao.INVALID_ARGUMENT;case Bs.NOT_FOUND:return Ao.NOT_FOUND;case Bs.ALREADY_EXISTS:return Ao.ALREADY_EXISTS;case Bs.PERMISSION_DENIED:return Ao.PERMISSION_DENIED;case Bs.FAILED_PRECONDITION:return Ao.FAILED_PRECONDITION;case Bs.ABORTED:return Ao.ABORTED;case Bs.OUT_OF_RANGE:return Ao.OUT_OF_RANGE;case Bs.UNIMPLEMENTED:return Ao.UNIMPLEMENTED;case Bs.DATA_LOSS:return Ao.DATA_LOSS;default:return Fo()}}(Ws=Bs||(Bs={}))[Ws.OK=0]="OK",Ws[Ws.CANCELLED=1]="CANCELLED",Ws[Ws.UNKNOWN=2]="UNKNOWN",Ws[Ws.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ws[Ws.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ws[Ws.NOT_FOUND=5]="NOT_FOUND",Ws[Ws.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ws[Ws.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ws[Ws.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ws[Ws.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ws[Ws.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ws[Ws.ABORTED=10]="ABORTED",Ws[Ws.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ws[Ws.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ws[Ws.INTERNAL=13]="INTERNAL",Ws[Ws.UNAVAILABLE=14]="UNAVAILABLE",Ws[Ws.DATA_LOSS=15]="DATA_LOSS";var Xs=function(){function t(t,e){this.comparator=t,this.root=e||Qs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new $s(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new $s(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new $s(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new $s(this.root,t,this.comparator,!0)},t}(),$s=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Qs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fo();if(this.right.isRed())throw Fo();var t=this.left.check();if(t!==this.right.check())throw Fo();return t+(this.isRed()?0:1)},t}();Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Qs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Js=function(){function t(t){this.comparator=t,this.data=new Xs(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Zs(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Zs(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Zs=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),tu=new Xs(fa.comparator);function eu(){return tu}var nu=new Xs(fa.comparator);function ru(){return nu}var iu=new Xs(fa.comparator);function ou(){return iu}var au=new Js(fa.comparator);function su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=au,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uu=new Js(Bo);function lu(){return uu}var cu=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ko.min(),r,lu(),eu(),su())},t}(),hu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ea.EMPTY_BYTE_STRING,n,su(),su(),su())},t}(),fu=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},du=function(t,e){this.targetId=t,this.V=e},pu=function(t,e,n,r){void 0===n&&(n=ea.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},gu=function(){function t(){this.S=0,this.D=vu(),this.C=ea.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=su(),e=su(),n=su();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fo()}})),new hu(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=vu()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),mu=function(){function t(t){this.W=t,this.G=new Map,this.H=eu(),this.J=yu(),this.Y=new Js(Bo)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Fo()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Na(i))if(0===n){var o=new fa(i.path);this.tt(e,o,Ca.newNoDocument(o,Ko.min()))}else jo(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Na(o.target)){var a=new fa(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ca.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=su();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new cu(t,n,this.Y,this.H,r);return this.H=eu(),this.J=yu(),this.Y=new Js(Bo),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new gu,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Js(Bo),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||No("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new gu),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function yu(){return new Xs(fa.comparator)}function vu(){return new Xs(fa.comparator)}var bu={asc:"ASCENDING",desc:"DESCENDING"},wu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xu=function(t,e){this.databaseId=t,this.I=e};function _u(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Su(t,e){return t.I?e.toBase64():e.toUint8Array()}function ku(t,e){return _u(t,e.toTimestamp())}function Eu(t){return jo(!!t),Ko.fromTimestamp(function(t){var e=ra(t);return new Ho(e.seconds,e.nanos)}(t))}function Tu(t,e){return function(t){return new Qo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Iu(t){var e=Qo.fromString(t);return jo(Qu(e)),e}function Cu(t,e){return Tu(t.databaseId,e.path)}function Au(t,e){var n=Iu(e);if(n.get(1)!==t.databaseId.projectId)throw new Do(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Do(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fa(Nu(n))}function Du(t,e){return Tu(t.databaseId,e)}function Mu(t){var e=Iu(t);return 4===e.length?Qo.emptyPath():Nu(e)}function Pu(t){return new Qo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nu(t){return jo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ou(t,e,n){return{name:Cu(t,e),fields:n.toProto().mapValue.fields}}function Ru(t,e,n){var r=Au(t,e.name),i=Eu(e.updateTime),o=new Ta({mapValue:{fields:e.fields}}),a=Ca.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Lu(t,e){var n;if(e instanceof Fs)n={update:Ou(t,e.key,e.value)};else if(e instanceof qs)n={delete:Cu(t,e.key)};else if(e instanceof js)n={update:Ou(t,e.key,e.data),updateMask:$u(e.fieldMask)};else{if(!(e instanceof Hs))return Fo();n={verify:Cu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof bs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ws)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _s)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ks)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fo()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ku(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fo()}(t,e.precondition)),n}function Fu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?As.updateTime(Eu(t.updateTime)):void 0!==t.exists?As.exists(t.exists):As.none()}(e.currentDocument):As.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)jo("REQUEST_TIME"===e.setToServerValue),n=new bs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ws(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new _s(i)}else"increment"in e?n=new ks(t,e.increment):Fo();var o=Zo.fromServerFormat(e.fieldPath);return new Is(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Au(t,e.update.name),o=new Ta({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new ta(e.map((function(t){return Zo.fromServerFormat(t)})))}(e.updateMask);return new js(i,o,a,n,r)}return new Fs(i,o,n,r)}if(e.delete){var s=Au(t,e.delete);return new qs(s,n)}if(e.verify){var u=Au(t,e.verify);return new Hs(u,n)}return Fo()}function ju(t,e){return{documents:[Du(t,e.path)]}}function Vu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Du(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Du(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(ka(t.value))return{unaryFilter:{field:Ku(t.field),op:"IS_NAN"}};if(Sa(t.value))return{unaryFilter:{field:Ku(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ka(t.value))return{unaryFilter:{field:Ku(t.field),op:"IS_NOT_NAN"}};if(Sa(t.value))return{unaryFilter:{field:Ku(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(t.field),op:Hu(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ku(t.field),direction:qu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||la(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Bu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bu(e.endAt)),n}function Uu(t){var e=Mu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=zu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Ha(Gu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return la(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Wu(n.startAt));var c=null;return n.endAt&&(c=Wu(n.endAt)),$a(e,i,s,a,u,"F",l,c)}function zu(t){return t?void 0!==t.unaryFilter?[Xu(t)]:void 0!==t.fieldFilter?[Yu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return zu(t)})).reduce((function(t,e){return t.concat(e)})):Fo():[]}function Bu(t){return{before:t.before,values:t.position}}function Wu(t){var e=!!t.before,n=t.values||[];return new Wa(n,e)}function qu(t){return bu[t]}function Hu(t){return wu[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Gu(t){return Zo.fromServerFormat(t.fieldPath)}function Yu(t){return Oa.create(Gu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fo()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Gu(t.unaryFilter.field);return Oa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Gu(t.unaryFilter.field);return Oa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gu(t.unaryFilter.field);return Oa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gu(t.unaryFilter.field);return Oa.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fo()}}function $u(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Qu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ju(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tl(e)),e=Zu(t.get(n),e);return tl(e)}function Zu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tl(t){return t+"\x01\x01"}function el(t){var e=t.length;if(jo(e>=2),2===e)return jo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Qo.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Fo(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Fo()}o=a+2}return new Qo(r)}var nl=function(t,e){this.seconds=t,this.nanoseconds=e},rl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};rl.store="owner",rl.key="owner";var il=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};il.store="mutationQueues",il.keyPath="userId";var ol=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ol.store="mutations",ol.keyPath="batchId",ol.userMutationsIndex="userMutationsIndex",ol.userMutationsKeyPath=["userId","batchId"];var al=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ju(e)]},t.key=function(t,e,n){return[t,Ju(e),n]},t}();al.store="documentMutations",al.PLACEHOLDER=new al;var sl=function(t,e){this.path=t,this.readTime=e},ul=function(t,e){this.path=t,this.version=e},ll=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ll.store="remoteDocuments",ll.readTimeIndex="readTimeIndex",ll.readTimeIndexPath="readTime",ll.collectionReadTimeIndex="collectionReadTimeIndex",ll.collectionReadTimeIndexPath=["parentPath","readTime"];var cl=function(t){this.byteSize=t};cl.store="remoteDocumentGlobal",cl.key="remoteDocumentGlobalKey";var hl=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};hl.store="targets",hl.keyPath="targetId",hl.queryTargetsIndexName="queryTargetsIndex",hl.queryTargetsKeyPath=["canonicalId","targetId"];var fl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};fl.store="targetDocuments",fl.keyPath=["targetId","path"],fl.documentTargetsIndex="documentTargetsIndex",fl.documentTargetsKeyPath=["path","targetId"];var dl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};dl.key="targetGlobalKey",dl.store="targetGlobal";var pl=function(t,e){this.collectionId=t,this.parent=e};pl.store="collectionParents",pl.keyPath=["collectionId","parent"];var gl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};gl.store="clientMetadata",gl.keyPath="clientId";var ml=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ml.store="bundles",ml.keyPath="bundleId";var yl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};yl.store="namedQueries",yl.keyPath="name";var vl=It(It([],It(It([],It(It([],It(It([],[il.store,ol.store,al.store,ll.store,hl.store,rl.store,dl.store,fl.store]),[gl.store])),[cl.store])),[pl.store])),[ml.store,yl.store]),bl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wl=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),xl=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},_l=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Fo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Sl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new xl,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Tl(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ml(e.target.error);n.ft.reject(new Tl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Tl(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(No("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cl(e)},t}(),kl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Nt())&&Oo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return No("SimpleDb","Removing database:",t),Al(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Nt(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"/Holiday_Weather_Advisor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return St(this,void 0,void 0,(function(){var e,n=this;return kt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(No("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Tl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Do(Ao.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Tl(t,n))},i.onupgradeneeded=function(t){No("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){No("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o,a,s,u;return kt(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,l,c;return kt(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Sl.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),_l.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return l=h.sent(),c="FirebaseError"!==l.name&&o<3,No("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),El=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Al(this.Pt.delete())},t}(),Tl=function(t){function e(e,n){var r=this;return(r=t.call(this,Ao.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return xt(e,t),e}(Do);function Il(t){return"IndexedDbTransactionError"===t.name}var Cl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(No("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(No("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Al(n)},t.prototype.add=function(t){return No("SimpleDb","ADD",this.store.name,t,t),Al(this.store.add(t))},t.prototype.get=function(t){var e=this;return Al(this.store.get(t)).next((function(n){return void 0===n&&(n=null),No("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return No("SimpleDb","DELETE",this.store.name,t),Al(this.store.delete(t))},t.prototype.count=function(){return No("SimpleDb","COUNT",this.store.name),Al(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){No("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new _l((function(n,r){e.onerror=function(t){var e=Ml(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new _l((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new El(i),a=e(i.primaryKey,i.value,o);if(a instanceof _l){var s=a.catch((function(t){return o.done(),_l.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _l.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Al(t){return new _l((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ml(t.target.error);n(e)}}))}var Dl=!1;function Ml(t){var e=kl._t(Nt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Do("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dl||(Dl=!0,setTimeout((function(){throw r}),0)),r}}return t}var Pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return xt(e,t),e}(wl);function Nl(t,e){var n=Vo(t);return kl.It(n.Mt,e)}var Ol=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ps(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ns(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ns(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ko.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),su())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,(function(t,e){return Rs(t,e)}))&&Wo(this.baseMutations,t.baseMutations,(function(t,e){return Rs(t,e)}))},t}(),Rl=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){jo(e.mutations.length===r.length);for(var i=ou(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ll=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ko.min()),void 0===o&&(o=Ko.min()),void 0===a&&(a=ea.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Fl=function(t){this.Lt=t};function jl(t,e){if(e.document)return Ru(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=fa.fromSegments(e.noDocument.path),r=Wl(e.noDocument.readTime),i=Ca.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=fa.fromSegments(e.unknownDocument.path);return r=Wl(e.unknownDocument.version),Ca.newUnknownDocument(o,r)}return Fo()}function Vl(t,e,n){var r=Ul(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Cu(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:_u(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new ll(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Bl(e.version);return a=e.hasCommittedMutations,new ll(null,new sl(s,u),null,a,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=Bl(e.version);return new ll(new ul(l,c),null,null,!0,r,i)}return Fo()}function Ul(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function zl(t){var e=new Ho(t[0],t[1]);return Ko.fromTimestamp(e)}function Bl(t){var e=t.toTimestamp();return new nl(e.seconds,e.nanoseconds)}function Wl(t){var e=new Ho(t.seconds,t.nanoseconds);return Ko.fromTimestamp(e)}function ql(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Fu(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Fu(t.Lt,e)})),s=Ho.fromMillis(e.localWriteTimeMs);return new Ol(e.batchId,s,n,a)}function Hl(t){var e,n,r=Wl(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wl(t.lastLimboFreeSnapshotVersion):Ko.min();return void 0!==t.query.documents?(jo(1===(n=t.query).documents.length),e=is(Qa(Mu(n.documents[0])))):e=function(t){return is(Uu(t))}(t.query),new Ll(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ea.fromBase64String(t.resumeToken))}function Kl(t,e){var n,r=Bl(e.snapshotVersion),i=Bl(e.lastLimboFreeSnapshotVersion);n=Na(e.target)?ju(t.Lt,e.target):Vu(t.Lt,e.target);var o=e.resumeToken.toBase64();return new hl(e.targetId,Ma(e.target),r,o,e.sequenceNumber,i,n)}function Gl(t){var e=Uu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?os(e,e.limit,"L"):e}var Yl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xl(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Wl(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Xl(t).put({bundleId:(n=e).id,createTime:Bl(Eu(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return $l(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Gl(e.bundledQuery),readTime:Wl(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return $l(t).put(function(t){return{name:t.name,readTime:Bl(Eu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xl(t){return Nl(t,ml.store)}function $l(t){return Nl(t,yl.store)}var Ql=function(){function t(){this.Bt=new Jl}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),_l.resolve()},t.prototype.getCollectionParents=function(t,e){return _l.resolve(this.Bt.getEntries(e))},t}(),Jl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Js(Qo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Js(Qo.comparator)).toArray()},t}(),Zl=function(){function t(){this.qt=new Jl}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Ju(i)};return tc(t).put(o)}return _l.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qo(e),""],!1,!0);return tc(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(el(o.parent))}return n}))},t}();function tc(t){return Nl(t,pl.store)}var ec={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nc=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function rc(t,e,n){var r=t.store(ol.store),i=t.store(al.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){jo(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=al.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return _l.waitFor(o).next((function(){return l}))}function ic(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fo();e=t.noDocument}return JSON.stringify(e).length}nc.DEFAULT_COLLECTION_PERCENTILE=10,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nc.DEFAULT=new nc(41943040,nc.DEFAULT_COLLECTION_PERCENTILE,nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nc.DISABLED=new nc(-1,0,0);var oc=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return jo(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sc(t).Ot({index:ol.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=uc(t),a=sc(t);return a.add({}).next((function(s){jo("number"==typeof s);for(var u=new Ol(s,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return Lu(t.Lt,e)})),i=n.mutations.map((function(e){return Lu(t.Lt,e)}));return new ol(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new Js((function(t,e){return Bo(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=al.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),c.push(a.put(l)),c.push(o.put(g,al.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),_l.waitFor(c).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return sc(t).get(e).next((function(t){return t?(jo(t.userId===n.userId),ql(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?_l.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sc(t).Ot({index:ol.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(jo(e.batchId>=r),o=ql(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sc(t).Ot({index:ol.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sc(t).Nt(ol.userMutationsIndex,n).next((function(t){return t.map((function(t){return ql(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=al.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return uc(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=el(u);if(s===n.userId&&e.path.isEqual(c))return sc(t).get(l).next((function(t){if(!t)throw Fo();jo(t.userId===n.userId),o.push(ql(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Js(Bo),i=[];return e.forEach((function(e){var o=al.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=uc(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],l=el(s);a===n.userId&&e.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),_l.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=al.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Js(Bo);return uc(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],l=t[2],c=el(u);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(sc(t).get(e).next((function(t){if(null===t)throw Fo();jo(t.userId===n.userId),r.push(ql(n.R,t))})))})),_l.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return rc(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),_l.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return _l.resolve();var r=IDBKeyRange.lowerBound(al.prefixForUser(e.userId)),i=[];return uc(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=el(t[1]);i.push(o)}else r.done()})).next((function(){jo(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ac(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return lc(t).get(this.userId).next((function(t){return t||new il(e.userId,-1,"")}))},t}();function ac(t,e,n){var r=al.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return uc(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function sc(t){return Nl(t,ol.store)}function uc(t){return Nl(t,al.store)}function lc(t){return Nl(t,il.store)}var cc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),hc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new cc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Ko.fromTimestamp(new Ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return fc(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return jo(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return fc(t).Ot((function(a,s){var u=Hl(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return _l.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return fc(t).Ot((function(t,n){var r=Hl(n);e(r)}))},t.prototype.Xt=function(t){return dc(t).get(dl.key).next((function(t){return jo(null!==t),t}))},t.prototype.Zt=function(t,e){return dc(t).put(dl.key,e)},t.prototype.te=function(t,e){return fc(t).put(Kl(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ma(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fc(t).Ot({range:r,index:hl.queryTargetsIndexName},(function(t,n,r){var o=Hl(n);Pa(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=pc(t);return e.forEach((function(e){var a=Ju(e.path);i.push(o.put(new fl(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),_l.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pc(t);return _l.forEach(e,(function(e){var o=Ju(e.path);return _l.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pc(t),i=su();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=el(t[1]),o=new fa(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Ju(e.path),r=IDBKeyRange.bound([n],[qo(n)],!1,!0),i=0;return pc(t).Ot({index:fl.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return fc(t).get(e).next((function(t){return t?Hl(t):null}))},t}();function fc(t){return Nl(t,hl.store)}function dc(t){return Nl(t,dl.store)}function pc(t){return Nl(t,fl.store)}function gc(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){if(t.code!==Ao.FAILED_PRECONDITION||t.message!==bl)throw t;return No("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function mc(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Bo(n,i);return 0===a?Bo(r,o):a}var yc=function(){function t(t){this.ne=t,this.buffer=new Js(mc),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;No("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return St(e,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Il(e=n.sent())?(No("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),bc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return _l.resolve(Co.o);var r=new yc(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(No("LruGarbageCollector","Garbage collection skipped; disabled"),_l.resolve(ec)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(No("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ec):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(No("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Po()<=Xt.DEBUG&&No("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),_l.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),wc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new bc(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return xc(t,n)},t.prototype.removeReference=function(t,e,n){return xc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return xc(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return lc(t).$t((function(r){return ac(t,r,e).next((function(t){return t&&(n=!0),_l.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),pc(t).delete([0,Ju(a.path)])}))}));i.push(u)}})).next((function(){return _l.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return xc(t,e)},t.prototype.we=function(t,e){var n,r=pc(t),i=Co.o;return r.Ot({index:fl.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Co.o&&e(new fa(el(n)),i),i=s,n=a):i=Co.o})).next((function(){i!==Co.o&&e(new fa(el(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function xc(t,e){return pc(t).put(function(t,e){return new fl(0,Ju(t.path),e)}(e,t.currentSequenceNumber))}var _c=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yo(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Xo(this.inner)},t}(),Sc=function(){function t(){this.changes=new _c((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ko.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ca.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?_l.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kc=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ic(t).put(Cc(e),n)},t.prototype.removeEntry=function(t,e){var n=Ic(t),r=Cc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Ic(t).get(Cc(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Ic(t).get(Cc(e)).next((function(t){return{document:n.ye(e,t),size:ic(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=eu();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=eu(),i=new Xs(fa.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ic(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return _l.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ic(t).Ot({range:r},(function(t,e,r){for(var a=fa.fromSegments(t);o&&fa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=eu(),o=e.path.length+1,a={};if(n.isEqual(Ko.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),l=Ul(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=ll.collectionReadTimeIndex}return Ic(t).Ot(a,(function(t,n,a){if(t.length===o){var s=jl(r.R,n);e.path.isPrefixOf(s.key.path)?ls(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Ec(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Tc(t).get(cl.key).next((function(t){return jo(!!t),t}))},t.prototype.me=function(t,e){return Tc(t).put(cl.key,e)},t.prototype.ye=function(t,e){if(e){var n=jl(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ko.min()))return n}return Ca.newInvalidDocument(t)},t}(),Ec=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new _c((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return xt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Js((function(t,e){return Bo(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Vl(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var l=ic(u);r+=l-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var c=Vl(e.Ie.R,Ca.newNoDocument(o,Ko.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),_l.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Sc);function Tc(t){return Nl(t,cl.store)}function Ic(t){return Nl(t,ll.store)}function Cc(t){return t.path.toArray()}var Ac=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;jo(n<r&&n>=0&&r<=11);var o=new Sl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(rl.store)}(t),function(t){t.createObjectStore(il.store,{keyPath:il.keyPath}),t.createObjectStore(ol.store,{keyPath:ol.keyPath,autoIncrement:!0}).createIndex(ol.userMutationsIndex,ol.userMutationsKeyPath,{unique:!0}),t.createObjectStore(al.store)}(t),Dc(t),function(t){t.createObjectStore(ll.store)}(t));var a=_l.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fl.store),t.deleteObjectStore(hl.store),t.deleteObjectStore(dl.store)}(t),Dc(t)),a=a.next((function(){return function(t){var e=t.store(dl.store),n=new dl(0,0,Ko.min().toTimestamp(),0);return e.put(dl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ol.store).Nt().next((function(n){t.deleteObjectStore(ol.store),t.createObjectStore(ol.store,{keyPath:ol.keyPath,autoIncrement:!0}).createIndex(ol.userMutationsIndex,ol.userMutationsKeyPath,{unique:!0});var r=e.store(ol.store),i=n.map((function(t){return r.put(t)}));return _l.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(gl.store,{keyPath:gl.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(cl.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ll.store);e.createIndex(ll.readTimeIndex,ll.readTimeIndexPath,{unique:!1}),e.createIndex(ll.collectionReadTimeIndex,ll.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ml.store,{keyPath:ml.keyPath})}(t),function(t){t.createObjectStore(yl.store,{keyPath:yl.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(ll.store).Ot((function(t,n){e+=ic(n)})).next((function(){var n=new cl(e);return t.store(cl.store).put(cl.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(il.store),r=t.store(ol.store);return n.Nt().next((function(n){return _l.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ol.userMutationsIndex,i).next((function(r){return _l.forEach(r,(function(r){jo(r.userId===n.userId);var i=ql(e.R,r);return rc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(fl.store),n=t.store(ll.store);return t.store(dl.store).get(dl.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Qo(n),a=function(t){return[0,Ju(t)]}(o);r.push(e.get(a).next((function(n){return n?_l.resolve():function(n){return e.put(new fl(0,Ju(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return _l.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(pl.store,{keyPath:pl.keyPath});var n=e.store(pl.store),r=new Jl,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ju(i)})}};return e.store(ll.store).Ot({kt:!0},(function(t,e){var n=new Qo(t);return i(n.popLast())})).next((function(){return e.store(al.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],el(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(hl.store);return n.Ot((function(t,r){var i=Hl(r),o=Kl(e.R,i);return n.put(o)}))},t}();function Dc(t){t.createObjectStore(fl.store,{keyPath:fl.keyPath}).createIndex(fl.documentTargetsIndex,fl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(hl.store,{keyPath:hl.keyPath}).createIndex(hl.queryTargetsIndexName,hl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(dl.store)}var Mc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pc=function(){function t(e,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Do(Ao.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wc(this,i),this.Le=n+"main",this.R=new Fl(u),this.Be=new kl(this.Le,11,new Ac(this.R)),this.qe=new hc(this.referenceDelegate,this.R),this.Ut=new Zl,this.Ue=function(t,e){return new kc(t,e)}(this.R,this.Ut),this.Qe=new Yl,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Oo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Do(Ao.FAILED_PRECONDITION,Mc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Co(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return St(e,void 0,void 0,(function(){return kt(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return St(e,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return St(e,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Oc(e).put(new gl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Il(e))return No("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return No("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Nc(t).get(rl.key).next((function(t){return _l.resolve(e.tn(t))}))},t.prototype.en=function(t){return Oc(t).delete(this.clientId)},t.prototype.nn=function(){return St(this,void 0,void 0,(function(){var t,e,n,r,i=this;return kt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Nl(t,gl.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return _l.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?_l.resolve(!0):Nc(t).get(rl.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Do(Ao.FAILED_PRECONDITION,Mc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Oc(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&No("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return St(this,void 0,void 0,(function(){var t=this;return kt(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rl.store,gl.store],(function(e){var n=new Pl(e,Co.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Oc(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return oc.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;No("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,vl,(function(o){return i=new Pl(o,r.Ne?r.Ne.next():Co.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Oo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Do(Ao.FAILED_PRECONDITION,bl);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Nc(t).get(rl.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Do(Ao.FAILED_PRECONDITION,Mc)}))},t.prototype.Ze=function(t){var e=new rl(this.clientId,this.allowTabSynchronization,Date.now());return Nc(t).put(rl.key,e)},t.yt=function(){return kl.yt()},t.prototype.Xe=function(t){var e=this,n=Nc(t);return n.get(rl.key).next((function(t){return e.tn(t)?(No("IndexedDbPersistence","Releasing primary lease."),n.delete(rl.key)):_l.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Oo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return No("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Oo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Oo("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Nc(t){return Nl(t,rl.store)}function Oc(t){return Nl(t,gl.store)}function Rc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Lc=function(t,e){this.progress=t,this.wn=e},Fc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return fa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ns(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new fa(e)).next((function(t){var e=ru();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ru();return this.Ut.getCollectionParents(t,i).next((function(a){return _l.forEach(a,(function(a){var s=function(t,e){return new Xa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l);null==c&&(c=Ca.newInvalidDocument(l),r=r.insert(l,c)),Ns(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(t,n){ls(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=su(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof js&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))},t}(),jc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=su(),i=su(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Vc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ko.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Ja(e)||Za(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Po()<=Xt.DEBUG&&No("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),us(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Js(cs(t));return e.forEach((function(e,r){ls(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Po()<=Xt.DEBUG&&No("QueryEngine","Using full collection scan to execute query:",us(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ko.min())},t}(),Uc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Xs(Bo),this.kn=new _c((function(t){return Ma(t)}),Pa),this.On=Ko.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Fc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function zc(t,e,n,r){return new Uc(t,e,n,r)}function Bc(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:return n=Vo(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Fc(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=su(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var m=0,y=g.mutations;m<y.length;m++){var v=y[m];a=a.add(v.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Wc(t,e){var n=Vo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=_l.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);jo(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function qc(t){var e=Vo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Hc(t,e){var n=Vo(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,l),function(t,e,n){return jo(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,e)&&a.push(n.qe.updateTargetData(t,l))}}}));var s=eu();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Kc(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Ko.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return _l.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Kc(t,e,n,r,i){var o=su();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=eu();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ko.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):No("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Gc(t,e){var n=Vo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Yc(t,e){var n=Vo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,_l.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Ll(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Xc(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:r=Vo(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Il(a=s.sent()))throw a;return No("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function $c(t,e,n){var r=Vo(t),i=Ko.min(),o=su();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Vo(t),i=r.kn.get(n);return void 0!==i?_l.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,is(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ko.min(),n?o:su())})).next((function(t){return{documents:t,Bn:o}}))}))}function Qc(t,e){var n=Vo(t),r=Vo(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Jc(t){var e=Vo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Vo(t),i=eu(),o=Ul(n),a=Ic(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:ll.readTimeIndex,range:s},(function(t,e){var n=jl(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:zl(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Zc(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){return[2,(e=Vo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ic(t),n=Ko.min();return e.Ot({index:ll.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=zl(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function th(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f,d;return kt(this,(function(p){switch(p.label){case 0:for(i=Vo(t),o=su(),a=eu(),s=ou(),u=0,l=n;u<l.length;u++)c=l[u],h=e.qn(c.metadata.name),c.document&&(o=o.add(h)),a=a.insert(h,e.Un(c)),s=s.insert(h,e.Qn(c.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Yc(i,function(t){return is(Qa(Qo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Kc(t,f,a,Ko.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function eh(t,e,n){return void 0===n&&(n=su()),St(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return[4,Yc(t,is(Gl(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vo(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Eu(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(ea.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var nh=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return _l.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Eu(n.createTime)}),_l.resolve()},t.prototype.getNamedQuery=function(t,e){return _l.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Gl(t.bundledQuery),readTime:Eu(t.readTime)}}(e)),_l.resolve()},t}(),rh=function(){function t(){this.Wn=new Js(ih.Gn),this.zn=new Js(ih.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ih(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new ih(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new fa(new Qo([])),r=new ih(n,t),i=new ih(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new fa(new Qo([])),n=new ih(e,t),r=new ih(e,t+1),i=su();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new ih(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ih=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return fa.comparator(t.key,e.key)||Bo(t.ns,e.ns)},t.Hn=function(t,e){return Bo(t.ns,e.ns)||fa.comparator(t.key,e.key)},t}(),oh=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Js(ih.Gn)}return t.prototype.checkEmpty=function(t){return _l.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ol(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new ih(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return _l.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return _l.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return _l.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return _l.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return _l.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ih(e,0),i=new ih(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),_l.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Js(Bo);return e.forEach((function(t){var e=new ih(t,0),i=new ih(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),_l.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;fa.isDocumentKey(i)||(i=i.child(""));var o=new ih(new fa(i),0),a=new Js(Bo);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),_l.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;jo(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return _l.forEach(e.mutations,(function(i){var o=new ih(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ih(e,0),r=this.rs.firstAfterOrEqual(n);return _l.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,_l.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ah=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xs(fa.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return _l.resolve(n?n.document.clone():Ca.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=eu();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ca.newInvalidDocument(t))})),_l.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=eu(),i=new fa(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!e.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||ls(e,l)&&(r=r.insert(l.key,l.clone()))}return _l.resolve(r)},t.prototype.fs=function(t,e){return _l.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new sh(this)},t.prototype.getSize=function(t){return _l.resolve(this.size)},t}(),sh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return xt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),_l.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Sc),uh=function(){function t(t){this.persistence=t,this.ds=new _c((function(t){return Ma(t)}),Pa),this.lastRemoteSnapshotVersion=Ko.min(),this.highestTargetId=0,this.ws=0,this._s=new rh,this.targetCount=0,this.ys=cc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),_l.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return _l.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return _l.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),_l.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),_l.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new cc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,_l.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),_l.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,_l.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),_l.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return _l.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return _l.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),_l.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),_l.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),_l.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return _l.resolve(n)},t.prototype.containsKey=function(t,e){return _l.resolve(this._s.containsKey(e))},t}(),lh=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Co(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new uh(this),this.Ut=new Ql,this.Ue=function(t,e){return new ah(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Fl(e),this.Qe=new nh(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new oh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;No("MemoryPersistence","Starting transaction:",t);var i=new ch(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return _l.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ch=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return xt(e,t),e}(wl),hh=function(){function t(t){this.persistence=t,this.As=new rh,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),_l.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),_l.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),_l.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _l.forEach(this.vs,(function(r){var i=fa.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return _l.or([function(){return _l.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),fh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function dh(t,e){return"firestore_clients_"+t+"_"+e}function ph(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function gh(t,e){return"firestore_targets_"+t+"_"+e}fh.UNAUTHENTICATED=new fh(null),fh.GOOGLE_CREDENTIALS=new fh("google-credentials-uid"),fh.FIRST_PARTY=new fh("first-party-uid");var mh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Do(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Oo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Do(i.error.code,i.error.message)),o?new t(e,i.state,r):(Oo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lu(),a=0;i&&a<r.activeTargetIds.length;++a)i=ha(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Oo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Oo("SharedClientState","Failed to parse online state: "+e),null)},t}(),wh=function(){function t(){this.activeTargetIds=lu()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xh=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Xs(Bo),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=dh(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new wh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return St(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,l,c,h=this;return kt(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(dh(this.persistenceKey,r)))&&(o=vh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,l=this.Os;u<l.length;u++)c=l[u],this.Fs(c);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(gh(this.persistenceKey,t));if(n){var r=yh.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(gh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return No("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){No("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){No("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(No("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Oo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return St(e,void 0,void 0,(function(){var t,e,r,i,o,a;return kt(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Co.o;if(null!=t)try{var n=JSON.parse(t);jo("number"==typeof n),e=n}catch(t){Oo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Co.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new mh(this.currentUser,t,e,n),i=ph(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ph(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=gh(this.persistenceKey,t),i=new yh(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return vh.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mh.Vs(new fh(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return yh.Vs(r,e)},t.prototype.js=function(t){return bh.Vs(t)},t.prototype.ii=function(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(No("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=lu();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),_h=function(){function t(){this.li=new wh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new wh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Sh=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),kh=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){No("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){No("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Eh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Th=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ih=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return xt(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new Io;a.listenOnce(So.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case _o.NO_ERROR:var e=a.getResponseJson();No("Connection","XHR received:",JSON.stringify(e)),i(e);break;case _o.TIMEOUT:No("Connection",'RPC "'+t+'" timed out'),o(new Do(Ao.DEADLINE_EXCEEDED,"Request time out"));break;case _o.HTTP_ERROR:var n=a.getStatus();if(No("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ao).indexOf(e)>=0?e:Ao.UNKNOWN}(r.status);o(new Do(s,r.message))}else o(new Do(Ao.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Do(Ao.UNAVAILABLE,"Connection failed."));break;default:Fo()}}finally{No("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=wo(),i=xo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())||"object"===typeof navigator&&"ReactNative"===navigator.product||Nt().indexOf("Electron/")>=0||function(){var t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Nt().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");No("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new Th({Ei:function(t){l?No("Connection","Not sending because WebChannel is closed:",t):(u||(No("Connection","Opening WebChannel transport."),s.open(),u=!0),No("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,To.EventType.OPEN,(function(){l||No("Connection","WebChannel transport opened.")})),h(s,To.EventType.CLOSE,(function(){l||(l=!0,No("Connection","WebChannel transport closed"),c.Vi())})),h(s,To.EventType.ERROR,(function(t){l||(l=!0,Ro("Connection","WebChannel transport errored:",t),c.Vi(new Do(Ao.UNAVAILABLE,"The operation could not be completed")))})),h(s,To.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];jo(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){No("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Bs[t];if(void 0!==e)return Ys(e)}(o),u=i.message;void 0===a&&(a=Ao.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,c.Vi(new Do(a,u)),s.close()}else No("Connection","WebChannel received:",n),c.Si(n)}})),h(i,ko.STAT_EVENT,(function(t){t.stat===Eo.PROXY?No("Connection","Detected buffering proxy"):t.stat===Eo.NOPROXY&&No("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Pi()}),0),c},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);No("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return No("RestConnection","Received: ",t),t}),(function(e){throw Ro("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Eh[t];return this.Di+"/v1/"+e+":"+n},t}());function Ch(){return"undefined"!=typeof window?window:null}function Ah(){return"undefined"!=typeof document?document:null}function Dh(t){return new xu(t,!0)}var Mh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&No("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ph=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Mh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return St(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ao.RESOURCE_EXHAUSTED?(Oo(e.toString()),Oo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ao.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Do(Ao.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return St(t,void 0,void 0,(function(){return kt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return No("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(No("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Nh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return xt(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(jo(void 0===e||"string"==typeof e),ea.fromBase64String(e||"")):(jo(void 0===e||e instanceof Uint8Array),ea.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ao.UNKNOWN:Ys(t.code);return new Do(e,t.message||"")}(s);n=new pu(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Au(t,r.document.name),o=Eu(r.document.updateTime);var s=new Ta({mapValue:{fields:r.document.fields}}),u=(a=Ca.newFoundDocument(i,o,s),r.targetIds||[]),l=r.removedTargetIds||[];n=new fu(u,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Au(t,r.document),o=r.readTime?Eu(r.readTime):Ko.min(),s=Ca.newNoDocument(i,o),a=r.removedTargetIds||[],n=new fu([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Au(t,r.document),o=r.removedTargetIds||[],n=new fu([],o,i,null);else{if(!("filter"in e))return Fo();e.filter;var c=e.filter;c.targetId,r=c.count||0,i=new Ks(r),o=c.targetId,n=new du(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ko.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ko.min():e.readTime?Eu(e.readTime):Ko.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Pu(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Na(r)?{documents:ju(t,r)}:{query:Vu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Su(t,e.resumeToken):e.snapshotVersion.compareTo(Ko.min())>0&&(n.readTime=_u(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Pu(this.R),e.removeTarget=t,this.cr(e)},e}(Ph),Oh=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return xt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(jo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(jo(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Eu(t.updateTime):Eu(e);return n.isEqual(Ko.min())&&(n=Eu(e)),new Cs(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Eu(t.commitTime);return this.listener.Tr(n,e)}return jo(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Pu(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Lu(e.R,t)}))};this.cr(n)},e}(Ph),Rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return xt(e,t),e.prototype.br=function(){if(this.Rr)throw new Do(Ao.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ao.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Do(Ao.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ao.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Do(Ao.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Lh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Oo(e),this.Vr=!1):No("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Fh=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return St(o,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return Kh(this)?(No("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return(e=Vo(t)).$r.add(4),[4,Vh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,jh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Lh(n,r)};function jh(t){return St(this,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:if(!Kh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vh(t){return St(this,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Uh(t,e){var n=Vo(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Hh(n)?qh(n):uf(n).er()&&Bh(n,e))}function zh(t,e){var n=Vo(t),r=uf(n);n.Or.delete(e),r.er()&&Wh(n,e),0===n.Or.size&&(r.er()?r.ir():Kh(n)&&n.Br.set("Unknown"))}function Bh(t,e){t.qr.U(e.targetId),uf(t).mr(e)}function Wh(t,e){t.qr.U(e),uf(t).yr(e)}function qh(t){t.qr=new mu({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),uf(t).start(),t.Br.Sr()}function Hh(t){return Kh(t)&&!uf(t).tr()&&t.Or.size>0}function Kh(t){return 0===Vo(t).$r.size}function Gh(t){t.qr=void 0}function Yh(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){return t.Or.forEach((function(e,n){Bh(t,e)})),[2]}))}))}function Xh(t,e){return St(this,void 0,void 0,(function(){return kt(this,(function(n){return Gh(t),Hh(t)?(t.Br.Nr(e),qh(t)):t.Br.set("Unknown"),[2]}))}))}function $h(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o;return kt(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof pu&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),No("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Qh(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof fu?t.qr.X(e):e instanceof du?t.qr.rt(e):t.qr.et(e),n.isEqual(Ko.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,qc(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(ea.EMPTY_BYTE_STRING,n.snapshotVersion)),Wh(t,e);var r=new Ll(n.target,e,1,n.sequenceNumber);Bh(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return No("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Qh(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Qh(t,e,n){return St(this,void 0,void 0,(function(){var r=this;return kt(this,(function(i){switch(i.label){case 0:if(!Il(e))throw e;return t.$r.add(1),[4,Vh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return qc(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return St(r,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return No("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,jh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Jh(t,e){return e().catch((function(n){return Qh(t,n,e)}))}function Zh(t){return St(this,void 0,void 0,(function(){var e,n,r,i,o;return kt(this,(function(a){switch(a.label){case 0:e=Vo(t),n=lf(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Kh(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Gc(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=lf(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Qh(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tf(e)&&ef(e),[2]}}))}))}function tf(t){return Kh(t)&&!lf(t).tr()&&t.kr.length>0}function ef(t){lf(t).start()}function nf(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){return lf(t).Ar(),[2]}))}))}function rf(t){return St(this,void 0,void 0,(function(){var e,n,r,i;return kt(this,(function(o){for(e=lf(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function of(t,e,n){return St(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Rl.from(r,e,n),[4,Jh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zh(t)];case 2:return o.sent(),[2]}}))}))}function af(t,e){return St(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return e&&lf(t).pr?[4,function(t,e){return St(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return Gs(r=e.code)&&r!==Ao.ABORTED?(n=t.kr.shift(),lf(t).sr(),[4,Jh(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Zh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tf(t)&&ef(t),[2]}}))}))}function sf(t,e){return St(this,void 0,void 0,(function(){var n;return kt(this,(function(r){switch(r.label){case 0:return n=Vo(t),e?(n.$r.delete(2),[4,jh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Vh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function uf(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Vo(t);return r.br(),new Nh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Yh.bind(null,t),Ri:Xh.bind(null,t),_r:$h.bind(null,t)}),t.Mr.push((function(n){return St(e,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Hh(t)?qh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Gh(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function lf(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Vo(t);return r.br(),new Oh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:nf.bind(null,t),Ri:af.bind(null,t),Ir:rf.bind(null,t),Tr:of.bind(null,t)}),t.Mr.push((function(n){return St(e,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Zh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(No("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var cf=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Do(Ao.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hf(t,e){if(Oo("AsyncQueue",e+": "+t),Il(t))return new Do(Ao.UNAVAILABLE,e+": "+t);throw t}var ff=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||fa.comparator(e.key,n.key)}:function(t,e){return fa.comparator(t.key,e.key)},this.keyedMap=ru(),this.sortedSet=new Xs(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),df=function(){function t(){this.Kr=new Xs(fa.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Fo():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),pf=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ff.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&as(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gf=function(){this.Wr=void 0,this.listeners=[]},mf=function(){this.queries=new _c((function(t){return ss(t)}),as),this.onlineState="Unknown",this.Gr=new Set};function yf(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return kt(this,(function(l){switch(l.label){case 0:if(n=Vo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new gf),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=l.sent(),[3,4];case 3:return s=l.sent(),u=hf(s,"Initialization of query '"+us(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&xf(n),[2]}}))}))}function vf(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){return n=Vo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function bf(t,e){for(var n=Vo(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(a)&&(r=!0);u.Wr=a}}r&&xf(n)}function wf(t,e,n){var r=Vo(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function xf(t){t.Gr.forEach((function(t){t.next()}))}var _f=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=pf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Sf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),kf=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Au(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ru(this.R,t.document,!1):Ca.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Eu(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Ef(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new kf(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(e.get(l)||su()).add(a);e.set(l,c)}}return e},t.prototype.complete=function(){return St(this,void 0,void 0,(function(){var t,e,n,r,i;return kt(this,(function(o){switch(o.label){case 0:return[4,th(this.localStore,new kf(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,eh(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Lc(Object.assign({},this.progress),t))]}}))}))}}();function Ef(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Tf=function(t){this.key=t},If=function(t){this.key=t},Cf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=su(),this.mutatedKeys=su(),this.lo=cs(t),this.fo=new ff(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new df,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ja(this.query)&&i.size===this.query.limit?i.last():null,l=Za(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=ls(n.query,e)?e:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ja(this.query)||Za(this.query))for(;a.size>this.query.limit;){var c=Ja(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fo()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new pf(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new df,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=su(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new If(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Tf(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=su();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return pf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Af=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Df=function(t){this.key=t,this.bo=!1},Mf=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _c((function(t){return ss(t)}),as),this.Vo=new Map,this.So=new Set,this.Do=new Xs(fa.comparator),this.Co=new Map,this.No=new rh,this.xo={},this.Fo=new Map,this.ko=cc.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Pf(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return n=sd(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Yc(n.localStore,is(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Nf(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Uh(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Nf(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o,a,s,u,l;return kt(this,(function(c){switch(c.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o,a;return kt(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,$c(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Kf(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,$c(t.localStore,e,!0)];case 1:return i=c.sent(),o=new Cf(e,i.Bn),a=o._o(i.documents),s=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Kf(t,n,u.To),l=new Af(e,n,o),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Of(t,e){return St(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return n=Vo(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!as(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zh(n.remoteStore,r.targetId),qf(n,r.targetId)})).catch(gc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qf(n,r.targetId),[4,Xc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Rf(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:r=ud(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Vo(t),i=Ho.now(),o=e.reduce((function(t,e){return t.add(e.key)}),su());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var l=u[s],c=Os(l,n.get(l.key));null!=c&&a.push(new js(l.key,c,Ia(c.toProto().mapValue),As.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xs(Bo)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Xf(r,i.changes)];case 3:return s.sent(),[4,Zh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=hf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Lf(t,e){return St(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:n=Vo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(jo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?jo(r.bo):t.removedDocuments.size>0&&(jo(r.bo),r.bo=!1))})),[4,Xf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ff(t,e,n){var r=Vo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Vo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&xf(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jf(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a,s,u;return kt(this,(function(l){switch(l.label){case 0:return(r=Vo(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Xs(fa.comparator)).insert(o,Ca.newNoDocument(o,Ko.min())),s=su().add(o),u=new cu(Ko.min(),new Map,new Js(Bo),a,s),[4,Lf(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Yf(r),[3,4];case 2:return[4,Xc(r.localStore,e,!1).then((function(){return qf(r,e,n)})).catch(gc)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Vf(t,e){return St(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:n=Vo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wc(n.localStore,e)];case 2:return i=o.sent(),Wf(n,r,null),Bf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uf(t,e,n){return St(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:r=Vo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Vo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return jo(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Wf(r,e,n),Bf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Xf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function zf(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:Kh((n=Vo(t)).remoteStore)||No("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Vo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=hf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Bf(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Wf(t,e,n){var r=Vo(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function qf(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Hf(t,e)}))}function Hf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(zh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Yf(t))}function Kf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tf?(t.No.addReference(o.key,e),Gf(t,o)):o instanceof If?(No("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Hf(t,o.key)):Fo()}}function Gf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(No("SyncEngine","New document in limbo: "+n),t.So.add(r),Yf(t))}function Yf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new fa(Qo.fromString(e)),r=t.ko.next();t.Co.set(r,new Df(n)),t.Do=t.Do.insert(n,r),Uh(t.remoteStore,new Ll(is(Qa(n.path)),r,2,Co.o))}}function Xf(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a;return kt(this,(function(s){switch(s.label){case 0:return r=Vo(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=jc.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c;return kt(this,(function(h){switch(h.label){case 0:n=Vo(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return _l.forEach(e,(function(e){return _l.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return _l.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Il(r=h.sent()))throw r;return No("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function $f(t,e){return St(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return(n=Vo(t)).currentUser.isEqual(e)?[3,3]:(No("SyncEngine","User change. New user:",e.toKey()),[4,Bc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Do(Ao.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Xf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Qf(t,e){var n=Vo(t),r=n.Co.get(e);if(r&&r.bo)return su().add(r.key);var i=su(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function Jf(t,e){return St(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return[4,$c((n=Vo(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Kf(n,e.targetId,i.To),i)]}}))}))}function Zf(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){return[2,Jc((e=Vo(t)).localStore).then((function(t){return Xf(e,t)}))]}))}))}function td(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o;return kt(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Vo(t),r=Vo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):_l.resolve(null)}))}))}((i=Vo(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wf(i,e,r||null),Bf(i,e),function(t,e){Vo(Vo(t)._n).Gt(e)}(i.localStore,e)):Fo(),a.label=4;case 4:return[4,Xf(i,o)];case 5:return a.sent(),[3,7];case 6:No("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function ed(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return kt(this,(function(c){switch(c.label){case 0:return sd(n=Vo(t)),ud(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nd(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,sf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],Uh(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):l=l.then((function(){return qf(n,e),Xc(n.localStore,e,!0)})),zh(n.remoteStore,e)})),[4,l]);case 4:return c.sent(),[4,nd(n,u)];case 5:return c.sent(),function(t){var e=Vo(t);e.Co.forEach((function(t,n){zh(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Xs(fa.comparator)}(n),n.Oo=!1,[4,sf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function nd(t,e,n){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p,g;return kt(this,(function(m){switch(m.label){case 0:n=Vo(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,Yc(n.localStore,is(l[0]))]:[3,7]):[3,13];case 2:u=m.sent(),c=0,h=l,m.label=3;case 3:return c<h.length?(f=h[c],d=n.Po.get(f),[4,Jf(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Qc(n.localStore,s)];case 8:return g=m.sent(),[4,Yc(n.localStore,g)];case 9:return u=m.sent(),[4,Nf(n,rd(g),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function rd(t){return $a(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function id(t){var e=Vo(t);return Vo(Vo(e.localStore).persistence).fn()}function od(t,e,n,r){return St(this,void 0,void 0,(function(){var i,o,a;return kt(this,(function(s){switch(s.label){case 0:return(i=Vo(t)).Oo?(No("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Jc(i.localStore)];case 3:return o=s.sent(),a=cu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Xf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Xc(i.localStore,e,!0)];case 6:return s.sent(),qf(i,e,r),[3,8];case 7:Fo(),s.label=8;case 8:return[2]}}))}))}function ad(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,f;return kt(this,(function(d){switch(d.label){case 0:if(!(r=sd(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(No("SyncEngine","Adding an already active target "+a),[3,5]):[4,Qc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Yc(r.localStore,s)];case 3:return u=d.sent(),[4,Nf(r,rd(s),u.targetId,!1)];case 4:d.sent(),Uh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return kt(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Xc(r.localStore,t,!1).then((function(){zh(r.remoteStore,t),qf(r,t)})).catch(gc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?(f=h[c],[5,l(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function sd(t){var e=Vo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jf.bind(null,e),e.vo._r=bf.bind(null,e.eventManager),e.vo.Mo=wf.bind(null,e.eventManager),e}function ud(t){var e=Vo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uf.bind(null,e),e}var ld=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return this.R=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return zc(this.persistence,new Vc,t.initialUser,this.R)},t.prototype.qo=function(t){return new lh(hh.bs,this.R)},t.prototype.Bo=function(t){return new _h},t.prototype.terminate=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),cd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return xt(e,t),e.prototype.initialize=function(e){return St(this,void 0,void 0,(function(){return kt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Zc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ud(this.Ko.syncEngine)];case 4:return n.sent(),[4,Zh(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return zc(this.persistence,new Vc,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new vc(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Rc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nc.withCacheSize(this.cacheSizeBytes):nc.DEFAULT;return new Pc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ch(),Ah(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new _h},e}(ld),hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return xt(e,t),e.prototype.initialize=function(e){return St(this,void 0,void 0,(function(){var n,r=this;return kt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof xh?(this.sharedClientState.syncEngine={ui:td.bind(null,n),ai:od.bind(null,n),hi:ad.bind(null,n),fn:id.bind(null,n),ci:Zf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return St(r,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return[4,ed(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ch();if(!xh.yt(e))throw new Do(Ao.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cd),fd=function(){function t(){}return t.prototype.initialize=function(t,e){return St(this,void 0,void 0,(function(){var n=this;return kt(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ff(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$f.bind(null,this.syncEngine),[4,sf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new mf},t.prototype.createDatastore=function(t){var e,n=Dh(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Ih(e));return function(t,e,n){return new Rh(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ff(a.syncEngine,t,0)},o=kh.yt()?new kh:new Sh,new Fh(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Mf(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=Vo(t),No("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Vh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var dd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),pd=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new xl,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return St(this,void 0,void 0,(function(){var t,e,n,r;return kt(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Sf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return St(this,void 0,void 0,(function(){var t,e;return kt(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return St(this,void 0,void 0,(function(){var t,e;return kt(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return St(this,void 0,void 0,(function(){var e,n=this;return kt(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Do(Ao.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return St(this,void 0,void 0,(function(){var n,r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return n=Vo(t),r=Pu(n.R)+"/documents",i={documents:e.map((function(t){return Cu(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){jo(!!e.found),e.found.name,e.found.updateTime;var n=Au(t,e.found.name),r=Eu(e.found.updateTime),i=new Ta({mapValue:{fields:e.found.fields}});return Ca.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){jo(!!e.missing),jo(!!e.readTime);var n=Au(t,e.missing),r=Eu(e.readTime);return Ca.newNoDocument(n,r)}(t,e):Fo()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());jo(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new qs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return St(this,void 0,void 0,(function(){var t,e=this;return kt(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=fa.fromPath(n);e.mutations.push(new Hs(r,e.precondition(r)))})),[4,function(t,e){return St(this,void 0,void 0,(function(){var n,r,i;return kt(this,(function(o){switch(o.label){case 0:return n=Vo(t),r=Pu(n.R)+"/documents",i={writes:e.map((function(t){return Lu(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fo();e=Ko.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Do(Ao.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?As.updateTime(e):As.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ko.min()))throw new Do(Ao.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return As.updateTime(e)}return As.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),gd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Mh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return St(t,void 0,void 0,(function(){var t,e,n=this;return kt(this,(function(r){return t=new pd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!la(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Gs(e)}return!1},t}(),md=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fh.UNAUTHENTICATED,this.clientId=zo.u(),this.credentialListener=function(){},this.receivedInitialUser=new xl,this.credentials.setChangeListener((function(t){No("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return St(this,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Do(Ao.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return St(t,void 0,void 0,(function(){var t,n;return kt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function yd(t,e){return St(this,void 0,void 0,(function(){var n,r,i=this;return kt(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),No("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return St(i,void 0,void 0,(function(){return kt(this,(function(t){switch(t.label){case 0:return[4,Bc(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function vd(t,e){return St(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,bd(t)];case 1:return n=i.sent(),No("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return St(this,void 0,void 0,(function(){var n,r;return kt(this,(function(i){switch(i.label){case 0:return(n=Vo(t)).asyncQueue.verifyOperationInProgress(),No("RemoteStore","RemoteStore received new credentials"),r=Kh(n),n.$r.add(3),[4,Vh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,jh(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function bd(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(No("FirestoreClient","Using default OfflineComponentProvider"),[4,yd(t,new ld)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function wd(t){return St(this,void 0,void 0,(function(){return kt(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(No("FirestoreClient","Using default OnlineComponentProvider"),[4,vd(t,new fd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function xd(t){return bd(t).then((function(t){return t.persistence}))}function _d(t){return bd(t).then((function(t){return t.localStore}))}function Sd(t){return wd(t).then((function(t){return t.remoteStore}))}function kd(t){return wd(t).then((function(t){return t.syncEngine}))}function Ed(t){return St(this,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return[4,wd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Pf.bind(null,e.syncEngine),n.onUnlisten=Of.bind(null,e.syncEngine),n)]}}))}))}function Td(t,e,n){var r=this;void 0===n&&(n={});var i=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(r,void 0,void 0,(function(){var r;return kt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dd({next:function(o){e.enqueueAndForget((function(){return vf(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Do(Ao.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Do(Ao.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new _f(Qa(n.path),o,{includeMetadataChanges:!0,so:!0});return yf(t,a)},[4,Ed(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Id(t,e,n){var r=this;void 0===n&&(n={});var i=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(r,void 0,void 0,(function(){var r;return kt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dd({next:function(n){e.enqueueAndForget((function(){return vf(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Do(Ao.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new _f(n,o,{includeMetadataChanges:!0,so:!0});return yf(t,a)},[4,Ed(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Cd=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Ad=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Dd=new Map,Md=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Pd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(fh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Nd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Od=function(){function t(t){var e=this;this.oc=null,this.currentUser=fh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(No("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(jo("string"==typeof n.accessToken),new Md(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return jo(null===t||"string"==typeof t),new fh(t)},t}(),Rd=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=fh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Ld=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Rd(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(fh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fd(t,e,n){if(!n)throw new Do(Ao.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Do(Ao.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vd(t,e,n,r){if(!0===e&&!0===r)throw new Do(Ao.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ud(t){if(!fa.isDocumentKey(t))throw new Do(Ao.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zd(t){if(fa.isDocumentKey(t))throw new Do(Ao.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Bd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fo()}function Wd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Do(Ao.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bd(t);throw new Do(Ao.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function qd(t,e){if(e<=0)throw new Do(Ao.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Hd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Do(Ao.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Do(Ao.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Kd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hd({}),this._settingsFrozen=!1,t instanceof Ad?(this._databaseId=t,this._credentials=new Pd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Do(Ao.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(t.options.projectId)}(t),this._credentials=new Od(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Do(Ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Do(Ao.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Pd;switch(t.type){case"gapi":var e=t.client;return jo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ld(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Do(Ao.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Dd.get(this))&&(No("ComponentProvider","Removing Datastore"),Dd.delete(this),t.terminate()),Promise.resolve();var t},t}(),Gd=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yd=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qa(r))||this)._path=r,i.type="collection",i}return xt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Gd(this.firestore,null,new fa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yd);function $d(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Bt(t),Fd("collection","path",e),t instanceof Kd)return zd(n=Qo.fromString.apply(Qo,It([e],r))),new Xd(t,null,n);if(!(t instanceof Gd||t instanceof Xd))throw new Do(Ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zd(n=Qo.fromString.apply(Qo,It([t.path],r)).child(Qo.fromString(e))),new Xd(t.firestore,null,n)}function Qd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Bt(t),1===arguments.length&&(e=zo.u()),Fd("doc","path",e),t instanceof Kd)return Ud(n=Qo.fromString.apply(Qo,It([e],r))),new Gd(t,null,new fa(n));if(!(t instanceof Gd||t instanceof Xd))throw new Do(Ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ud(n=t._path.child(Qo.fromString.apply(Qo,It([e],r)))),new Gd(t.firestore,t instanceof Xd?t.converter:null,new fa(n))}function Jd(t,e){return t=Bt(t),e=Bt(e),(t instanceof Gd||t instanceof Xd)&&(e instanceof Gd||e instanceof Xd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Zd(t,e){return t=Bt(t),e=Bt(e),t instanceof Yd&&e instanceof Yd&&t.firestore===e.firestore&&as(t._query,e._query)&&t.converter===e.converter}var tp=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Mh(this,"async_queue_retry"),this.Ec=function(){var e=Ah();e&&No("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Ah();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Ah();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return St(this,void 0,void 0,(function(){var t,e=this;return kt(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Il(t=n.sent()))throw t;return No("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Oo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=cf.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Fo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return St(this,void 0,void 0,(function(){var t;return kt(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function ep(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new xl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var np=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new tp,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return xt(e,t),e.prototype._terminate=function(){return this._firestoreClient||ip(this),this._firestoreClient.terminate()},e}(Kd);function rp(t){return t._firestoreClient||ip(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ip(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Cd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new md(t._credentials,t._queue,r)}function op(t,e,n){var r=this,i=new xl;return t.asyncQueue.enqueue((function(){return St(r,void 0,void 0,(function(){var r;return kt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,yd(t,n)];case 1:return o.sent(),[4,vd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ao.FAILED_PRECONDITION||t.code===Ao.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ap(t){if(t._initialized||t._terminated)throw new Do(Ao.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Do(Ao.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zo(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),up=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ea.fromBase64String(e))}catch(e){throw new Do(Ao.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ea.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),lp=function(t){this._methodName=t},cp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Do(Ao.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Do(Ao.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Bo(this._lat,t._lat)||Bo(this._long,t._long)},t}(),hp=/^__.*__$/,fp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new js(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fs(t,this.data,e,this.fieldTransforms)},t}(),dp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new js(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function pp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fo()}}var gp=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Rp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(pp(this.Dc)&&hp.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),mp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Dh(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new gp({Dc:t,methodName:e,Lc:n,path:Zo.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function yp(t){var e=t._freezeSettings(),n=Dh(t._databaseId);return new mp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vp(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Mp("Data must be an object, but it was:",a,r);var s,u,l=Ap(r,a);if(o.merge)s=new ta(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Pp(e,f[h],n);if(!a.contains(d))throw new Do(Ao.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Lp(c,d)||c.push(d)}s=new ta(c),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new fp(new Ta(l),s,u)}var bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lp);function wp(t,e,n){return new gp({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype._toFieldTransform=function(t){return new Is(t.path,new bs)},e.prototype.isEqual=function(t){return t instanceof e},e}(lp),_p=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return xt(e,t),e.prototype._toFieldTransform=function(t){var e=wp(this,t,!0),n=this.qc.map((function(t){return Cp(t,e)})),r=new ws(n);return new Is(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lp),Sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return xt(e,t),e.prototype._toFieldTransform=function(t){var e=wp(this,t,!0),n=this.qc.map((function(t){return Cp(t,e)})),r=new _s(n);return new Is(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lp),kp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return xt(e,t),e.prototype._toFieldTransform=function(t){var e=new ks(t.R,ps(t.R,this.Uc));return new Is(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lp);function Ep(t,e,n,r){var i=t.Bc(1,e,n);Mp("Data must be an object, but it was:",i,r);var o=[],a=Ta.empty();Yo(r,(function(t,r){var s=Op(e,t,n);r=Bt(r);var u=i.kc(s);if(r instanceof bp)o.push(s);else{var l=Cp(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new ta(o);return new dp(a,s,i.fieldTransforms)}function Tp(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Pp(e,r,n)],u=[i];if(o.length%2!=0)throw new Do(Ao.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Pp(e,o[l])),u.push(o[l+1]);for(var c=[],h=Ta.empty(),f=s.length-1;f>=0;--f)if(!Lp(c,s[f])){var d=s[f],p=u[f];p=Bt(p);var g=a.kc(d);if(p instanceof bp)c.push(d);else{var m=Cp(p,g);null!=m&&(c.push(d),h.set(d,m))}}var y=new ta(c);return new dp(h,y,a.fieldTransforms)}function Ip(t,e,n,r){return void 0===r&&(r=!1),Cp(n,t.Bc(r?4:3,e))}function Cp(t,e){if(Dp(t=Bt(t)))return Mp("Unsupported field value:",e,t),Ap(t,e);if(t instanceof lp)return function(t,e){if(!pp(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Cp(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Bt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ps(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ho.fromDate(t);return{timestampValue:_u(e.R,n)}}if(t instanceof Ho)return n=new Ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:_u(e.R,n)};if(t instanceof cp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof up)return{bytesValue:Su(e.R,t._byteString)};if(t instanceof Gd){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Tu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Bd(t))}(t,e)}function Ap(t,e){var n={};return Xo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(function(t,r){var i=Cp(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Dp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ho||t instanceof cp||t instanceof up||t instanceof Gd||t instanceof lp)}function Mp(t,e,n){if(!Dp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Bd(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function Pp(t,e,n){if((e=Bt(e))instanceof sp)return e._internalPath;if("string"==typeof e)return Op(t,e);throw Rp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Np=new RegExp("[~\\*/\\[\\]]");function Op(t,e,n){if(e.search(Np)>=0)throw Rp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sp.bind.apply(sp,It([void 0],e.split(".")))))._internalPath}catch(Le){throw Rp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rp(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Do(Ao.INVALID_ARGUMENT,(s+=". ")+t+u)}function Lp(t,e){return t.some((function(t){return t.isEqual(e)}))}var Fp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Gd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new jp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Vp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fp);function Vp(t,e){return"string"==typeof e?Op(t,e):e instanceof sp?e._internalPath:e._delegate._internalPath}var Up=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return xt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Vp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fp),Bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zp),Wp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Up(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Bp(n._firestore,n._userDataWriter,r.key,r,new Up(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Do(Ao.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Bp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Up(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Up(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:qp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function qp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fo()}}function Hp(t,e){return t instanceof zp&&e instanceof zp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wp&&e instanceof Wp&&t._firestore===e._firestore&&Zd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Kp(t){if(Za(t)&&0===t.explicitOrderBy.length)throw new Do(Ao.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gp=function(){};function Yp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var Xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return xt(e,t),e.prototype._apply=function(t){var e=yp(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Do(Ao.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ng(a,o);for(var u=[],l=0,c=a;l<c.length;l++){var h=c[l];u.push(eg(r,t,h))}s={arrayValue:{values:u}}}else s=eg(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ng(a,o),s=Ip(n,"where",a,"in"===o||"not-in"===o);var f=Oa.create(i,o,s);return function(t,e){if(e.g()){var n=es(t);if(null!==n&&!n.isEqual(e.field))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ts(t);null!==r&&rg(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Do(Ao.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Do(Ao.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Yd(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Gp),$p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return xt(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ha(e,n);return function(t,e){if(null===ts(t)){var n=es(t);null!==n&&rg(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Yd(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Xa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Gp),Qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return xt(e,t),e.prototype._apply=function(t){return new Yd(t.firestore,t.converter,os(t._query,this.Gc,this.zc))},e}(Gp),Jp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return xt(e,t),e.prototype._apply=function(t){var e=tg(t,this.type,this.Hc,this.Jc);return new Yd(t.firestore,t.converter,function(t,e){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Gp),Zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return xt(e,t),e.prototype._apply=function(t){var e=tg(t,this.type,this.Hc,this.Jc);return new Yd(t.firestore,t.converter,function(t,e){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Gp);function tg(t,e,n,r){if(n[0]=Bt(n[0]),n[0]instanceof Fp)return function(t,e,n,r,i){if(!r)throw new Do(Ao.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=rs(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(wa(e,r.key));else{var l=r.data.field(u.field);if(aa(l))throw new Do(Ao.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Wa(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=yp(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Do(Ao.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!ns(t)&&-1!==l.indexOf("/"))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(Qo.fromString(l));if(!fa.isDocumentKey(c))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new fa(c);s.push(wa(e,h))}else{var f=Ip(n,r,l);s.push(f)}}return new Wa(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function eg(t,e,n){if("string"==typeof(n=Bt(n))){if(""===n)throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ns(e)&&-1!==n.indexOf("/"))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Qo.fromString(n));if(!fa.isDocumentKey(r))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wa(t,new fa(r))}if(n instanceof Gd)return wa(t,n._key);throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bd(n)+".")}function ng(t,e){if(!Array.isArray(t)||0===t.length)throw new Do(Ao.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Do(Ao.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rg(t,e,n){if(!n.isEqual(e))throw new Do(Ao.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ig=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ia(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Yo(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new cp(ia(t.latitude),ia(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=sa(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ua(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ra(t);return new Ho(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Qo.fromString(t);jo(Qu(n));var r=new Ad(n.get(1),n.get(3)),i=new fa(n.popFirst(5));return r.isEqual(e)||Oo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function og(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xt(e,t),e.prototype.convertBytes=function(t){return new up(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gd(this.firestore,null,e)},e}(ig),sg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ug(t,this._firestore),i=og(r.converter,e,n),o=vp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,As.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ug(t,this._firestore);return o="string"==typeof(e=Bt(e))||e instanceof sp?Tp(this._dataReader,"WriteBatch.update",a._key,e,n,r):Ep(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,As.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ug(t,this._firestore);return this._mutations=this._mutations.concat(new qs(e._key,As.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Do(Ao.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ug(t,e){if((t=Bt(t)).firestore!==e)throw new Do(Ao.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xt(e,t),e.prototype.convertBytes=function(t){return new up(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gd(this.firestore,null,e)},e}(ig);function cg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wd(t,Gd);var o=Wd(t.firestore,np),a=yp(o);return fg(o,[("string"==typeof(e=Bt(e))||e instanceof sp?Tp(a,"updateDoc",t._key,e,n,r):Ep(a,"updateDoc",t._key,e)).toMutation(t._key,As.exists(!0))])}function hg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Bt(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||ep(i[s])||(a=i[s],s++);var u,l,c,h={includeMetadataChanges:a.includeMetadataChanges};if(ep(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Gd)l=Wd(t.firestore,np),c=Qa(t._key.path),u={next:function(e){i[s]&&i[s](dg(l,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Wd(t,Yd);l=Wd(d.firestore,np),c=d._query;var p=new lg(l);u={next:function(t){i[s]&&i[s](new Wp(l,p,d,t))},error:i[s+1],complete:i[s+2]},Kp(t._query)}return function(t,e,n,r){var i=this,o=new dd(r),a=new _f(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return St(i,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=yf,[4,Ed(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return St(i,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=vf,[4,Ed(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(rp(l),c,h,u)}function fg(t,e){return function(t,e){var n=this,r=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var n;return kt(this,(function(i){switch(i.label){case 0:return n=Rf,[4,kd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(rp(t),e)}function dg(t,e,n){var r=n.docs.get(e._key),i=new lg(t);return new zp(t,i,e._key,r,new Up(n.hasPendingWrites,n.fromCache),e.converter)}var pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return xt(e,t),e.prototype.get=function(e){var n=this,r=ug(e,this._firestore),i=new lg(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new zp(n._firestore,i,r._key,t._document,new Up(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=yp(t)}return t.prototype.get=function(t){var e=this,n=ug(t,this._firestore),r=new ag(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Fo();var i=t[0];if(i.isFoundDocument())return new Fp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fp(e._firestore,r,n._key,null,n.converter);throw Fo()}))},t.prototype.set=function(t,e,n){var r=ug(t,this._firestore),i=og(r.converter,e,n),o=vp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ug(t,this._firestore);return o="string"==typeof(e=Bt(e))||e instanceof sp?Tp(this._dataReader,"Transaction.update",a._key,e,n,r):Ep(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=ug(t,this._firestore);return this._transaction.delete(e._key),this},t}());function gg(){if("undefined"==typeof Uint8Array)throw new Do(Ao.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mg(){if("undefined"==typeof atob)throw new Do(Ao.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yg=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return mg(),new t(up.fromBase64String(e))},t.fromUint8Array=function(e){return gg(),new t(up.fromUint8Array(e))},t.prototype.toBase64=function(){return mg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return gg(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),vg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ap(t=Wd(t,np));var n=rp(t),r=t._freezeSettings(),i=new fd;return op(n,i,new cd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ap(t=Wd(t,np));var e=rp(t),n=t._freezeSettings(),r=new fd;return op(e,r,new hd(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Do(Ao.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xl;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return St(e,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return kl.yt()?(e=t+"main",[4,kl.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),bg=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ad||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Wd(t,Kd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Ro("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=_t({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[At.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),At.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Do(Ao.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Nd(new Md(o,new fh(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return St(e,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return[4,xd(t)];case 1:return e=r.sent(),[4,Sd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Vo(t);return e.$r.delete(0),jh(e)}(n))]}}))}))}))}(rp(Wd(this._delegate,np)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return St(e,void 0,void 0,(function(){var e,n;return kt(this,(function(r){switch(r.label){case 0:return[4,xd(t)];case 1:return e=r.sent(),[4,Sd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return St(this,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return(e=Vo(t)).$r.add(0),[4,Vh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rp(Wd(this._delegate,np)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(e,void 0,void 0,(function(){var e;return kt(this,(function(r){switch(r.label){case 0:return e=zf,[4,kd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rp(Wd(this._delegate,np)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new dd(e);return t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vo(t).Gr.add(e),e.next()},[4,Ed(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var e;return kt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vo(t).Gr.delete(e)},[4,Ed(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(rp(t=Wd(t,np)),ep(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Do(Ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ng(this,$d(this._delegate,t))}catch(t){throw Eg(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new kg(this,Qd(this._delegate,t))}catch(t){throw Eg(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Dg(this,function(t,e){if(t=Wd(t,Kd),Fd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Do(Ao.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yd(t,null,function(t){return new Xa(Qo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Eg(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var n;return kt(this,(function(i){switch(i.label){case 0:return[4,function(t){return wd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new gd(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(rp(t),(function(n){return e(new pg(t,n))}))}(this._delegate,(function(n){return t(new xg(e,n))}))},t.prototype.batch=function(){var t=this;return rp(this._delegate),new _g(new sg(this._delegate,(function(e){return fg(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Do(Ao.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Do(Ao.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),wg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xt(e,t),e.prototype.convertBytes=function(t){return new yg(new up(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return kg.Zc(e,this.firestore,null)},e}(ig);var xg=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wg(t)}return t.prototype.get=function(t){var e=this,n=Og(t);return this._delegate.get(n).then((function(t){return new Cg(e._firestore,new zp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Og(t);return n?(jd("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Og(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,It([a,e,n],i)),this},t.prototype.delete=function(t){var e=Og(t);return this._delegate.delete(e),this},t}(),_g=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Og(t);return n?(jd("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Og(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,It([a,e,n],i)),this},t.prototype.delete=function(t){var e=Og(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Sg=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Bp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ag(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new wg(e),n),i.set(n,o)),o},t}();Sg.eu=new WeakMap;var kg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wg(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Do(Ao.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Gd(n._delegate,r,new fa(e)))},t.Zc=function(e,n,r){return new t(n,new Gd(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ng(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ng(this.firestore,$d(this._delegate,t))}catch(t){throw Eg(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Bt(t))instanceof Gd&&Jd(this._delegate,t)},t.prototype.set=function(t,e){e=jd("DocumentReference.set",e);try{return function(t,e,n){t=Wd(t,Gd);var r=Wd(t.firestore,np),i=og(t.converter,e,n);return fg(r,[vp(yp(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,As.none())])}(this._delegate,t,e)}catch(t){throw Eg(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?cg(this._delegate,t):cg.apply(void 0,It([this._delegate,t,e],n))}catch(t){throw Eg(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return fg(Wd((t=this._delegate).firestore,np),[new qs(t._key,As.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tg(e),i=Ig(e,(function(e){return new Cg(t.firestore,new zp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return hg(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,Gd);var e=Wd(t.firestore,np),n=rp(e),r=new lg(e);return function(t,e){var n=this,r=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var n;return kt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return St(this,void 0,void 0,(function(){var r,i;return kt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Vo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Do(Ao.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,_d(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new zp(e,r,t._key,n,new Up(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,Gd);var e=Wd(t.firestore,np);return Td(rp(e),t._key,{source:"server"}).then((function(n){return dg(e,t,n)}))}(this._delegate):function(t){t=Wd(t,Gd);var e=Wd(t.firestore,np);return Td(rp(e),t._key).then((function(n){return dg(e,t,n)}))}(this._delegate)).then((function(t){return new Cg(e.firestore,new zp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Sg.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Eg(t,e,n){return t.message=t.message.replace(e,n),t}function Tg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ep(r))return r}return{}}function Ig(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ep(t[0])?t[0]:ep(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new kg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Hp(this._delegate,t._delegate)},t}(),Ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Cg),Dg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wg(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yp(this._delegate,function(t,e,n){var r=e,i=Vp("where",t);return new Xp(i,r,n)}(e,n,r)))}catch(e){throw Eg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Vp("orderBy",t);return new $p(r,n)}(e,n)))}catch(e){throw Eg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yp(this._delegate,function(t){return qd("limit",t),new Qp("limit",t,"F")}(e)))}catch(e){throw Eg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yp(this._delegate,function(t){return qd("limitToLast",t),new Qp("limitToLast",t,"L")}(e)))}catch(e){throw Eg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jp("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Eg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jp("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Eg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Eg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Eg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Zd(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,Yd);var e=Wd(t.firestore,np),n=rp(e),r=new lg(e);return function(t,e){var n=this,r=new xl;return t.asyncQueue.enqueueAndForget((function(){return St(n,void 0,void 0,(function(){var n;return kt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return St(this,void 0,void 0,(function(){var r,i,o,a,s;return kt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,$c(t,e,!0)];case 1:return s=u.sent(),r=new Cf(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=hf(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,_d(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,Yd);var e=Wd(t.firestore,np),n=rp(e),r=new lg(e);return Id(n,t._query,{source:"server"}).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate):function(t){t=Wd(t,Yd);var e=Wd(t.firestore,np),n=rp(e),r=new lg(e);return Kp(t._query),Id(n,t._query).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate)).then((function(t){return new Pg(e.firestore,new Wp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tg(e),i=Ig(e,(function(e){return new Pg(t.firestore,new Wp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return hg(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Sg.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Mg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ag(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Pg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Dg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Ag(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Mg(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Ag(n._firestore,r))}))},t.prototype.isEqual=function(t){return Hp(this._delegate,t._delegate)},t}(),Ng=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return xt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new kg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new kg(this.firestore,void 0===t?Qd(this._delegate):Qd(this._delegate,t))}catch(t){throw Eg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Wd(t.firestore,np),r=Qd(t),i=og(t.converter,e);return fg(n,[vp(yp(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,As.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new kg(e.firestore,t)}))},e.prototype.isEqual=function(t){return Jd(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sg.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(Dg);function Og(t){return Wd(t,Gd)}var Rg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(sp.bind.apply(sp,It([void 0],t)))}return t.documentId=function(){return new t(Zo.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Bt(t))instanceof sp&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Lg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new xp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new bp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _p("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sp("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new kp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var Fg,jg={Firestore:bg,GeoPoint:cp,Timestamp:Ho,Blob:yg,Transaction:xg,WriteBatch:_g,DocumentReference:kg,DocumentSnapshot:Cg,Query:Dg,QueryDocumentSnapshot:Ag,QuerySnapshot:Pg,CollectionReference:Ng,FieldPath:Rg,FieldValue:Lg,setLogLevel:function(t){var e;e=t,Mo.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Wt("firestore",(function(t){return function(t,e){return new bg(t,new np(t,e),new vg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},jg)))})(Fg=be),Fg.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(Ne){this.f(Ne)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(Ne){n.reject(Ne)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(zi){o(zi)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Qa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,l=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function k(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||D[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}k(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var C,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in M)if(M[e].id===t)return{firebaseEndpoint:(t=M[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}C=P("__EID__")?"__EID__":void 0,k(O,Error),O.prototype.name="CustomError",k(R,O),R.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new F((function(){return new B}),(function(t){t.reset()}));function z(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=W(t,e)}function X(t,e){var n;return(n=0<=(e=W(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var ht=ct.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===St&&e||"",this.b=_t}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===_t?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var xt,_t={},St={};function kt(){if(void 0===xt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}xt=t}else xt=t}return xt}function Et(t,e){this.a=e===Dt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})),function(t){var e=kt();return t=e?e.createScriptURL(t):t,new Et(t,Dt)}(t)}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function Mt(t,e){this.a=e===jt?t:""}function Pt(t){return t instanceof Mt&&t.constructor===Mt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Mt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Mt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&Nt.test(e[1])?new Mt(t,jt):null}return t}function Ft(t){return t instanceof Mt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Mt(t,jt))}var jt={},Vt=new Mt("about:invalid#zClosurez",jt);function Ut(t,e,n){this.a=n===zt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Bt(t,e,n,r){return t=t instanceof Mt?t:Ft(t),e=e||s,n=n instanceof bt?wt(n):n||"",e.open(Pt(t),n,r,void 0)}function Wt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Kt,Gt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),Xt=ft("Edge"),$t=Xt||Yt,Qt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=function(){var t=Z;return Qt?/rv:([^\);]+)(\)|;)/.exec(t):Xt?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Jt?/WebKit\/(\S+)/.exec(t):Gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ee&&(te=ee?ee[1]:""),Yt){var ne=Zt();if(null!=ne&&ne>parseFloat(te)){Kt=String(ne);break t}}Kt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(s.document&&Yt){var ae=Zt();re=ae||(parseInt(Kt,10)||void 0)}else re=void 0;var se=re;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ga){}var ue=!Yt||9<=Number(se);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,fe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ue&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qt(a.name),'"'),a.type){o.push(' type="',qt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}q(a?J(o):o,r)}}}(i,o,r),o}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){s.setTimeout((function(){throw t}),0)}function ye(t,e){fe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);fe=function(){t.then(xe)}}else fe=function(){var t=xe;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(he||(he=function(){var t=s.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),he(t)):s.setImmediate(t)}}(),ve||(fe(),ve=!0),we.add(t,e)}var ve=!1,we=new V;function xe(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){me(e)}j(U,t)}ve=!1}function Se(t,e){if(this.a=ke,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){je(n,Ee,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(Fg){}je(n,Te,t)}))}catch(r){je(this,Te,r)}}var ke=0,Ee=2,Te=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new F((function(){return new Ie}),(function(t){t.reset()}));function Ae(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function De(t){if(t instanceof Se)return t;var e=new Se(h);return je(e,Ee,t),e}function Me(t){return new Se((function(e,n){n(t)}))}function Pe(t,e,n){Ve(t,e,n,null)||ye(_(e,t))}function Oe(t){return new Se((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==ke)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==ke&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):ze(n),Be(n,i,Te,e)))}t.c=null}else je(t,Te,e)}function Le(t,e){t.b||t.a!=Ee&&t.a!=Te||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function Fe(t,e,n,r){var i=Ae(null,null,null);return i.a=new Se((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(Ne){o(Ne)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof He?o(e):t(i)}catch(Ne){o(Ne)}}:o})),i.a.c=t,Le(t,i),i.a}function je(t,e,n){t.a==ke&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ve(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=Te||n instanceof He||function(t,e){t.g=!0,ye((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Ve(t,e,n,r){if(t instanceof Se)return Le(t,Ae(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ue(t){t.h||(t.h=!0,ye(t.gc,t))}function ze(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,We(e,n,r);else try{e.c?e.g.call(e.f):We(e,n,r)}catch(Fg){qe.call(null,Fg)}j(Ce,e)}function We(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Se.prototype.then=function(t,e,n){return Fe(this,p(t)?t:null,p(e)?e:null,n)},Se.prototype.$goog_Thenable=!0,(t=Se.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Le(this,t),this},t.o=function(t,e){return Fe(this,null,t,e)},t.cancel=function(t){if(this.a==ke){var e=new He(t);ye((function(){Re(this,e)}),this)}},t.$c=function(t){this.a=ke,je(this,Ee,t)},t.ad=function(t){this.a=ke,je(this,Te,t)},t.gc=function(){for(var t;t=ze(this);)Be(this,t,this.a,this.i);this.h=!1};var qe=me;function He(t){O.call(this,t)}function Ke(){0!=Ge&&(Ye[m(this)]=this),this.xa=this.xa,this.pa=this.pa}k(He,O),He.prototype.name="cancel";var Ge=0,Ye={};function Xe(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ge)){var e=m(t);if(0!=Ge&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ye[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},Qe=!Yt||9<=Number(se),Je=Yt&&!oe("9"),Ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function tn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function en(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:nn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}tn.prototype.preventDefault=function(){this.defaultPrevented=!0},k(en,tn);var nn=$e({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},en.prototype.g=function(){return this.a};var rn="closure_listenable_"+(1e6*Math.random()|0),on=0;function an(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++on,this.va=this.Pa=!1}function sn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function un(t){this.src=t,this.a={},this.b=0}function ln(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(sn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function cn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}un.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=cn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new an(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var hn="closure_lm_"+(1e6*Math.random()|0),fn={};function dn(t,e,n,r,i){if(r&&r.once)gn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=kn(n),t&&t[rn]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):pn(t,e,n,!1,r,i)}function pn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=_n(t);if(s||(t[hn]=s=new un(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=xn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function gn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gn(t,e[o],n,r,i);else n=kn(n),t&&t[rn]?In(t,e,n,g(r)?!!r.capture:!!r,i):pn(t,e,n,!0,r,i)}function mn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=kn(n),t&&t[rn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=cn(o=t.a[e],n,r,i))&&(sn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=_n(t))&&(e=t.a[e.toString()],t=-1,e&&(t=cn(e,n,r,i)),(n=-1<t?e[t]:null)&&yn(n))}function yn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[rn])ln(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_n(e))?(ln(n,t),0==n.b&&(n.src=null,e[hn]=null)):sn(t)}}}function vn(t){return t in fn?fn[t]:fn[t]="on"+t}function bn(t,e,n,r){var i=!0;if((t=_n(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=wn(o,r),i=i&&!1!==o)}return i}function wn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&yn(t),n.call(r,e)}function xn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new en(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=bn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=bn(r[i],t,!1,e),n=n&&o}return n}return wn(t,new en(e,this))}function _n(t){return(t=t[hn])instanceof un?t:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(t){return p(t)?t:(t[Sn]||(t[Sn]=function(e){return t.handleEvent(e)}),t[Sn])}function En(){Ke.call(this),this.v=new un(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&ln(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(t,e,n){if(p(t))n&&(t=x(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Dn(t){var e=null;return new Se((function(n,r){-1==(e=An((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Mn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Pn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(En,Ke),En.prototype[rn]=!0,En.prototype.addEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){mn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new tn(t,n);else if(t instanceof tn)t.target=t.target||n;else{var i=t;yt(t=new tn(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)sn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Nn.prototype).W=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Fn?(this.i=void 0!==e?e:t.i,jn(this,t.c),this.l=t.l,this.a=t.a,Vn(this,t.g),this.f=t.f,Un(this,or(t.b)),this.h=t.h):t&&(n=String(t).match(Ln))?(this.i=!!e,jn(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Vn(this,n[4]),this.f=Hn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!e,this.b=new Zn(null,this.i))}function jn(t,e,n){t.c=n?Hn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Vn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Zn?(t.b=e,function(t,e){e&&!t.f&&(tr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nr(this,e),ir(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Qn)),t.b=new Zn(e,t.i))}function zn(t,e,n){t.b.set(e,n)}function Bn(t,e){return t.b.get(e)}function Wn(t){return t instanceof Fn?new Fn(t):new Fn(t,void 0)}function qn(t,e,n,r){var i=new Fn(null,void 0);return t&&jn(i,t),e&&(i.a=e),n&&Vn(i,n),r&&(i.f=r),i}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Yn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Yn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?$n:Xn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Jn)),t.join("")},Fn.prototype.resolve=function(t){var e=new Fn(this),n=!!t.c;n?jn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Vn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Un(e,or(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Yn=/[#\/\?@]/g,Xn=/[#\?:]/g,$n=/[#\?]/g,Qn=/[#\?@]/g,Jn=/#/g;function Zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function tr(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function er(t){var e=Pn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Zn(null,void 0);t=Mn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(t,e){tr(t),e=ar(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function rr(t,e){return tr(t),e=ar(t,e),Rn(t.a.b,e)}function ir(t,e,n){nr(t,e),0<n.length&&(t.c=null,t.a.set(ar(t,e),J(n)),t.b+=n.length)}function or(t){var e=new Zn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function ar(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function sr(t){var e=[];return lr(new ur,t,e),e.join("")}function ur(){}function lr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),lr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),fr(r,n),n.push(":"),lr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":fr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Zn.prototype).add=function(t,e){tr(this),this.c=null,t=ar(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){tr(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){tr(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){tr(this);var e=[];if("string"===typeof t)rr(this,t)&&(e=Q(e,this.a.get(ar(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return tr(this),this.c=null,rr(this,t=ar(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(t,e){e.push('"',t.replace(hr,(function(t){var e=cr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),cr[t]=e),e})),'"')}function dr(){var t=Nr();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function pr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function gr(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(Lt(t)||Vt)),e.location.href=n}function mr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<mr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function yr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function vr(t){t=t||s.window;try{t.close()}catch(e){}}function br(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Dr(Nr())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Mt?n:Lt("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Mt?e:Ft(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Pt(e),a&&($t&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Ut(t=(r=kt())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(_e){}return a}var wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function _r(){var t=null;return new Se((function(e){"complete"==s.document.readyState?e():(t=function(){e()},gn(window,"load",t))})).o((function(e){throw mn(window,"load",t),e}))}function Sr(t){return t=t||Nr(),!("file:"!==jr()&&"ionic:"!==jr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function kr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Er(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Tr(){return be.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":be.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ir(){var t=Tr();return"ReactNative"===t||"Node"===t}var Cr="Firefox",Ar="Chrome";function Dr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Cr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ar:"Safari"}var Mr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Pr(t,e){e=e||[];var n,r=[],i={};for(n in Mr)i[Mr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Dr(i=Nr()):"Worker"===r&&(r=Dr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=s.localStorage,e=Wr();if(t)return t.setItem(e,"1"),t.removeItem(e),!dr()||!!s.indexedDB}catch(n){return Er()&&!!s.indexedDB}return!1}function Lr(){return(Fr()||"chrome-extension:"===jr()||Sr())&&!Ir()&&Rr()&&!Er()}function Fr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function Vr(t){return!yr(t=t||Nr())&&Dr(t)!=Cr}function Ur(t){return"undefined"===typeof t?null:sr(t)}function zr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Br(t){if(null!==t)return JSON.parse(t)}function Wr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Dr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Kr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=Tr(),this.b=yr(t)||"ReactNative"===e}function Gr(){var t=s.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Yr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Xr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}Kr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!==typeof t.onLine||!Fr()&&"chrome-extension:"!==jr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Qr={};function Jr(t){Qr[t]||(Qr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Zr.abcd}catch(ga){$r=!1}function ti(t,e,n){$r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ei(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&ti(t,n,e[n])}function ni(t){var e={};return ei(e,t),e}function ri(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)ti(e,n,ri(t[n]));return e}function ii(t){var e=t&&(t[li]?"phone":null);if(!(e&&t&&t[ui]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ti(this,"uid",t[ui]),ti(this,"displayName",t[ai]||null);var n=null;t[si]&&(n=new Date(t[si]).toUTCString()),ti(this,"enrollmentTime",n),ti(this,"factorId",e)}function oi(t){try{var e=new ci(t)}catch(n){e=null}return e}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",li="phoneInfo";function ci(t){ii.call(this,t),ti(this,"phoneNumber",t[li])}function hi(t){var e={},n=t[gi],r=t[yi],i=t[vi];if(t=oi(t[mi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==fi&&!t)throw Error("Invalid checkActionCode response!");i==pi?(e[wi]=n||null,e[_i]=n||null,e[bi]=r):(e[wi]=r||null,e[_i]=r||null,e[bi]=n||null),e[xi]=t||null,ti(this,ki,i),ti(this,Si,ri(e))}k(ci,ii),ci.prototype.w=function(){var t=ci.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var fi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",gi="email",mi="mfaInfo",yi="newEmail",vi="requestType",bi="email",wi="fromEmail",xi="multiFactorInfo",_i="previousEmail",Si="data",ki="operation";function Ei(t){var e=Bn(t=Wn(t),Ti)||null,n=Bn(t,Ii)||null,r=Bn(t,Di)||null;if(r=r&&Pi[r]||null,!e||!n||!r)throw new T("argument-error",Ti+", "+Ii+"and "+Di+" are required in a valid action code URL.");ei(this,{apiKey:e,operation:r,code:n,continueUrl:Bn(t,Ci)||null,languageCode:Bn(t,Ai)||null,tenantId:Bn(t,Mi)||null})}var Ti="apiKey",Ii="oobCode",Ci="continueUrl",Ai="languageCode",Di="mode",Mi="tenantId",Pi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new Ei(t)}catch(e){return null}}function Oi(t){var e=t[Vi];if("undefined"===typeof e)throw new T("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Wi];var r=n[Ui];if(n=n[Bi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new T("argument-error",Wi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"===typeof e){if("string"===typeof(e=e[qi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new T("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new T("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Fi])&&"boolean"!==typeof e)throw new T("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Li])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Li="dynamicLinkDomain",Fi="handleCodeInApp",ji="iOS",Vi="url",Ui="installApp",Bi="minimumVersion",Wi="packageName",qi="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ki=null;function Gi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ki){Ki={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Yi(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Xi(t){try{return new Yi(t)}catch(e){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Gi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(Ne){}return null}Yi.prototype.T=function(){return this.f},Yi.prototype.l=function(){return this.c},Yi.prototype.toString=function(){return this.h};var Qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ji},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ji},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ji},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Qi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function to(t){for(var e in Zi)if(Zi[e].fa==t)return Zi[e];return null}function eo(t){var e={};e["facebook.com"]=ao,e["google.com"]=uo,e["github.com"]=so,e["twitter.com"]=lo;var n=t&&t[ro];try{if(n)return e[n]?new e[n](t):new oo(t);if("undefined"!==typeof t[no])return new io(t)}catch(r){}return null}var no="idToken",ro="providerId";function io(t){var e=t[ro];if(!e&&t[no]){var n=Xi(t[no]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),ti(this,"providerId",e),ti(this,"isNewUser",n)}function oo(t){io.call(this,t),ti(this,"profile",ri((t=Br(t.rawUserInfo||"{}"))||{}))}function ao(t){if(oo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(oo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",this.profile&&this.profile.login||null)}function uo(t){if(oo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function lo(t){if(oo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",t.screenName||null)}function co(t){var e=Wn(t),n=Bn(e,"link"),r=Bn(Wn(n),"link");return e=Bn(e,"deep_link_id"),Bn(Wn(e),"link")||e||r||n||t}function ho(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?fo:po}k(oo,io),k(ao,oo),k(so,oo),k(uo,oo),k(lo,oo);var fo="enroll",po="signin";function go(){}function mo(t,e){return t.then((function(t){if(t[os]){var n=Xi(t[os]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function yo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,ti(this,"providerId",t),ti(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function bo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new yo(t.providerId,t.pendingToken)}catch(e){}return null}function wo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&ti(this,"idToken",e.idToken),e.accessToken&&ti(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&ti(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ti(this,"accessToken",e.oauthToken),ti(this,"secret",e.oauthTokenSecret)}ti(this,"providerId",t),ti(this,"signInMethod",n)}function xo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:er(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function _o(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new wo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function So(t,e){this.Qc=e||[],ei(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(to(t)||{}).Ja||null,this.ob=null}function ko(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,t,[])}function Eo(t){So.call(this,t,Ji),this.a=[]}function To(){Eo.call(this,"facebook.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Co(){Eo.call(this,"github.com")}function Ao(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function Do(){Eo.call(this,"google.com"),this.Ca("profile")}function Mo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Do).credential({idToken:n,accessToken:e})}function Po(){So.call(this,"twitter.com",Qi)}function No(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,ti(this,"providerId","password"),ti(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Lo(){ei(this,{providerId:"password",isOAuthProvider:!1})}function Fo(t,e){if(!(e=jo(e)))throw new T("argument-error","Invalid email link!");return new Oo(t,e.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=Ni(t=co(t)))&&t.operation===di?t:null}function Vo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,ti(this,"providerId","phone"),this.fa="phone",ti(this,"signInMethod","phone")}function Uo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Vo(e)}return null}function zo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Bo(t){try{this.a=t||be.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ei(this,{providerId:"phone",isOAuthProvider:!1})}function Wo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Vo({eb:t,cb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new Vo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Mo(o,n);case"facebook.com":return Io(n);case"github.com":return Ao(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new yo(e,a):new wo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(_e){return null}}function Ho(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Ko(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Ko(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Yo(){this.b=null,this.a=[]}ho.prototype.Ha=function(){return this.a?De(this.a):De(this.b)},ho.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},go.prototype.ka=function(){},go.prototype.b=function(){},go.prototype.c=function(){},go.prototype.w=function(){},yo.prototype.ka=function(t){return Is(t,vo(this))},yo.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Cs(t,n)},yo.prototype.c=function(t,e){return mo(As(t,vo(this)),e)},yo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},wo.prototype.ka=function(t){return Is(t,xo(this))},wo.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Cs(t,n)},wo.prototype.c=function(t,e){return mo(As(t,xo(this)),e)},wo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},So.prototype.Ka=function(t){return this.Ib=gt(t),this},k(ko,So),k(Eo,So),Eo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},Eo.prototype.Qb=function(){return J(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new wo(this.providerId,n,this.providerId)},k(To,Eo),ti(To,"PROVIDER_ID","facebook.com"),ti(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Co,Eo),ti(Co,"PROVIDER_ID","github.com"),ti(Co,"GITHUB_SIGN_IN_METHOD","github.com"),k(Do,Eo),ti(Do,"PROVIDER_ID","google.com"),ti(Do,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Po,So),ti(Po,"PROVIDER_ID","twitter.com"),ti(Po,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(t,Fs,{email:this.a,oobCode:this.f}):cu(t,ou,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(t,js,{idToken:e,email:this.a,oobCode:this.f}):cu(t,Qs,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return mo(this.ka(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ei(Lo,{PROVIDER_ID:"password"}),ei(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ei(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Vo.prototype.ka=function(t){return t.fb(zo(this))},Vo.prototype.b=function(t,e){var n=zo(this);return n.idToken=e,cu(t,su,n)},Vo.prototype.c=function(t,e){var n=zo(this);return n.operation="REAUTH",mo(t=cu(t,uu,n),e)},Vo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Bo.prototype.fb=function(t,e){var n=this.a.a;return De(e.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=g(t)?t.session:null,a=g(t)?t.phoneNumber:t;return i=o&&o.type==fo?o.Ha().then((function(t){return function(t,e){return cu(t,Zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(e){return function(t,e){return cu(t,tu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return cu(t,Xs,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ei(Bo,{PROVIDER_ID:"phone"}),ei(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Xo,$o=null;function Qo(t){var e="unauthorized-domain",n=void 0,r=Wn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Jo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&ti(this,"email",t.Jb),t.ea&&ti(this,"phoneNumber",t.ea),t.credential&&ti(this,"credential",t.credential),t.Zb&&ti(this,"tenantId",t.Zb)}function Zo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:qo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function ta(){}function ea(t){return t.c||(t.c=t.b())}function na(){}function ra(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(Fg){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Sb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function aa(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function sa(t,e,n){this.reset(t,e,n,void 0,void 0)}k(Qo,T),k(Jo,T),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},ta.prototype.c=null,k(na,ta),na.prototype.a=function(){var t=ra(this);return t?new ActiveXObject(t):new XMLHttpRequest},na.prototype.b=function(){var t={};return ra(this)&&(t[0]=!0,t[1]=!0),t},Xo=new na,k(ia,ta),ia.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(t=oa.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,aa(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(t){this.f=t,this.b=this.c=this.a=null}function la(t,e){this.name=t,this.value=e}sa.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||S(),delete this.a},la.prototype.toString=function(){return this.name};var ca=new la("SEVERE",1e3),ha=new la("WARNING",900),fa=new la("CONFIG",700),da=new la("FINE",500);function pa(t){return t.c?t.c:t.a?pa(t.a):(L("Root logger has no level set."),null)}ua.prototype.log=function(t,e,n){if(t.value>=pa(this).value)for(p(e)&&(e=e()),t=new sa(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ga,ma={},ya=null;function va(t){var e;if(ya||(ya=new ua(""),ma[""]=ya,ya.c=fa),!(e=ma[t])){e=new ua(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=va(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ma[t]=e}return e}function ba(t,e){t&&t.log(da,e,void 0)}function wa(t){this.f=t}function xa(t){En.call(this),this.u=t,this.h=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(wa,ta),wa.prototype.a=function(){return new xa(this.f)},wa.prototype.b=(ga={},function(){return ga}),k(xa,En);var _a=0;function Sa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ka(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ta(t){En.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(t=xa.prototype).open=function(t,e){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ka(this)),this.readyState=_a},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Sa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ka(this):Ea(this),3==this.readyState&&Sa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ka(this))},t.sc=function(t){this.a&&(this.response=t,ka(this))},t.Ua=function(t){var e=this.i;e&&e.log(ha,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ka(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),k(Ta,En);var Ia="";Ta.prototype.b=va("goog.net.XhrIo");var Ca=/^https?$/i,Aa=["POST","PUT"];function Da(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Xo.a(),t.C=t.D?ea(t.D):ea(Xo),t.a.onreadystatechange=x(t.Vb,t);try{ba(t.b,Va(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ba(t.b,Va(t,"Error opening Xhr: "+a.message)),void Pa(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)q(t,e,void 0);else for(var n=Pn(t),r=Mn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ma,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Y(Aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{La(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ba(t.b,Va(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=x(t.Ma,t)):t.s=An(t.Ma,t.g,t)),ba(t.b,Va(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ba(t.b,Va(t,"Send error: "+a.message)),Pa(t,a)}}function Ma(t){return"content-type"==t.toLowerCase()}function Pa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Na(t),Ra(t)}function Na(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Oa(t){if(t.c&&"undefined"!=typeof a)if(t.C[1]&&4==Fa(t)&&2==ja(t))ba(t.b,Va(t,"Local request error detected and ignored"));else if(t.i&&4==Fa(t))An(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Fa(t)){ba(t.b,Va(t,"Request complete")),t.c=!1;try{var e,n=ja(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Ln)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Fa(t)?t.a.statusText:""}catch(c){ba(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+ja(t)+"]",Na(t)}}finally{Ra(t)}}}function Ra(t,e){if(t.a){La(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Fg){(t=t.b)&&t.log(ca,"Problem encountered resetting onreadystatechange: "+Fg.message,void 0)}}}function La(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Fa(t){return t.a?t.a.readyState:0}function ja(t){try{return 2<Fa(t)?t.a.status:-1}catch(e){return-1}}function Va(t,e){return e+" ["+t.R+" "+t.l+" "+ja(t)+"]"}function Ua(t){var e=Qa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function za(t,e,n){t.a=!0,t.c=n,t.f=!e,Ha(t)}function Ba(t){if(t.a){if(!t.v)throw new Ka(t);t.v=!1}}function Wa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ha(t)}function qa(t){return G(t.g,(function(t){return p(t[1])}))}function Ha(t){if(t.h&&t.a&&qa(t)){var e=t.h,n=Xa[e];n&&(s.clearTimeout(n.a),delete Xa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"===typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,qa(t)||(n=!0)}}t.c=e,r&&(u=x(t.m,t,!0),r=x(t.m,t,!1),e instanceof Ua?(Wa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ya(e),Xa[e.a]=e,t.h=e.a)}function Ka(){O.call(this)}function Ga(){O.call(this)}function Ya(t){this.a=s.setTimeout(x(this.c,this),0),this.b=t}(t=Ta.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ba(this.b,Va(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ba(this.b,Va(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ra(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ra(this,!0)),Ta.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Oa(this):this.Jc())},t.Jc=function(){Oa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ba(this.b,"Can not get response: "+e.message),null}},Ua.prototype.cancel=function(t){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ga(this),Ba(this),za(this,!1,t))}},Ua.prototype.m=function(t,e){this.i=!1,za(this,t,e)},Ua.prototype.then=function(t,e,n){var r,i,o=new Se((function(t,e){r=t,i=e}));return Wa(this,r,(function(t){t instanceof Ga?o.cancel():i(t)})),o.then(t,e,n)},Ua.prototype.$goog_Thenable=!0,k(Ka,O),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",k(Ga,O),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Ya.prototype.c=function(){throw delete Xa[this.a],this.b};var Xa={};function $a(t){var e={},n=e.document||document,r=Tt(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ja(i,!0);var t=new es(ts,"Timeout reached for loading script "+r);Ba(a),za(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ja(i,e.xd||!1,u),Ba(a),za(a,!0,null))},i.onerror=function(){Ja(i,!0,u);var t=new es(Za,"Error while loading script "+r);Ba(a),za(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===l&&(l=c(s.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Qa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ja(t,!0,this.Ma)}}function Ja(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Za=0,ts=1;function es(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function ns(t){this.f=t}function rs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||as,this.g=gt(t.secureTokenHeaders||ss),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||us,this.a=gt(t.firebaseHeaders||ls),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&be.INTERNAL.node&&be.INTERNAL.node.XMLHttpRequest)&&!Er())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new wa(self):Ir()?this.f=new ns(n):this.f=new ia,this.b=null}k(es,O),k(ns,ta),ns.prototype.a=function(){return new this.f},ns.prototype.b=function(){return{}};var is,os="idToken",as=new Kr(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},us=new Kr(3e4,6e4),ls={"Content-Type":"application/json"};function cs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function hs(t,e){e&&(t.l=fs("https://securetoken.googleapis.com/v1/token",e),t.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=fs("https://identitytoolkit.googleapis.com/v2/",e))}function fs(t,e){return t=Wn(t),e=Wn(e.url),t.f=t.a+t.f,jn(t,e.c),t.a=e.a,Vn(t,e.g),t.toString()}function ds(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ps(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Dr(t)!=Ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!se||9<se)})()||Er()?t=x(t.u,t):(is||(is=new Se((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ms]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Wa(t,null,e,void 0)}($a(It(gs,{onload:ms})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=x(t.s,t)),t(e,n,r,i,o,a)}rs.prototype.T=function(){return this.b},rs.prototype.u=function(t,e,n,r,i,o){if(Er()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ba(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(Ne){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),Xe(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Xe(this),e&&e(null)})),Da(a,t,n,r,i)};var gs=new bt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function ys(t,e,n,r,i,o,a){var s=Wn(e+n);zn(s,"key",t.c),a&&zn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&zn(s,l,i[l]);return new Se((function(e,n){ps(t,s.toString(),(function(t){t?t.error?n(fu(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:sr(zr(i)),t.a,t.v.get())}))}function vs(t){if("string"!==typeof(t=t.email)||!xr.test(t))throw new T("invalid-email")}function bs(t){"email"in t&&vs(t)}function ws(t){if(!t[os]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,gt(t));throw new T("internal-error")}}function xs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}rs.prototype.s=function(t,e,n,r,i){var o=this;is.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},rs.prototype.zb=function(){return cu(this,Js,{})},rs.prototype.Bb=function(t,e){return cu(this,$s,{idToken:t,email:e})},rs.prototype.Cb=function(t,e){return cu(this,Qs,{idToken:t,password:e})};var _s={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ks(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(rr(t=new Zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ts(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Zo(t)):t.errorMessage&&(e=hu(t.errorMessage)),e)throw e;ws(t)}function Is(t,e){return e.returnIdpCredential=!0,cu(t,eu,e)}function Cs(t,e){return e.returnIdpCredential=!0,cu(t,ru,e)}function As(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,cu(t,nu,e)}function Ds(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=rs.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(_s,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,$s,n)},t.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),cu(this,Hs,t)},t.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),cu(this,Bs,t)},t.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),cu(this,Ws,t)},t.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),cu(this,qs,t)},t.fb=function(t){return cu(this,au,t)},t.nb=function(t,e){return cu(this,Ys,{oobCode:t,newPassword:e})},t.Ra=function(t){return cu(this,Ps,{oobCode:t})},t.jb=function(t){return cu(this,Ms,{oobCode:t})};var Ms={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:Ds,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ns={endpoint:"signupNewUser",A:function(t){if(vs(t),!t.password)throw new T("weak-password")},G:ws,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Rs={endpoint:"deleteAccount",N:["idToken"]},Ls={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Fs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:vs,G:ws,V:!0,B:!0},js={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:vs,G:ws,V:!0},Vs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Ss,G:ws,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:ws,B:!0,Na:!0},zs={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");vs(t)},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");vs(t)},Z:"email",B:!0},Ks={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Gs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ys={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},Xs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$s={endpoint:"setAccountInfo",N:["idToken"],A:bs,V:!0},Qs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(bs(t),!t.password)throw new T("weak-password")},G:ws,V:!0},Js={endpoint:"signupNewUser",G:ws,V:!0,B:!0},Zs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},tu={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:ks,Ya:Es,G:Ts,V:!0,B:!0},nu={endpoint:"verifyAssertion",A:ks,Ya:Es,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw hu(t.errorMessage);ws(t)},V:!0,B:!0},ru={endpoint:"verifyAssertion",A:function(t){if(ks(t),!t.idToken)throw new T("internal-error")},Ya:Es,G:Ts,V:!0},iu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ws,V:!0,B:!0},ou={endpoint:"verifyPassword",A:function(t){if(vs(t),!t.password)throw new T("wrong-password")},G:ws,V:!0,B:!0},au={endpoint:"verifyPhoneNumber",A:xs,G:ws,B:!0},su={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");xs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Zo(t);ws(t)}},uu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xs,G:ws,B:!0},lu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[os]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function cu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Me(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return De(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ys(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function hu(t){return fu({error:{errors:[{message:t}],code:400,message:t}})}function fu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Ur(t)),new T("internal-error",e)}function du(t){this.b=t,this.a=null,this.rb=function(t){return(yu||(yu=new Se((function(t,e){function n(){Hr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Hr(),e(Error("Network Error"))},timeout:gu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},De($a(r=It(pu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw yu=null,t})))).then((function(){return new Se((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),mu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var pu=new bt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),gu=new Kr(3e4,6e4),mu=new Kr(5e3,15e3),yu=null;function vu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Wn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function bu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function wu(t){try{return be.app(t).auth().Ga()}catch(e){return[]}}function xu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _u(t){var e=pr();return function(t){return cu(t,Ks,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Wn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Wn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:wr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Qo(pr())}))}function Su(t){return t.m||(t.m=_r().then((function(){if(!t.u){var e=t.c,n=t.i,r=wu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new du(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",De(n)}return n.status="ERROR",De(n)}))}(t)}))),t.m}function ku(t){return t.l||(t.C=t.c?Pr(t.c,wu(t.b)):null,t.l=new rs(t.g,P(t.i),t.C),t.f&&hs(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,l,c,h){return(t=new bu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=l,t.yb(c).toString()}function Tu(t){if(this.a=t||be.INTERNAL.reactNative&&be.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=x(this.c,this)}vu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},bu.prototype.yb=function(t){return this.h=t,this},bu.prototype.toString=function(){if(this.v){var t=Wn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(zn(t,"apiKey",this.s),zn(t,"appName",this.c),zn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=be.app(this.c).auth().la()}catch(_e){n=null}for(var r in e.ob=n,zn(t,"providerId",this.a.providerId),e=zr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=gt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||zn(t,"customParameters",Ur(e))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&zn(t,"scopes",n.join(","))),this.l?zn(t,"redirectUrl",this.l):nr(t.b,"redirectUrl"),this.g?zn(t,"eventId",this.g):nr(t.b,"eventId"),this.i?zn(t,"v",this.i):nr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(t,a)&&zn(t,a,this.b[a]);return this.h?zn(t,"tid",this.h):nr(t.b,"tid"),this.f?zn(t,"eid",this.f):nr(t.b,"eid"),(a=wu(this.c)).length&&zn(t,"fw",a.join(",")),t.toString()},(t=xu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return Su(t).then((function(){return function(t,e){return t.rb.then((function(){return new Se((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&vr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Se((function(e){return function n(){Dn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Dn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Nr();return!Vr(t)&&!qr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Me(new T("popup-blocked"));if(a&&!Vr())return this.ma().o((function(e){vr(t),i(e)})),r(),De();this.a||(this.a=_u(ku(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw vr(t),i(e),e}));return r(),e})).then((function(){(Ho(n),a)||gr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=_u(ku(this)));var i=this;return this.a.then((function(){Ho(e),gr(Eu(i.s,i.g,i.b,t,e,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return Su(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){$(this.h,(function(e){return e==t}))},(t=Tu.prototype).get=function(t){return De(this.a.getItem(t)).then((function(t){return t&&Br(t)}))},t.set=function(t,e){return De(this.a.setItem(t,Ur(e)))},t.U=function(t){return De(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Cu,Au=[];function Du(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Mu(t){this.a=t}function Pu(t){this.c=t,this.b=!1,this.a=[]}function Nu(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return Me(Error("connection_unavailable"));var c=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Se((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},l={messageChannel:h,onMessage:o},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ou(t,l),e})).o((function(e){throw Ou(t,l),e}))}function Ou(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function Ru(){if(!Vu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(q(Au,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Au.push(e)}return e}(),Du(this.v,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),Du(this.v,"ping",(function(){return De(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?De().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):De(null)}().then((function(e){(t.h=e)&&(t.g=new Pu(new Mu(e)),Nu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Lu(t){return new Se((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Se((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Lu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Fu(t){return t.i||(t.i=Lu(t)),t.i}function ju(t,e){var n=0;return new Se((function r(i,o){Fu(t).then(e).then(i).o((function(e){if(!(3<++n))return Fu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Vu(){try{return!!s.indexedDB}catch(ga){return!1}}function Uu(t){return t.objectStore("firebaseLocalStorage")}function zu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Bu(t){return new Se((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Wu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Nu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):De()}function qu(t){return Fu(t).then((function(t){var e=Uu(zu(t,!1));return e.getAll?Bu(e.getAll()):new Se((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=mr(t.c,n),t.c=n}return r}))}function Hu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ku(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=De().then((function(){if(Vu()){var t=Wr(),r="__sak"+t;return Cu||(Cu=new Ru),(n=Cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Yu(){if(!function(){var t="Node"==Tr();if(t=Xu()||t&&be.INTERNAL.node&&be.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Xu()||be.INTERNAL.node.localStorage,this.type="localStorage"}function Xu(){try{var t=s.localStorage,e=Wr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $u(){this.type="nullStorage"}function Qu(){if(!function(){var t="Node"==Tr();if(t=Ju()||t&&be.INTERNAL.node&&be.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ju()||be.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ju(){try{var t=s.sessionStorage,e=Wr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Zu(){var t={};t.Browser=nl,t.Node=rl,t.ReactNative=il,t.Worker=ol,this.a=t[Tr()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(De().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Mu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Pu.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(t=Ru.prototype).set=function(t,e){var n=this,r=!1;return ju(this,(function(e){return Bu((e=Uu(zu(e,!0))).get(t))})).then((function(i){return ju(n,(function(o){if(o=Uu(zu(o,!0)),i)return i.value=e,Bu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Bu(o.add(a))}))})).then((function(){return n.c[t]=e,Wu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return ju(this,(function(e){return Bu(Uu(zu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return ju(this,(function(r){return n=!0,e.b++,Bu(Uu(zu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Wu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Hu(t),e()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Hu(this)},(t=Ku.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=Gu.prototype).get=function(t){return De(this.a[t])},t.set=function(t,e){return this.a[t]=e,De()},t.U=function(t){return delete this.a[t],De()},t.ca=function(){},t.ia=function(){},(t=Yu.prototype).get=function(t){var e=this;return De().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return De().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return De().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&dn(s.window,"storage",t)},t.ia=function(t){s.window&&mn(s.window,"storage",t)},(t=$u.prototype).get=function(){return De(null)},t.set=function(){return De()},t.U=function(){return De()},t.ca=function(){},t.ia=function(){},(t=Qu.prototype).get=function(t){var e=this;return De().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return De().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return De().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var tl,el,nl={F:Yu,bb:Qu},rl={F:Yu,bb:Qu},il={F:Tu,bb:$u},ol={F:Yu,bb:$u},al={rd:"local",NONE:"none",td:"session"};function sl(){var t=!(qr(Nr())||!kr()),e=Vr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},tl||(tl=new Zu),t=tl;try{this.g=!dr()&&Xr()||!s.indexedDB?new t.a.F:new Ku(Er()?new Gu:new t.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Gu}this.v=new Gu,this.f=x(this.Yb,this),this.b={}}function ul(){return el||(el=new sl),el}function ll(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function cl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function hl(t,e,n){return n=cl(e,n),"local"==e.F&&(t.b[n]=null),ll(t,e.F).U(n)}function fl(t){t.c&&(clearInterval(t.c),t.c=null)}function dl(t){this.a=t,this.b=ul()}(t=sl.prototype).get=function(t,e){return ll(this,t.F).get(cl(t,e))},t.set=function(t,e,n){var r=cl(t,n),i=this,o=ll(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=cl(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(ll(this,"local").ca(this.f),this.h||(dr()||!Xr())&&s.indexedDB||!this.l||function(t){fl(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new en({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=cl(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(ll(this,"local").ia(this.f),fl(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ll(this,"local").ia(this.f):fl(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Yt&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,x(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var pl,gl={name:"authEvent",F:"local"};function ml(){this.a=ul()}function yl(t,e){this.b=vl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===pl&&(pl=s.Int32Array?new Int32Array(El):El),this.reset()}k(yl,(function(){this.b=-1}));for(var vl=64,bl=vl-1,wl=[],xl=0;xl<bl;xl++)wl[xl]=0;var _l=Q(128,wl);function Sl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|pl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function kl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Sl(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Sl(t),i=0)}}t.c=i,t.g+=n}yl.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var El=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tl(){yl.call(this,8,Il)}k(Tl,yl);var Il=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cl(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ml,this.g=new dl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(t){return new T("invalid-cordova-configuration",t)}function Dl(t){var e=new Tl;kl(e,t),t=[];var n=8*e.g;56>e.c?kl(e,_l,56-e.c):kl(e,_l,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Sl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ml(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Pl(t){return t.f||(t.f=t.ma().then((function(){return new Se((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Nl(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=co(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=Wn(i),"firebaseError")||null))?I(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ml(t,i)}))}var n=new Ko("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Dn(500).then((function(){return Nl(t).then((function(){r||Ml(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(_e){console.error(_e)}},$o||($o=new Yo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Or("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Nl(t){var e=null;return function(t){return t.b.get(gl,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,hl((n=t.g).b,gl,n.a)})).then((function(){return e}))}function Ol(t){this.a=t,this.b=ul()}(t=Cl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?_r().then((function(){return new Se((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Me(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Or("universalLinks.subscribe",s))throw Al("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Or("BuildInfo.packageName",s))throw Al("cordova-plugin-buildinfo is not installed");if("function"!==typeof Or("cordova.plugins.browsertab.openUrl",s))throw Al("cordova-plugin-browsertab is not installed");if("function"!==typeof Or("cordova.InAppBrowser.open",s))throw Al("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),De()},t.Mb=function(){return Me(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Me(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,l=null,c=null;return this.c=De().then((function(){return Ho(e),Pl(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ko(e,r,null,o,new T("no-auth-event"),null,i),u=Or("BuildInfo.packageName",s);if("string"!==typeof u)throw new T("invalid-cordova-configuration");var l=Or("BuildInfo.displayName",s),c={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Me(new T("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=Dl(o),c.sessionId=o;var h=Eu(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(gl,a.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Or("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Se((function(t,e){u=function(){var e=Or("cordova.plugins.browsertab.close",s);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){a||(a=Dn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},c=function(){Gr()&&l()},o.addEventListener("resume",l,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Nl(i).then((function(){throw t}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Pl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ko("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){$(this.b,(function(e){return e==t}))};var Rl={name:"pendingRedirect",F:"session"};function Ll(t){return hl(t.b,Rl,t.a)}function Fl(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Jl,this.C=new rc,this.g=new Ol($l(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jl(this.D,this.v,this.m,C,this.J)}function jl(t,e,n,r,i){var o=be.SDK_VERSION||null;return Sr()?new Cl(t,e,n,o,r,i):new xu(t,e,n,o,r,i)}function Vl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Ul(t){t.a.Xb()&&Vl(t).o((function(e){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Kl(e)&&t.s(n)})),t.a.Tb()||Zl(t.b)}function zl(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Rl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ll(t.g).then((function(){Vl(t).o((function(e){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Kl(e)&&t.s(n)}))})):Ul(t)})).o((function(){Ul(t)}))}function Bl(t,e){$(t.h,(function(t){return t==e}))}Fl.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=jl(this.D,this.v,this.m,null,this.J),this.i={}},Fl.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Zl(this.b),e};var Wl=new Kr(2e3,1e4),ql=new Kr(3e4,6e4);function Hl(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Kl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gl(t,e,n,r,i){var o;return function(t){return t.b.set(Rl,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Kl(e))throw new T("operation-not-supported-in-this-environment");return o=e,Ll(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Se((function(){})):Ll(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Yl(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Wl.get())}Fl.prototype.qa=function(){return this.b.qa()};var Xl={};function $l(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Ql(t,e,n,r){var i=$l(e,n,r);return Xl[i]||(Xl[i]=new Fl(t,e,n,r)),Xl[i]}function Jl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Zl(t){t.g||(t.g=!0,nc(t,!1,null,null))}function tc(t){t.g&&!t.i&&nc(t,!1,null,null)}function ec(t,e){if(t.b=function(){return De(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function nc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Me(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):ec(t,n):ec(t,{user:null}),t.f=[],t.c=[]}function rc(){}function ic(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function oc(t,e){this.a=e,ti(this,"verificationId",t)}function ac(t,e,n,r){return new Bo(t).fb(e,n).then((function(t){return new oc(t,r)}))}function sc(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ei(this,{token:t,expirationTime:Yr(1e3*e.exp),authTime:Yr(1e3*e.auth_time),issuedAtTime:Yr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function uc(t,e,n){var r=e&&e[cc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ho(null,r),this.b=[];var i=this;q(e[lc]||[],(function(t){(t=oi(t))&&i.b.push(t)})),ti(this,"auth",this.a),ti(this,"session",this.c),ti(this,"hints",this.b)}Jl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Jl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(nc(this,!0,null,t.a),De()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){nc(t,s,e,null)})).o((function(e){nc(t,s,null,e)}))}(this,t,e):Me(new T("invalid-auth-event")):(nc(this,!1,null,null),De())}else Me(new T("invalid-auth-event"))},Jl.prototype.qa=function(){var t=this;return new Se((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Dn(ql.get()).then((function(){t.b||(t.g=!0,nc(t,!0,null,e))}))}(t))}))},rc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),De()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Me(new T("invalid-auth-event"))}else Me(new T("invalid-auth-event"))},oc.prototype.confirm=function(t){return t=Wo(this.verificationId,t),this.a(t)};var lc="mfaInfo",cc="mfaPendingCredential";function hc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new uc(t,e,n),ti(this,"resolver",this.b)}function fc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new hc(e,t.serverResponse,n,t.message)}catch(r){}return null}function dc(){}function pc(t){ti(this,"factorId",t.fa),this.a=t}function gc(t){if(pc.call(this,t),this.a.fa!=Bo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function mc(t,e){for(var n in tn.call(this,t),e)this[n]=e[n]}function yc(t,e){this.a=t,this.b=[],this.c=x(this.yc,this),dn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ui]=t.uid),t.displayName&&(r[ai]=t.displayName),t.enrollmentTime&&(r[si]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[li]=t.phoneNumber);try{e=new ci(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),vc(this,n)}function vc(t,e){t.b=e,ti(t,"enrolledFactors",e)}function bc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function wc(t,e){t.stop(),t.b=Dn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Gr()||!t?De():new Se((function(n){e=function(){Gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){wc(t,!0)})).o((function(e){t.i(e)&&wc(t,!1)}))}function xc(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function _c(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function Sc(t,e){t.b=Xi(e[os]||""),t.a=e.refreshToken,_c(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function kc(t,e){return function(t,e){return new Se((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ps(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(fu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",er(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Xi(e.access_token),t.a=e.refresh_token,_c(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Ec(t,e){this.a=t||null,this.b=e||null,ei(this,{lastSignInTime:Yr(e||null),creationTime:Yr(t||null)})}function Tc(t,e,n,r,i,o){ei(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ic(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=be.SDK_VERSION?Pr(be.SDK_VERSION):null;this.a=new rs(this.l,P(C),r),t.emulatorConfig&&hs(this.a,t.emulatorConfig),this.b=new xc(this.a),Rc(this,e[os]),Sc(this.b,e),ti(this,"refreshToken",this.b.a),jc(this,n||{}),En.call(this),this.R=!1,this.s&&Lr()&&(this.i=Ql(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new bc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=x(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){hs(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Dc(i,t.f)},this.ba=null,this.O=new yc(this,n),ti(this,"multiFactor",this.O)}function Cc(t,e){t.ja&&mn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&dn(e,"languageCodeChanged",t.Oa)}function Ac(t,e){t.X&&mn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&dn(e,"emulatorConfigChanged",t.Aa)}function Dc(t,e){t.$=e,ds(t.a,be.SDK_VERSION?Pr(be.SDK_VERSION,t.$):null)}function Mc(t,e){t.ba&&mn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&dn(e,"frameworkChanged",t.Ba)}function Pc(t){try{return be.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nc(t){t.D||t.u.b||(t.u.start(),mn(t,"tokenChanged",t.aa),dn(t,"tokenChanged",t.aa))}function Oc(t){mn(t,"tokenChanged",t.aa),t.u.stop()}function Rc(t,e){t.za=e,ti(t,"_lat",e)}function Lc(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function Fc(t){t.i&&!t.R&&(t.R=!0,zl(t.i,t))}function jc(t,e){ei(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Ec(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Vc(){}function Uc(t){return De().then((function(){if(t.D)throw new T("app-deleted")}))}function zc(t){return K(t.providerData,(function(t){return t.providerId}))}function Bc(t,e){e&&(Wc(t,e.providerId),t.providerData.push(e))}function Wc(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function qc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&ti(t,e,n)}function Hc(t,e){t!=e&&(ei(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?ti(t,"metadata",function(t){return new Ec(t.a,t.b)}(e.metadata)):ti(t,"metadata",new Ec),q(e.providerData,(function(e){Bc(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),ti(t,"refreshToken",t.b.a),vc(t.O,e.O.b))}function Kc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return cu(t.a,zs,{idToken:e}).then(x(t.Kc,t))}(t,e).then((function(){return n||qc(t,"isAnonymous",!1),e}))}))}function Gc(t,e){e[os]&&t.za!=e[os]&&(Sc(t.b,e),t.dispatchEvent(new mc("tokenChanged")),Rc(t,e[os]),qc(t,"refreshToken",t.b.a))}function Yc(t,e){return Kc(t).then((function(){if(Y(zc(t),e))return Lc(t).then((function(){throw new T("provider-already-linked")}))}))}function Xc(t,e,n){return ni({user:t,credential:qo(e),additionalUserInfo:e=eo(e),operationType:n})}function $c(t,e){return Gc(t,e),t.reload().then((function(){return t}))}function Qc(t,e,n,r,i){if(!Lr())return Me(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Me(t.h);var o=to(n.providerId),a=Wr(t.uid+":::"),s=null;(!Vr()||kr())&&t.s&&n.isOAuthProvider&&(s=Eu(t.s,t.l,t.m,e,n,null,a,be.SDK_VERSION||null,null,null,t.tenantId));var u=br(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Zc(t),!i)return t.I().then((function(){}))})).then((function(){return Hl(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Se((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Yl(t.i,t,e,u,a)}))})).then((function(t){return u&&vr(u),t?ni(t):null})).o((function(t){throw u&&vr(u),t})),th(t,r,i)}function Jc(t,e,n,r,i){if(!Lr())return Me(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Me(t.h);var o=null,a=Wr(t.uid+":::");return r=r().then((function(){if(Zc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Lc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(rh,t.w(),e.a)),e})).then((function(){return Gl(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return ih(t.ha);throw o})).then((function(){if(o)throw o})),th(t,r,i)}function Zc(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function th(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Me(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new mc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){X(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fc(e.w(),Pc(t),x(t.jc,t))),n||e}))}function eh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[os]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Ic(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Bc(i,ni(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function nh(t){this.a=t,this.b=ul()}uc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[lc],delete n[cc],yt(n,t),e.g(n)}))},k(hc,T),dc.prototype.sb=function(t,e,n){return e.type==fo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:zo(t.a)}),cu(e,Vs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:zo(t.a)}),cu(e,Us,n)}))}(this,t,e)},k(pc,dc),k(gc,pc),k(mc,tn),(t=yc.prototype).yc=function(t){vc(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=oi(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ho(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Gc(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return cu(r,lu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return vc(e,r),Gc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},bc.prototype.start=function(){this.a=this.c,wc(this,!0)},bc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},xc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},xc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Me(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?kc(this,{grant_type:"refresh_token",refresh_token:this.a}):De(null):De({accessToken:this.b.toString(),refreshToken:this.a})},Ec.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Ic,En),Ic.prototype.wa=function(t){this.ya=t,cs(this.a,t)},Ic.prototype.la=function(){return this.ya},Ic.prototype.Ga=function(){return J(this.$)},Ic.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ti(Ic.prototype,"providerId","firebase"),(t=Ic.prototype).reload=function(){var t=this;return th(this,Uc(this).then((function(){return Kc(t).then((function(){return Lc(t)})).then(Vc)})))},t.oc=function(t){return this.I(t).then((function(t){return new sc(t)}))},t.I=function(t){var e=this;return th(this,Uc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Rc(e,t.accessToken),e.dispatchEvent(new mc("tokenChanged"))),qc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");jc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new Tc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Bc(this,e[n]);qc(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new mc("userReloaded",{hd:t}))},t.Lc=function(t){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return th(this,t.c(this.a,this.uid).then((function(t){return Gc(e,t),n=Xc(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return th(this,Yc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Xc(e,t,"link"),$c(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return th(this,Yc(this,"phone").then((function(){return ac(Pc(n),t,e,x(n.qb,n))})))},t.Mc=function(t,e){var n=this;return th(this,De().then((function(){return ac(Pc(n),t,e,x(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Gc(e,t),e.reload()})))},t.ed=function(t){var e=this;return th(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Gc(e,t),e.reload()})))},t.Cb=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Gc(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Uc(this);var e=this;return th(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Gc(e,t),qc(e,"displayName",t.displayName||null),qc(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(ti(t,"displayName",e.displayName),ti(t,"photoURL",e.photoURL))})),Lc(e)})).then(Vc))},t.cd=function(t){var e=this;return th(this,Kc(this).then((function(n){return Y(zc(e),t)?function(t,e,n){return cu(t,Ls,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(zc(e),(function(t){n[t]||Wc(e,t)})),n[Bo.PROVIDER_ID]||ti(e,"phoneNumber",null),Lc(e)})):Lc(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return th(this,this.I().then((function(e){return cu(t.a,Rs,{idToken:e})})).then((function(){t.dispatchEvent(new mc("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Cc(t,null),Ac(t,null),Mc(t,null),t.J=[],t.D=!0,Oc(t),ti(t,"refreshToken",null),t.i&&Bl(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?x(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?x(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?x(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?x(this.Lb,this):null},t.Ec=function(t){var e=this;return Qc(this,"linkViaPopup",t,(function(){return Yc(e,t.providerId).then((function(){return Lc(e)}))}),!1)},t.Nc=function(t){return Qc(this,"reauthViaPopup",t,(function(){return De()}),!0)},t.Fc=function(t){var e=this;return Jc(this,"linkViaRedirect",t,(function(){return Yc(e,t.providerId)}),!1)},t.Oc=function(t){return Jc(this,"reauthViaRedirect",t,(function(){return De()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return th(this,this.I().then((function(n){return Cs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Xc(i,t,"link"),$c(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=De().then((function(){return mo(As(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Xc(i,t,"reauthenticate"),Gc(i,t),i.h=null,i.reload()})).then((function(){return o}));return th(this,a,!0)},t.ub=function(t){var e=this,n=null;return th(this,this.I().then((function(e){return n=e,"undefined"===typeof t||pt(t)?{}:Hi(new Oi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return th(this,this.I().then((function(t){return r=t,"undefined"===typeof e||pt(e)?{}:Hi(new Oi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return th(this,t=mo(De(t),n.uid).then((function(t){return e=Xc(n,t,"reauthenticate"),Gc(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.w()),t};var rh={name:"redirectUser",F:"session"};function ih(t){return hl(t.b,rh,t.a)}function oh(t){this.a=t,this.b=ul(),this.c=null,this.f=function(t){var e=uh("local"),n=uh("session"),r=uh("none");return function(t,e,n){var r=cl(e,n),i=ll(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Br(s.localStorage.getItem(r))}catch(_e){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(sh,t.a).then((function(t){return t?uh(t):e}))}))}))})).then((function(e){return t.c=e,ah(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(uh("local"),this.a,x(this.g,this))}function ah(t,e){var n,r=[];for(n in al)al[n]!==e&&r.push(hl(t.b,uh(al[n]),t.a));return r.push(hl(t.b,sh,t.a)),function(t){return new Se((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],_(o,s),a);else e(i)}))}(r)}oh.prototype.g=function(){var t=this,e=uh("local");fh(this,(function(){return De().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ah(t,"local").then((function(){t.c=e}))}))}))};var sh={name:"persistence",F:"session"};function uh(t){return{name:"authUser",F:t}}function lh(t,e){return fh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ch(t){return fh(t,(function(){return hl(t.b,t.c,t.a)}))}function hh(t,e,n){return fh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),eh(t||{})}))}))}function fh(t,e){return t.f=t.f.then(e,e),t.f}function dh(t){if(this.l=!1,ti(this,"settings",new ic),ti(this,"app",t),!_h(this).options||!_h(this).options.apiKey)throw new T("invalid-api-key");t=be.SDK_VERSION?Pr(be.SDK_VERSION):null,this.a=new rs(_h(this).options&&_h(this).options.apiKey,P(C),t),this.R=[],this.s=[],this.O=[],this.hb=be.INTERNAL.createSubscribe(x(this.zc,this)),this.X=void 0,this.bc=be.INTERNAL.createSubscribe(x(this.Ac,this)),wh(this,null),this.i=new oh(_h(this).options.apiKey+":"+_h(this).name),this.D=new nh(_h(this).options.apiKey+":"+_h(this).name),this.$=Th(this,function(t){var e=_h(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(rh,t.a).then((function(t){return t&&e&&(t.authDomain=e),eh(t||{})}))}(t.D,_h(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),ih(t.D)}));return Th(t,e)}(t).then((function(){return hh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return lh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ch(t.i)}))):null})).then((function(e){wh(t,e||null)}));return Th(t,n)}(this)),this.h=Th(this,function(t){return t.$.then((function(){return vh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(uh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.ya=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(t){var e=_h(t).options.authDomain,n=_h(t).options.apiKey;e&&Lr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Ql(e,n,_h(t).name,t.P),zl(t.b,t),Sh(t)&&Fc(Sh(t)),t.m){Fc(t.m);var r=t.m;r.wa(t.la()),Cc(r,t),Dc(r=t.m,t.J),Mc(r,t),hs((r=t.m).a,t.P),Ac(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Wn(this.P.url);t=ni({protocol:t.c,host:t.a,port:t.g,options:ni({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ph(t){tn.call(this,"languageCodeChanged"),this.h=t}function gh(t){tn.call(this,"emulatorConfigChanged"),this.c=t}function mh(t){tn.call(this,"frameworkChanged"),this.f=t}function yh(t){return t.Oa||Me(new T("auth-domain-config-required"))}function vh(t){if(!Lr())return Me(new T("operation-not-supported-in-this-environment"));var e=yh(t).then((function(){return t.b.qa()})).then((function(t){return t?ni(t):null}));return Th(t,e)}function bh(t,e){var n={};return n.apiKey=_h(t).options.apiKey,n.authDomain=_h(t).options.authDomain,n.appName=_h(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new Ic(t,e);return n&&(i.ha=n),r&&Dc(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return Sh(t)&&e.uid==Sh(t).uid?(Hc(Sh(t),e),t.da(e)):(wh(t,e),Fc(e),t.da(e))})).then((function(){Eh(t)}))}function wh(t,e){Sh(t)&&(function(t,e){$(t.S,(function(t){return t==e}))}(Sh(t),t.Ba),mn(Sh(t),"tokenChanged",t.ya),mn(Sh(t),"userDeleted",t.za),mn(Sh(t),"userInvalidated",t.Aa),Oc(Sh(t))),e&&(e.S.push(t.Ba),dn(e,"tokenChanged",t.ya),dn(e,"userDeleted",t.za),dn(e,"userInvalidated",t.Aa),0<t.u&&Nc(e)),ti(t,"currentUser",e),e&&(e.wa(t.la()),Cc(e,t),Dc(e,t.J),Mc(e,t),hs(e.a,t.P),Ac(e,t))}function xh(t,e){var n=null,r=null;return Th(t,e.then((function(e){return n=qo(e),r=eo(e),bh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fc(e.w(),t,x(t.kc,t))),n||e})).then((function(){return ni({user:Sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function _h(t){return t.app}function Sh(t){return t.currentUser}function kh(t){return Sh(t)&&Sh(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](kh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](kh(t))}}function Th(t,e){return t.R.push(e),e.oa((function(){X(t.R,e)})),e}function Ih(){}function Ch(){this.a={},this.b=1e12}oh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in al)if(al[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Vu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),fh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ah(n,t)})).then((function(){if(n.c=uh(t),e)return n.b.set(n.c,e,n.a)})):De()}))},k(dh,En),k(ph,tn),k(gh,tn),k(mh,tn),(t=dh.prototype).xb=function(t){return Th(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,cs(this.a,this.aa),this.dispatchEvent(new ph(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&_r().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,hs(this.a,this.P),this.dispatchEvent(new gh(this.P))}},t.Gc=function(t){this.J.push(t),ds(this.a,be.SDK_VERSION?Pr(be.SDK_VERSION,this.J):null),this.dispatchEvent(new mh(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:_h(this).options.apiKey,authDomain:_h(this).options.authDomain,appName:_h(this).name,currentUser:Sh(this)&&Sh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?x(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return xh(i,Is(i.a,o))}))},t.Xc=function(t){if(!Lr())return Me(new T("operation-not-supported-in-this-environment"));var e=this,n=to(t.providerId),r=Wr(),i=null;(!Vr()||kr())&&_h(this).options.authDomain&&t.isOAuthProvider&&(i=Eu(_h(this).options.authDomain,_h(this).options.apiKey,_h(this).name,"signInViaPopup",t,null,r,be.SDK_VERSION||null,null,null,this.T(),this.P));var o=br(i,n&&n.ua,n&&n.ta);return n=yh(this).then((function(n){return Hl(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new Se((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Yl(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&vr(o),t?ni(t):null})).o((function(t){throw o&&vr(o),t})),Th(this,n)},t.Yc=function(t){if(!Lr())return Me(new T("operation-not-supported-in-this-environment"));var e=this,n=yh(this).then((function(){return function(t){return fh(t,(function(){return t.b.set(sh,t.c.F,t.a)}))}(e.i)})).then((function(){return Gl(e.b,"signInViaRedirect",t,void 0,e.T())}));return Th(this,n)},t.qa=function(){var t=this;return vh(this).then((function(e){return t.b&&tc(t.b.b),e})).o((function(e){throw t.b&&tc(t.b.b),e}))},t.dd=function(t){if(!t)return Me(new T("null-user"));if(this.S!=t.tenantId)return Me(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=_h(this).options.apiKey,n.authDomain=_h(this).options.authDomain,n.appName=_h(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[os]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Ic(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Dc(e,r),Hc(e,t),e}(t,n,e.D,e.Ga());return Th(this,this.h.then((function(){if(_h(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Sh(e)&&t.uid==Sh(e).uid?(Hc(Sh(e),t),e.da(t)):(wh(e,r),Fc(r),e.da(r))})).then((function(){Eh(e)})))},t.Ab=function(){var t=this;return Th(this,this.h.then((function(){return t.b&&tc(t.b.b),Sh(t)?(wh(t,null),ch(t.i).then((function(){Eh(t)}))):De()})))},t.Zc=function(){var t=this;return hh(this.i,_h(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Sh(t)&&e){n=Sh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Hc(Sh(t),e),Sh(t).I();(Sh(t)||e)&&(wh(t,e),e&&(Fc(e),e.ha=t.D),t.b&&zl(t.b,t),Eh(t))}}))},t.da=function(t){return lh(this.i,t)},t.mc=function(){Eh(this),this.da(Sh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return xh(e,De(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Sh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),Th(t,t.h.then((function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(kh(t)))})))}(this,(function(){t.next(Sh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return Th(this,this.h.then((function(){return Sh(e)?Sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return xh(e,cu(e.a,iu,{token:t}))})).then((function(t){var n=t.user;return qc(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return xh(n,cu(n.a,ou,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return xh(n,cu(n.a,Ns,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return xh(e,t.ka(e.a))}))},t.Sc=function(t){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=Sh(t);if(e&&e.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return xh(t,t.a.zb()).then((function(e){var n=e.user;return qc(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return Sh(this)&&Sh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Sh(this)&&Nc(Sh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&Sh(this)&&Oc(Sh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),Th(this,this.h.then((function(){e.l||Y(e.s,t)&&t(kh(e))})))},t.removeAuthTokenListener=function(t){$(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(uh("local"),t.a,this.ja),this.b&&(Bl(this.b,this),tc(this.b.b)),Promise.resolve()},t.hc=function(t){return Th(this,function(t,e){return cu(t,Os,{identifier:e,continueUri:Fr()?pr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!jo(t)},t.wb=function(t,e){var n=this;return Th(this,De().then((function(){var t=new Oi(e);if(!t.c)throw new T("argument-error",Fi+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return Th(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return Th(this,this.a.Ra(t).then((function(t){return new hi(t)})))},t.jb=function(t){return Th(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return Th(this,De().then((function(){return"undefined"===typeof e||pt(e)?{}:Hi(new Oi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return Th(this,ac(this,t,e,x(this.$a,this)))},t.Vc=function(t,e){var n=this;return Th(this,De().then((function(){var r=e||pr(),i=Fo(t,r);if(!(r=jo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Ah=null;function Dh(t,e){return(e=Mh(e))&&t.a[e]||null}function Mh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Ph(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function Nh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Rh(){}Ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ph(t,e),this.b++},Ch.prototype.reset=function(t){var e=Dh(this,t);t=Mh(t),e&&t&&(e.delete(),delete this.a[t])},Ch.prototype.getResponse=function(t){return(t=Dh(this,t))?t.getResponse():null},Ch.prototype.execute=function(t){(t=Dh(this,t))&&t.execute()},Ph.prototype.getResponse=function(){return Nh(this),this.b},Ph.prototype.execute=function(){Nh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ph.prototype.delete=function(){Nh(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)},ti(Oh,"FACTOR_ID","phone"),Rh.prototype.g=function(){return Ah||(Ah=new Ch),De(Ah)},Rh.prototype.c=function(){};var Lh=null;function Fh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new bt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vh=new Kr(3e4,6e4);Fh.prototype.g=function(t){var e=this;return new Se((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Vh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},De($a(It(jh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Fh.prototype.c=function(){this.b--};var Uh=null;function zh(t,e,n,r,i,o,a){if(ti(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Lh||(Lh=new Rh),a=Lh):(Uh||(Uh=new Fh),a=Uh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new rs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[Bh];this.a[Bh]=function(t){if(Kh(u,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=Or(l,s);"function"===typeof e&&e(t)}};var c=this.a[Wh];this.a[Wh]=function(){if(Kh(u,null),"function"===typeof c)c();else if("string"===typeof c){var t=Or(c,s);"function"===typeof t&&t()}}}var Bh="callback",Wh="expired-callback",qh="sitekey",Hh="size";function Kh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Gh(t,e){return t.h.push(e),e.oa((function(){X(t.h,e)})),e}function Yh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Xh(t,e,n){var r=!1;try{this.b=n||be.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=be.SDK_VERSION?Pr(be.SDK_VERSION,o):null,zh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(_e){t=null}return t}),o,P(C),r)}function $h(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Qh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Qh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=zh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Gh(this,De().then((function(){if(Fr()&&!Er())return _r();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,cu(t.s,Gs,{})})).then((function(e){t.a[qh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Yh(this);var t=this;return Gh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=pe("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Yh(this);var t=this;return Gh(this,this.render().then((function(e){return new Se((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Yh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Yh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},k(Xh,zh);var Qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Zh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function tf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function ef(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function nf(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function rf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function of(t,e){return g(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function af(t){return g(t)&&"string"===typeof t.uid}function sf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function uf(t,e){for(var n in e){var r=e[n].name;t[r]=hf(r,t[n],e[n].j)}}function lf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){$h(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function cf(t,e,n,r){t[e]=hf(e,n,r)}function hf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return $h(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return t=t.split("."),t[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}uf(dh.prototype,{jb:{name:"applyActionCode",j:[Jh("code")]},Ra:{name:"checkActionCode",j:[Jh("code")]},nb:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Jh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Jh("email"),tf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[rf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Ic)}},nf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),tf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),lf(dh.prototype,{lc:{name:"languageCode",kb:sf(Jh(),nf(),"languageCode")},ti:{name:"tenantId",kb:sf(Jh(),nf(),"tenantId")}}),dh.Persistence=al,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(Ic.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},qb:{name:"linkWithCredential",j:[rf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},tb:{name:"reauthenticateWithCredential",j:[rf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Bb:{name:"updateEmail",j:[Jh("email")]},Cb:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[rf("phone")]},Db:{name:"updateProfile",j:[tf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Se.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),lf(ic.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Zh("appVerificationDisabledForTesting")}}),uf(oc.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),cf(go,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[_o,Ro,Uo,bo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[sf(Jh(),tf(),"json")]),cf(Lo,"credential",(function(t,e){return new Oo(t,e)}),[Jh("email"),Jh("password")]),uf(Oo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(To.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(To,"credential",Io,[sf(Jh(),tf(),"token")]),cf(Lo,"credentialWithLink",Fo,[Jh("email"),Jh("emailLink")]),uf(Co.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(Co,"credential",Ao,[sf(Jh(),tf(),"token")]),uf(Do.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(Do,"credential",Mo,[sf(Jh(),sf(tf(),nf()),"idToken"),sf(Jh(),nf(),"accessToken",!0)]),uf(Po.prototype,{Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(Po,"credential",No,[sf(Jh(),tf(),"token"),Jh("secret",!0)]),uf(Eo.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[sf(Jh(),sf(tf(),nf()),"optionsOrIdToken"),sf(Jh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),uf(wo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(yo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),cf(Bo,"credential",Wo,[Jh("verificationId"),Jh("verificationCode")]),uf(Bo.prototype,{fb:{name:"verifyPhoneNumber",j:[sf(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?of(t.session,fo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?of(t.session,po)&&af(t.multiFactorHint):t.session&&t.multiFactorUid?of(t.session,po)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),uf(Vo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(T.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Jo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Qo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(hc.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(uc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),uf(yc.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[sf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:af},Jh(),"multiFactorInfoIdentifier")]}}),uf(Xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),cf(Ei,"parseLink",Ni,[Jh("link")]),cf(Oh,"assertion",(function(t){return new gc(t)}),[rf("phone")]),function(){if("undefined"===typeof be||!be.INTERNAL||!be.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:go,Error:T};cf(t,"EmailAuthProvider",Lo,[]),cf(t,"FacebookAuthProvider",To,[]),cf(t,"GithubAuthProvider",Co,[]),cf(t,"GoogleAuthProvider",Do,[]),cf(t,"TwitterAuthProvider",Po,[]),cf(t,"OAuthProvider",Eo,[Jh("providerId")]),cf(t,"SAMLAuthProvider",ko,[Jh("providerId")]),cf(t,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof dh)}}]),cf(t,"RecaptchaVerifier",Xh,[sf(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),tf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof be.app.App)}}]),cf(t,"ActionCodeURL",Ei,[]),cf(t,"PhoneMultiFactorGenerator",Oh,[]),be.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new dh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),be.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:x((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:x(t.nc,t),addAuthTokenListener:x(t.cc,t),removeAuthTokenListener:x(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),be.registerVersion("@firebase/auth","0.16.5"),be.INTERNAL.extendNamespace({User:Ic})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});be.initializeApp({apiKey:"AIzaSyCwsKjamRP5UXJONhT_7RvVnWfvPWn8Xvw",authDomain:"holiday-weather-advisor.firebaseapp.com",projectId:"holiday-weather-advisor",storageBucket:"holiday-weather-advisor.firebasestorage.app",messagingSenderId:"475891718535",appId:"1:475891718535:web:0f3dd56071abcfdd30db22"});const Vg=be.firestore(),Ug=be.auth(),zg=be.firestore.Timestamp;var Bg=n(184);const Wg=(0,t.createContext)(),qg=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:null};case"AUTH_IS_READY":return{...t,user:e.payload,authIsReady:!0};default:return t}},Hg=e=>{let{children:n}=e;const[r,i]=(0,t.useReducer)(qg,{user:null,authIsReady:!1});return(0,t.useEffect)((()=>{const t=Ug.onAuthStateChanged((e=>{i({type:"AUTH_IS_READY",payload:e}),t()}))}),[]),console.log("AuthContext state:",r),(0,Bg.jsx)(Wg.Provider,{value:{...r,dispatch:i},children:n})},Kg=()=>{const e=(0,t.useContext)(Wg);if(!e)throw new Error("useAuthContext must be inside an AuthContextProvider");return e},Gg={container:"Home_container__biDjC",sidebar:"Home_sidebar__H2ziv",weatherForm:"Home_weatherForm__DpmZs"};function Yg(t){return Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(t)}function Xg(t){var e=function(t,e){if("object"!=Yg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yg(e)?e:String(e)}function $g(t,e,n){return(e=Xg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qg(t){return t+.5|0}const Jg=(t,e,n)=>Math.max(Math.min(t,n),e);function Zg(t){return Jg(Qg(2.55*t),0,255)}function tm(t){return Jg(Qg(255*t),0,255)}function em(t){return Jg(Qg(t/2.55)/100,0,1)}function nm(t){return Jg(Qg(100*t),0,100)}const rm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},im=[..."0123456789ABCDEF"],om=t=>im[15&t],am=t=>im[(240&t)>>4]+im[15&t],sm=t=>(240&t)>>4===(15&t);function um(t){var e=(t=>sm(t.r)&&sm(t.g)&&sm(t.b)&&sm(t.a))(t)?om:am;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const lm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cm(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function hm(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function fm(t,e,n){const r=cm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function dm(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,u,l;return i!==o&&(l=i-o,u=a>.5?l/(2-i-o):l/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,l,i),s=60*s+.5),[0|s,u||0,a]}function pm(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(tm)}function gm(t,e,n){return pm(cm,t,e,n)}function mm(t){return(t%360+360)%360}function ym(t){const e=lm.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?Zg(+e[5]):tm(+e[5]));const i=mm(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return pm(fm,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return pm(hm,t,e,n)}(i,o,a):gm(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}const vm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wm;function xm(t){wm||(wm=function(){const t={},e=Object.keys(bm),n=Object.keys(vm);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,vm[o]);o=parseInt(bm[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),wm.transparent=[0,0,0,0]);const e=wm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const _m=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Sm=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,km=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Em(t,e,n){if(t){let r=dm(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=gm(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Tm(t,e){return t?Object.assign(e||{},t):t}function Im(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=tm(t[3]))):(e=Tm(t,{r:0,g:0,b:0,a:1})).a=tm(e.a),e}function Cm(t){return"r"===t.charAt(0)?function(t){const e=_m.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?Zg(t):Jg(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?Zg(n):Jg(n,0,255)),r=255&(e[4]?Zg(r):Jg(r,0,255)),i=255&(e[6]?Zg(i):Jg(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):ym(t)}class Am{constructor(t){if(t instanceof Am)return t;const e=typeof t;let n;"object"===e?n=Im(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*rm[t[1]],g:255&17*rm[t[2]],b:255&17*rm[t[3]],a:5===n?17*rm[t[4]]:255}:7!==n&&9!==n||(e={r:rm[t[1]]<<4|rm[t[2]],g:rm[t[3]]<<4|rm[t[4]],b:rm[t[5]]<<4|rm[t[6]],a:9===n?rm[t[7]]<<4|rm[t[8]]:255})),e}(t)||xm(t)||Cm(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Tm(this._rgb);return t&&(t.a=em(t.a)),t}set rgb(t){this._rgb=Im(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(em(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?um(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=dm(t),n=e[0],r=nm(e[1]),i=nm(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(em(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,u=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;i=1-u,n.r=255&u*n.r+i*r.r+.5,n.g=255&u*n.g+i*r.g+.5,n.b=255&u*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=km(em(t.r)),i=km(em(t.g)),o=km(em(t.b));return{r:tm(Sm(r+n*(km(em(e.r))-r))),g:tm(Sm(i+n*(km(em(e.g))-i))),b:tm(Sm(o+n*(km(em(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Am(this.rgb)}alpha(t){return this._rgb.a=tm(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Qg(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Em(this._rgb,2,t),this}darken(t){return Em(this._rgb,2,-t),this}saturate(t){return Em(this._rgb,1,t),this}desaturate(t){return Em(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=dm(t);n[0]=mm(n[0]+e),n=gm(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Dm(){}const Mm=(()=>{let t=0;return()=>t++})();function Pm(t){return null===t||void 0===t}function Nm(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Om(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Rm(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Lm(t,e){return Rm(t)?t:e}function Fm(t,e){return"undefined"===typeof t?e:t}const jm=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vm(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Um(t,e,n,r){let i,o,a;if(Nm(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Om(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function zm(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Bm(t){if(Nm(t))return t.map(Bm);if(Om(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Bm(t[n[i]]);return e}return t}function Wm(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function qm(t,e,n,r){if(!Wm(t))return;const i=e[t],o=n[t];Om(i)&&Om(o)?Hm(i,o,r):e[t]=Bm(o)}function Hm(t,e,n){const r=Nm(e)?e:[e],i=r.length;if(!Om(t))return t;const o=(n=n||{}).merger||qm;let a;for(let s=0;s<i;++s){if(a=r[s],!Om(a))continue;const e=Object.keys(a);for(let r=0,i=e.length;r<i;++r)o(e[r],t,a,n)}return t}function Km(t,e){return Hm(t,e,{merger:Gm})}function Gm(t,e,n){if(!Wm(t))return;const r=e[t],i=n[t];Om(r)&&Om(i)?Km(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Bm(i))}const Ym={"":t=>t,x:t=>t.x,y:t=>t.y};function Xm(t,e){const n=Ym[e]||(Ym[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function $m(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Qm=t=>"undefined"!==typeof t,Jm=t=>"function"===typeof t,Zm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const ty=Math.PI,ey=2*ty,ny=ey+ty,ry=Number.POSITIVE_INFINITY,iy=ty/180,oy=ty/2,ay=ty/4,sy=2*ty/3,uy=Math.log10,ly=Math.sign;function cy(t,e,n){return Math.abs(t-e)<n}function hy(t){const e=Math.round(t);t=cy(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(uy(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function fy(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function dy(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function py(t){return t*(ty/180)}function gy(t){return t*(180/ty)}function my(t){if(!Rm(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function yy(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*ty&&(o+=ey),{angle:o,distance:i}}function vy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function by(t,e){return(t-e+ny)%ey-ty}function wy(t){return(t%ey+ey)%ey}function xy(t,e,n,r){const i=wy(t),o=wy(e),a=wy(n),s=wy(o-i),u=wy(a-i),l=wy(i-o),c=wy(i-a);return i===o||i===a||r&&o===a||s>u&&l<c}function _y(t,e,n){return Math.max(e,Math.min(n,t))}function Sy(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function ky(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Ey=(t,e,n,r)=>ky(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Ty=(t,e,n)=>ky(t,n,(r=>t[r][e]>=n));const Iy=["push","pop","shift","splice","unshift"];function Cy(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Iy.forEach((e=>{delete t[e]})),delete t._chartjs)}function Ay(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Dy="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function My(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n=o,r||(r=!0,Dy.call(window,(()=>{r=!1,t.apply(e,n)})))}}const Py=t=>"start"===t?"left":"end"===t?"right":"center",Ny=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Oy(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,vScale:s,_parsed:u}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=a.axis,{min:h,max:f,minDefined:d,maxDefined:p}=a.getUserBounds();if(d){if(i=Math.min(Ey(u,c,h).lo,n?r:Ey(e,c,a.getPixelForValue(h)).lo),l){const t=u.slice(0,i+1).reverse().findIndex((t=>!Pm(t[s.axis])));i-=Math.max(0,t)}i=_y(i,0,r-1)}if(p){let t=Math.max(Ey(u,a.axis,f,!0).hi+1,n?0:Ey(e,c,a.getPixelForValue(f),!0).hi+1);if(l){const e=u.slice(t-1).findIndex((t=>!Pm(t[s.axis])));t+=Math.max(0,e)}o=_y(t,i,r)-i}else o=r-i}return{start:i,count:o}}function Ry(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const Ly=t=>0===t||1===t,Fy=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*ey/n),jy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ey/n)+1,Vy={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*oy),easeOutSine:t=>Math.sin(t*oy),easeInOutSine:t=>-.5*(Math.cos(ty*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ly(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ly(t)?t:Fy(t,.075,.3),easeOutElastic:t=>Ly(t)?t:jy(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ly(t)?t:t<.5?.5*Fy(2*t,e,.45):.5+.5*jy(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Vy.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Vy.easeInBounce(2*t):.5*Vy.easeOutBounce(2*t-1)+.5};function Uy(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function zy(t){return Uy(t)?t:new Am(t)}function By(t){return Uy(t)?t:new Am(t).saturate(.5).darken(.1).hexString()}const Wy=["x","y","borderWidth","radius","tension"],qy=["color","borderColor","backgroundColor"];const Hy=new Map;function Ky(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Hy.get(n);return r||(r=new Intl.NumberFormat(t,e),Hy.set(n,r)),r}(e,n).format(t)}const Gy={values:t=>Nm(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=uy(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(u,this.options.ticks.format),Ky(t,r,u)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(uy(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?Gy.numeric.call(this,t,e,n):""}};var Yy={formatters:Gy};const Xy=Object.create(null),$y=Object.create(null);function Qy(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function Jy(t,e,n){return"string"===typeof e?Hm(Qy(t,e),n):Hm(Qy(t,""),e)}class Zy{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>By(e.backgroundColor),this.hoverBorderColor=(t,e)=>By(e.borderColor),this.hoverColor=(t,e)=>By(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Jy(this,t,e)}get(t){return Qy(this,t)}describe(t,e){return Jy($y,t,e)}override(t,e){return Jy(Xy,t,e)}route(t,e,n,r){const i=Qy(this,t),o=Qy(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return Om(t)?Object.assign({},e,t):Fm(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var tv=new Zy({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:qy},numbers:{type:"number",properties:Wy}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ev(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function nv(t,e,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const s=n.length;let u,l,c,h,f;for(u=0;u<s;u++)if(h=n[u],void 0===h||null===h||Nm(h)){if(Nm(h))for(l=0,c=h.length;l<c;l++)f=h[l],void 0===f||null===f||Nm(f)||(a=ev(t,i,o,a,f))}else a=ev(t,i,o,a,h);t.restore();const d=o.length/2;if(d>n.length){for(u=0;u<d;u++)delete i[o[u]];o.splice(0,d)}return a}function rv(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function iv(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ov(t,e,n,r){av(t,e,n,r,null)}function av(t,e,n,r,i){let o,a,s,u,l,c,h,f;const d=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*iy;if(d&&"object"===typeof d&&(o=d.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,r,i/2,g,0,0,ey):t.arc(n,r,g,0,ey),t.closePath();break;case"triangle":c=i?i/2:g,t.moveTo(n+Math.sin(m)*c,r-Math.cos(m)*g),m+=sy,t.lineTo(n+Math.sin(m)*c,r-Math.cos(m)*g),m+=sy,t.lineTo(n+Math.sin(m)*c,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":l=.516*g,u=g-l,a=Math.cos(m+ay)*u,h=Math.cos(m+ay)*(i?i/2-l:u),s=Math.sin(m+ay)*u,f=Math.sin(m+ay)*(i?i/2-l:u),t.arc(n-h,r-s,l,m-ty,m-oy),t.arc(n+f,r-a,l,m-oy,m),t.arc(n+h,r+s,l,m,m+oy),t.arc(n-f,r+a,l,m+oy,m+ty),t.closePath();break;case"rect":if(!p){u=Math.SQRT1_2*g,c=i?i/2:u,t.rect(n-c,r-u,2*c,2*u);break}m+=ay;case"rectRot":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+f,r-a),t.lineTo(n+h,r+s),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":m+=ay;case"cross":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),m+=ay,h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,s=Math.sin(m)*g,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function sv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function uv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function lv(t){t.restore()}function cv(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hv(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function fv(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,l=n+o.actualBoundingBoxDescent,c=i.strikethrough?(u+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,c),t.lineTo(s,c),t.stroke()}}function dv(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function pv(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Nm(e)?e:[e],s=o.strokeWidth>0&&""!==o.strokeColor;let u,l;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pm(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),u=0;u<a.length;++u)l=a[u],o.backdrop&&dv(t,o.backdrop),s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Pm(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(l,n,r,o.maxWidth)),t.fillText(l,n,r,o.maxWidth),fv(t,n,r,l,o),r+=Number(i.lineHeight);t.restore()}function gv(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ty,ty,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,ty,oy,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,oy,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-oy,!0),t.lineTo(n+a.topLeft,r)}const mv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vv(t,e){const n=(""+t).match(mv);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const bv=t=>+t||0;function wv(t,e){const n={},r=Om(e),i=r?Object.keys(e):e,o=Om(t)?r?n=>Fm(t[n],t[e[n]]):e=>t[e]:()=>t;for(const a of i)n[a]=bv(o(a));return n}function xv(t){return wv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function _v(t){return wv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Sv(t){const e=xv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kv(t,e){t=t||{},e=e||tv.font;let n=Fm(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=Fm(t.style,e.style);r&&!(""+r).match(yv)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Fm(t.family,e.family),lineHeight:vv(Fm(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Fm(t.weight,e.weight),string:""};return i.string=function(t){return!t||Pm(t.size)||Pm(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Ev(t,e,n,r){let i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(a=t[i],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&Nm(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Tv(t,e){return Object.assign(Object.create(t),e)}function Iv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const i=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=jv("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Iv([r,...t],e,i,n)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Pv(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=jv(Dv(o,t),n),"undefined"!==typeof i)return Mv(t,i)?Lv(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Vv(t).includes(e),ownKeys:t=>Vv(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function Cv(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Av(t,r),setContext:e=>Cv(t,e,n,r),override:i=>Cv(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Pv(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];Jm(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let u=e(o,a||r);s.delete(t),Mv(t,u)&&(u=Lv(i._scopes,i,t,u));return u}(e,s,t,n));Nm(s)&&s.length&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if("undefined"!==typeof o.index&&r(t))return e[o.index%e.length];if(Om(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const u of n){const n=Lv(r,i,t,u);e.push(Cv(n,o,a&&a[t],s))}}return e}(e,s,t,a.isIndexable));Mv(e,s)&&(s=Cv(s,i,o&&o[e],a));return s}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Av(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Jm(n)?n:()=>n,isIndexable:Jm(r)?r:()=>r}}const Dv=(t,e)=>t?t+$m(e):e,Mv=(t,e)=>Om(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Pv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const r=n();return t[e]=r,r}function Nv(t,e,n){return Jm(t)?t(e,n):t}const Ov=(t,e)=>!0===t?e:"string"===typeof t?Xm(e,t):void 0;function Rv(t,e,n,r,i){for(const o of e){const e=Ov(n,o);if(e){t.add(e);const o=Nv(e._fallback,n,i);if("undefined"!==typeof o&&o!==n&&o!==r)return o}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function Lv(t,e,n,r){const i=e._rootScopes,o=Nv(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let u=Fv(s,a,n,o||n,r);return null!==u&&(("undefined"===typeof o||o===n||(u=Fv(s,a,o,u,r),null!==u))&&Iv(Array.from(s),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(Nm(i)&&Om(n))return n;return i||{}}(e,n,r))))}function Fv(t,e,n,r,i){for(;n;)n=Rv(t,e,n,r,i);return n}function jv(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Vv(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Uv(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,u,l,c;for(s=0,u=r;s<u;++s)l=s+n,c=e[l],a[s]={r:i.parse(Xm(c,o),l)};return a}const zv=Number.EPSILON||1e-14,Bv=(t,e)=>e<t.length&&!t[e].skip&&t[e],Wv=t=>"x"===t?"y":"x";function qv(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=vy(o,i),u=vy(a,o);let l=s/(s+u),c=u/(s+u);l=isNaN(l)?0:l,c=isNaN(c)?0:c;const h=r*l,f=r*c;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}}function Hv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Wv(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,u,l=Bv(t,0);for(a=0;a<r;++a)if(s=u,u=l,l=Bv(t,a+1),u){if(l){const t=l[e]-u[e];i[a]=0!==t?(l[n]-u[n])/t:0}o[a]=s?l?ly(i[a-1])!==ly(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,u,l=Bv(t,0);for(let c=0;c<r-1;++c)u=l,l=Bv(t,c+1),u&&l&&(cy(e[c],0,zv)?n[c]=n[c+1]=0:(i=n[c]/e[c],o=n[c+1]/e[c],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[c]=i*a*e[c],n[c+1]=o*a*e[c])))}(t,i,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Wv(n),i=t.length;let o,a,s,u=Bv(t,0);for(let l=0;l<i;++l){if(a=s,s=u,u=Bv(t,l+1),!s)continue;const i=s[n],c=s[r];a&&(o=(i-a[n])/3,s["cp1".concat(n)]=i-o,s["cp1".concat(r)]=c-o*e[l]),u&&(o=(u[n]-i)/3,s["cp2".concat(n)]=i+o,s["cp2".concat(r)]=c+o*e[l])}}(t,o,e)}function Kv(t,e,n){return Math.max(Math.min(t,n),e)}function Gv(t,e,n,r,i){let o,a,s,u;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Hv(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],u=qv(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=sv(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&sv(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=Kv(i.cp1x,e.left,e.right),i.cp1y=Kv(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=Kv(i.cp2x,e.left,e.right),i.cp2y=Kv(i.cp2y,e.top,e.bottom)))}(t,n)}function Yv(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Xv(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function $v(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const Qv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Jv=["top","right","bottom","left"];function Zv(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=Jv[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tb=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function eb(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Qv(n),o="border-box"===i.boxSizing,a=Zv(i,"padding"),s=Zv(i,"border","width"),{x:u,y:l,box:c}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,u=!1;if(tb(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,u=!0}return{x:a,y:s,box:u}}(t,n),h=a.left+(c&&s.left),f=a.top+(c&&s.top);let{width:d,height:p}=e;return o&&(d-=a.width+s.width,p-=a.height+s.height),{x:Math.round((u-h)/d*n.width/r),y:Math.round((l-f)/p*n.height/r)}}const nb=t=>Math.round(10*t)/10;function rb(t,e,n,r){const i=Qv(t),o=Zv(i,"margin"),a=$v(i.maxWidth,t,"clientWidth")||ry,s=$v(i.maxHeight,t,"clientHeight")||ry,u=function(t,e,n){let r,i;if(void 0===e||void 0===n){const o=t&&Xv(t);if(o){const t=o.getBoundingClientRect(),a=Qv(o),s=Zv(a,"border","width"),u=Zv(a,"padding");e=t.width-u.width-s.width,n=t.height-u.height-s.height,r=$v(a.maxWidth,o,"clientWidth"),i=$v(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||ry,maxHeight:i||ry}}(t,e,n);let{width:l,height:c}=u;if("content-box"===i.boxSizing){const t=Zv(i,"border","width"),e=Zv(i,"padding");l-=e.width+t.width,c-=e.height+t.height}l=Math.max(0,l-o.width),c=Math.max(0,r?l/r:c-o.height),l=nb(Math.min(l,a,u.maxWidth)),c=nb(Math.min(c,s,u.maxHeight)),l&&!c&&(c=nb(l/2));return(void 0!==e||void 0!==n)&&r&&u.height&&c>u.height&&(c=u.height,l=nb(Math.floor(c*r))),{width:l,height:c}}function ib(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const ob=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(Fg){}return t}();function ab(t,e){const n=function(t,e){return Qv(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function sb(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ub(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function lb(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=sb(t,i,n),s=sb(i,o,n),u=sb(o,e,n),l=sb(a,s,n),c=sb(s,u,n);return sb(l,c,n)}function cb(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function hb(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function fb(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function db(t){return"angle"===t?{between:xy,compare:by,normalize:wy}:{between:Sy,compare:(t,e)=>t-e,normalize:t=>t}}function pb(t){let{start:e,end:n,count:r,loop:i,style:o}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:o}}function gb(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:u,normalize:l}=db(r),{start:c,end:h,loop:f,style:d}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=db(r),u=e.length;let l,c,{start:h,end:f,loop:d}=t;if(d){for(h+=u,f+=u,l=0,c=u;l<c&&a(s(e[h%u][r]),i,o);++l)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:d,style:t.style}}(t,e,n),p=[];let g,m,y,v=!1,b=null;const w=()=>v||u(i,y,g)&&0!==s(i,y),x=()=>!v||0===s(o,g)||u(o,y,g);for(let _=c,S=c;_<=h;++_)m=e[_%a],m.skip||(g=l(m[r]),g!==y&&(v=u(g,i,o),null===b&&w()&&(b=0===s(g,i)?_:S),null!==b&&x()&&(p.push(pb({start:b,end:_,loop:f,count:a,style:d})),b=null),S=_,y=g));return null!==b&&p.push(pb({start:b,end:h,loop:f,count:a,style:d})),p}function mb(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=gb(r[i],t.points,e);o.length&&n.push(...o)}return n}function yb(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=vb(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,u=n.length,l=[];let c=o,h=e[0].start,f=h;function d(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=u;n[t%u].skip;)t-=o;for(;n[e%u].skip;)e+=o;t%u!==e%u&&(l.push({start:t%u,end:e%u,loop:r,style:i}),c=i,h=e%u)}}for(const p of e){h=s?h:p.start;let t,e=n[h%u];for(f=h+1;f<=p.end;f++){const o=n[f%u];t=vb(r.setContext(Tv(i,{type:"segment",p0:e,p1:o,p0DataIndex:(f-1)%u,p1DataIndex:f%u,datasetIndex:a}))),bb(t,c)&&d(h,f-1,p.loop,c),e=o,c=t}h<f-1&&d(h,f-1,p.loop,c)}return l}(t,e,n,r):e}function vb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bb(t,e){if(!e)return!1;const n=[],r=function(t,e){return Uy(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,r)!==JSON.stringify(e,r)}class wb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Dy.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xb=new wb;const _b="transparent",Sb={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=zy(t||_b),i=r.valid&&zy(e||_b);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class kb{constructor(t,e,n,r){const i=e[n];r=Ev([t.to,r,i,t.from]);const o=Ev([t.from,i,r]);this._active=!0,this._fn=t.fn||Sb[t.type||typeof o],this._easing=Vy[t.easing]||Vy.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Ev([t.to,e,r,t.from]),this._from=Ev([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class Eb{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Om(t))return;const e=Object.keys(tv.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!Om(i))return;const o={};for(const t of e)o[t]=i[t];(Nm(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const u=o[s];if("$"===u.charAt(0))continue;if("options"===u){r.push(...this._animateOptions(t,e));continue}const l=e[u];let c=i[u];const h=n.get(u);if(c){if(h&&c.active()){c.update(h,l,a);continue}c.cancel()}h&&h.duration?(i[u]=c=new kb(h,t,u,l),r.push(c)):t[u]=l}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(xb.add(this._chart,n),!0):void 0}}function Tb(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Ib(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Cb(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,o="single"===r.mode;let a,s,u,l;if(null===e)return;let c=!1;for(a=0,s=i.length;a<s;++a){if(u=+i[a],u===n){if(c=!0,r.all)continue;break}l=t.values[u],Rm(l)&&(o||0===e||ly(e)===ly(l))&&(e+=l)}return c||r.all?e:0}function Ab(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Db(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Mb(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Pb(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,u=o.axis,l=a.axis,c=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(o,a,r),h=e.length;let f;for(let d=0;d<h;++d){const t=e[d],{[u]:n,[l]:o}=t;f=(t._stacks||(t._stacks={}))[l]=Db(i,c,n),f[s]=o,f._top=Mb(f,a,!0,r.type),f._bottom=Mb(f,a,!1,r.type);(f._visualValues||(f._visualValues={}))[s]=o}}function Nb(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Ob(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const Rb=t=>"reset"===t||"none"===t,Lb=(t,e)=>e?t:Object.assign({},t);class Fb{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ab(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ob(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=Fm(n.xAxisID,Nb(t,"x")),o=e.yAxisID=Fm(n.yAxisID,Nb(t,"y")),a=e.rAxisID=Fm(n.rAxisID,Nb(t,"r")),s=e.indexAxis,u=e.iAxisID=r(s,i,o,a),l=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Cy(this._data,this),t._stacked&&Ob(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Om(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:r}=e,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",a=Object.keys(t),s=new Array(a.length);let u,l,c;for(u=0,l=a.length;u<l;++u)c=a[u],s[u]={[i]:c,[o]:t[c]};return s}(e,t)}else if(n!==e){if(n){Cy(n,this);const t=this._cachedMeta;Ob(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Iy.forEach((t=>{const e="_onData"+$m(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),a}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=Ab(e.vScale,e),e.stack!==n.stack&&(r=!0,Ob(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&(Pb(this,e._parsed),e._stacked=Ab(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,u,l,c=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,l=r;else{l=Nm(r[t])?this.parseArrayData(n,r,t,e):Om(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===u[a]||h&&u[a]<h[a];for(s=0;s<e;++s)n._parsed[s+t]=u=l[s],c&&(i()&&(c=!1),h=u);n._sorted=c}o&&Pb(this,l)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,u=i.getLabels(),l=i===o,c=new Array(r);let h,f,d;for(h=0,f=r;h<f;++h)d=h+n,c[h]={[a]:l||i.parse(u[d],d),[s]:o.parse(e[d],d)};return c}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,u,l,c;for(s=0,u=r;s<u;++s)l=s+n,c=e[l],a[s]={x:i.parse(c[0],l),y:o.parse(c[1],l)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,u=new Array(r);let l,c,h,f;for(l=0,c=r;l<c;++l)h=l+n,f=e[h],u[l]={x:i.parse(Xm(f,a),h),y:o.parse(Xm(f,s),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Cb({keys:Ib(r,!0),values:e._stacks[t.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Cb(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ib(n,!0),values:null})(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:c}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,f;function d(){f=r[h];const e=f[a.axis];return!Rm(f[t.axis])||l>e||c<e}for(h=0;h<o&&(d()||(this.updateRangeFromParsed(u,t,f,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!d()){this.updateRangeFromParsed(u,t,f,s);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],Rm(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return Om(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(Fm(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Tb(t,n),i=Tb(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(t,i,a,s),l=a;l<a+s;++l){const e=r[l];e.hidden||(e.active&&u?o.push(e):e.draw(t,i))}for(l=0;l<o.length;++l)o[l].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Tv(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Tv(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&Qm(n);if(a)return Lb(a,s);const u=this.chart.config,l=u.datasetElementScopeKeys(this._type,t),c=r?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),l),f=Object.keys(tv.elements[t]),d=u.resolveNamedOptions(h,f,(()=>this.getContext(n,r,e)),c);return d.$shared&&(d.$shared=s,i[o]=Object.freeze(Lb(d,s))),d}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o="animation-".concat(e),a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const u=new Eb(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Rb(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){Rb(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Rb(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,s,u]of this._syncList)this[a](s,u);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Ob(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jb(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Ay(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const u=()=>{32767!==o&&-32768!==o&&(Qm(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),u();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),u();return s}function Vb(t,e,n,r){return Nm(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let u=a,l=s;Math.abs(a)>Math.abs(s)&&(u=s,l=a),e[n.axis]=l,e._custom={barStart:u,barEnd:l,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Ub(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,u=[];let l,c,h,f;for(l=n,c=n+r;l<c;++l)f=e[l],h={},h[i.axis]=s||i.parse(a[l],l),u.push(Vb(f,h,o,l));return u}function zb(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Bb(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:u,top:l,bottom:c}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=c:(o[Wb(c,a,s,u)]=!0,i=l)),o[Wb(i,a,s,u)]=!0,t.borderSkipped=o}function Wb(t,e,n,r){var i,o,a;return r?(a=n,t=qb(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=qb(t,e,n),t}function qb(t,e,n){return"start"===t?e:"end"===t?n:t}function Hb(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}$g(Fb,"defaults",{}),$g(Fb,"datasetElementType",null),$g(Fb,"dataElementType",null);class Kb extends Fb{parsePrimitiveData(t,e,n,r){return Ub(t,e,n,r)}parseArrayData(t,e,n,r){return Ub(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,u="x"===i.axis?a:s,l="x"===o.axis?a:s,c=[];let h,f,d,p;for(h=n,f=n+r;h<f;++h)p=e[h],d={},d[i.axis]=i.parse(Xm(p,u),h),c.push(Vb(Xm(p,l),d,o,h));return c}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=zb(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),u=a.isHorizontal(),l=this._getRuler(),{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,r);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||Pm(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),d=this._calculateBarIndexPixels(f,l),p=(e._stacks||{})[a.axis],g={horizontal:u,base:n.base,enableBorderRadius:!p||zb(e._custom)||o===p._top||o===p._bottom,x:u?n.head:d.center,y:u?d.center:n.head,height:u?d.size:Math.abs(n.size),width:u?Math.abs(n.size):d.size};h&&(g.options=c||this.resolveDataElementOptions(f,t[f].active?"active":r));const m=g.options||t[f].options;Bb(g,m,p,o),Hb(g,m,l.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),s=a&&a[n.axis],u=t=>{const e=t._parsed.find((t=>t[n.axis]===s)),r=e&&e[t.vScale.axis];if(Pm(r)||isNaN(r))return!0};for(const l of r)if((void 0===e||!u(l))&&((!1===i||-1===o.indexOf(l.stack)||void 0===i&&void 0===l.stack)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||jb(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(t),u=s._custom,l=zb(u);let c,h,f=s[e.axis],d=0,p=n?this.applyStack(e,s,n):f;p!==f&&(d=p-f,p=f),l&&(f=u.barStart,p=u.barEnd-u.barStart,0!==f&&ly(f)!==ly(u.barEnd)&&(d=0),d+=f);const g=Pm(i)||l?d:i;let m=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(d+p):m,h=c-m,Math.abs(h)<o){h=function(t,e,n){return 0!==t?ly(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*o,f===a&&(m-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),u=Math.min(t,i),d=Math.max(t,i);m=Math.max(Math.min(m,d),u),c=m+h,n&&!l&&(s._stacks[e.axis]._visualValues[r]=e.getValueForPixel(c)-e.getValueForPixel(m))}if(m===e.getPixelForValue(a)){const t=ly(h)*e.getLineWidthForValue(a)/2;m+=t,h-=t}return{size:h,base:m,head:c,center:c+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=Fm(r.maxBarThickness,1/0);let a,s;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,u="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const l=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:l}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let o,a;return Pm(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}(t,e,r,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=u.start+u.chunk*l+u.chunk/2,s=Math.min(o,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),s=Math.min(o,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[e.axis]||n[i].hidden||n[i].draw(this._ctx)}}$g(Kb,"id","bar"),$g(Kb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$g(Kb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Gb extends Fb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=Fm(t[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=Fm(t&&t.r&&+t.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y),u=o._custom;return{label:n[t]||"",value:"("+a+", "+s+(u?", "+u:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:u}=this._getSharedOptions(e,r),l=o.axis,c=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),f={},d=f[l]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[l]),p=f[c]=i?a.getBasePixel():a.getPixelForValue(n[c]);f.skip=isNaN(d)||isNaN(p),u&&(f.options=s||this.resolveDataElementOptions(h,e.active?"active":r),i&&(f.options.radius=0)),this.updateElement(e,h,f,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Fm(n&&n._custom,i),r}}$g(Gb,"id","bubble"),$g(Gb,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$g(Gb,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Yb extends Fb{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=t=>+n[t];if(Om(n[t])){const{key:t="value"}=this._parsing;a=e=>+Xm(n[e],t)}for(i=t,o=t+e;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return py(this.options.rotation-90)}_getCircumference(){return py(this.options.circumference)}_getRotationExtents(){let t=ey,e=-ey;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((u=this.options.cutout,l=a,"string"===typeof u&&u.endsWith("%")?parseFloat(u)/100:+u/l),1);var u,l;const c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let r=1,i=1,o=0,a=0;if(e<ey){const s=t,u=s+e,l=Math.cos(s),c=Math.sin(s),h=Math.cos(u),f=Math.sin(u),d=(t,e,r)=>xy(t,s,u,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>xy(t,s,u,!0)?-1:Math.min(e,e*n,r,r*n),g=d(0,l,h),m=d(oy,c,f),y=p(ty,l,h),v=p(ty+oy,c,f);r=(g-y)/2,i=(m-v)/2,o=-(g+y)/2,a=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(f,h,s),y=(n.width-o)/d,v=(n.height-o)/p,b=Math.max(Math.min(y,v)/2,0),w=jm(this.options.radius,b),x=(w-Math.max(w*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/ey)}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,u=(a.left+a.right)/2,l=(a.top+a.bottom)/2,c=i&&s.animateScale,h=c?0:this.innerRadius,f=c?0:this.outerRadius,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(e,r);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],o={x:u+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:f,innerRadius:h};p&&(o.options=d||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,o,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ey*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ky(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,o,a,s;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Fm(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$g(Yb,"id","doughnut"),$g(Yb,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$g(Yb,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),$g(Yb,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Xb extends Fb{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=Oy(e,r,o);this._drawStart=a,this._drawCount=s,Ry(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:u}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,r),h=o.axis,f=a.axis,{spanGaps:d,segment:p}=this.options,g=fy(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<v;++w){const n=t[w],d=m?n:{};if(w<e||w>=y){d.skip=!0;continue}const v=this.getParsed(w),x=Pm(v[f]),_=d[h]=o.getPixelForValue(v[h],w),S=d[f]=i||x?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,v,s):v[f],w);d.skip=isNaN(_)||isNaN(S)||x,d.stop=w>0&&Math.abs(v[h]-b[h])>g,p&&(d.parsed=v,d.raw=u.data[w]),c&&(d.options=l||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,d,r),b=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}$g(Xb,"id","line"),$g(Xb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$g(Xb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $b extends Fb{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ky(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return Uv.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,u=s.xCenter,l=s.yCenter,c=s.getIndexAngle(0)-.5*ty;let h,f=c;const d=360/this.countVisibleElements();for(h=0;h<e;++h)f+=this._computeAngle(h,r,d);for(h=e;h<e+n;h++){const e=t[h];let n=f,p=f+this._computeAngle(h,r,d),g=o.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;f=p,i&&(a.animateScale&&(g=0),a.animateRotate&&(n=p=c));const m={x:u,y:l,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?py(this.resolveDataElementOptions(t,e).angle||n):0}}$g($b,"id","polarArea"),$g($b,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$g($b,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Qb extends Yb{}$g(Qb,"id","pie"),$g(Qb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jb extends Fb{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return Uv.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),u=o?i.xCenter:s.x,l=o?i.yCenter:s.y,c={x:u,y:l,angle:s.angle,skip:isNaN(u)||isNaN(l),options:n};this.updateElement(e,a,c,r)}}}$g(Jb,"id","radar"),$g(Jb,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$g(Jb,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Zb extends Fb{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+a+", "+s+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:o}=Oy(e,n,r);if(this._drawStart=i,this._drawCount=o,Ry(e)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:o}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:u}=this._cachedMeta,l=this.resolveDataElementOptions(e,r),c=this.getSharedOptions(l),h=this.includeOptions(r,c),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=fy(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),l=y?e:{},p=Pm(n[d]),w=l[f]=o.getPixelForValue(n[f],b),x=l[d]=i||p?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[d],b);l.skip=isNaN(w)||isNaN(x)||p,l.stop=b>0&&Math.abs(n[f]-v[f])>m,g&&(l.parsed=n,l.raw=u.data[b]),h&&(l.options=c||this.resolveDataElementOptions(b,e.active?"active":r)),y||this.updateElement(e,b,l,r),v=n}this.updateSharedOptions(c,r,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,o)/2}}$g(Zb,"id","scatter"),$g(Zb,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$g(Zb,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function tw(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ew{static override(t){Object.assign(ew.prototype,t)}constructor(t){$g(this,"options",void 0),this.options=t||{}}init(){}formats(){return tw()}parse(){return tw()}format(){return tw()}add(){return tw()}diff(){return tw()}startOf(){return tw()}endOf(){return tw()}}var nw=ew;function rw(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const a=s._reversePixels?Ty:Ey;if(!r){const r=a(o,e,n);if(u){const{vScale:e}=i._cachedMeta,{_parsed:n}=t,o=n.slice(0,r.lo+1).reverse().findIndex((t=>!Pm(t[e.axis])));r.lo-=Math.max(0,o);const a=n.slice(r.hi).findIndex((t=>!Pm(t[e.axis])));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const t=o[0],r="function"===typeof t.getRange&&t.getRange(e);if(r){const t=a(o,e,n-r),i=a(o,e,n+r);return{lo:t.lo,hi:i.hi}}}}return{lo:0,hi:o.length-1}}function iw(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,u=o.length;s<u;++s){const{index:t,data:n}=o[s],{lo:u,hi:l}=rw(o[s],e,a,i);for(let e=u;e<=l;++e){const i=n[e];i.skip||r(i,t,e)}}}function ow(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;return iw(t,n,e,(function(n,a,s){(i||sv(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function aw(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let u=Number.POSITIVE_INFINITY;return iw(t,n,e,(function(n,l,c){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const f=n.getCenterPoint(i);if(!(!!o||t.isPointInArea(f))&&!h)return;const d=s(e,f);d<u?(a=[{element:n,datasetIndex:l,index:c}],u=d):d===u&&a.push({element:n,datasetIndex:l,index:c})})),a}function sw(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?aw(t,e,n,r,i,o):function(t,e,n,r){let i=[];return iw(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:u}=yy(t,{x:e.x,y:e.y});xy(u,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function uw(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return iw(t,n,e,((t,r,u)=>{t[a]&&t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:u}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var lw={evaluateInteractionItems:iw,modes:{index(t,e,n,r){const i=eb(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?ow(t,i,o,r,a):sw(t,i,o,!1,r,a),u=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&u.push({element:n,datasetIndex:t.index,index:e})})),u):[]},dataset(t,e,n,r){const i=eb(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?ow(t,i,o,r,a):sw(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>ow(t,eb(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=eb(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return sw(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>uw(t,eb(e,t),"x",n.intersect,r),y:(t,e,n,r)=>uw(t,eb(e,t),"y",n.intersect,r)}};const cw=["left","top","right","bottom"];function hw(t,e){return t.filter((t=>t.pos===e))}function fw(t,e){return t.filter((t=>-1===cw.indexOf(t.pos)&&t.box.axis===e))}function dw(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function pw(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!cw.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,u=n[s.stack],l=u&&s.stackWeight/u.weight;s.horizontal?(s.width=l?l*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=l?l*i:a&&e.availableHeight)}return n}function gw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function mw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yw(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!Om(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&mw(a,o.getPadding());const s=Math.max(0,e.outerWidth-gw(a,t,"left","right")),u=Math.max(0,e.outerHeight-gw(a,t,"top","bottom")),l=s!==t.w,c=u!==t.h;return t.w=s,t.h=u,n.horizontal?{same:l,other:c}:{same:c,other:l}}function vw(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function bw(t,e,n,r){const i=[];let o,a,s,u,l,c;for(o=0,a=t.length,l=0;o<a;++o){s=t[o],u=s.box,u.update(s.width||e.w,s.height||e.h,vw(s.horizontal,e));const{same:a,other:h}=yw(e,n,s,r);l|=a&&i.length,c=c||h,u.fullSize||i.push(s)}return l&&bw(i,e,n,r)||c}function ww(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function xw(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,u=r[s.stack]||{count:1,placed:0,weight:1},l=s.stackWeight/u.weight||1;if(s.horizontal){const r=e.w*l,o=u.size||t.height;Qm(u.start)&&(a=u.start),t.fullSize?ww(t,i.left,a,n.outerWidth-i.right-i.left,o):ww(t,e.left+u.placed,a,r,o),u.start=a,u.placed+=r,a=t.bottom}else{const r=e.h*l,a=u.size||t.width;Qm(u.start)&&(o=u.start),t.fullSize?ww(t,o,i.top,a,n.outerHeight-i.bottom-i.top):ww(t,o,e.top+u.placed,a,r),u.start=o,u.placed+=r,o=t.right}}e.x=o,e.y=a}var _w={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Sv(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=dw(e.filter((t=>t.box.fullSize)),!0),r=dw(hw(e,"left"),!0),i=dw(hw(e,"right")),o=dw(hw(e,"top"),!0),a=dw(hw(e,"bottom")),s=fw(e,"x"),u=fw(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:hw(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}(t.boxes),u=s.vertical,l=s.horizontal;Um(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=u.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},i);mw(f,Sv(r));const d=Object.assign({maxPadding:f,w:o,h:a,x:i.left,y:i.top},i),p=pw(u.concat(l),h);bw(s.fullSize,d,h,p),bw(u,d,h,p),bw(l,d,h,p)&&bw(u,d,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),xw(s.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,xw(s.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Um(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class Sw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class kw extends Sw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ew="$chartjs",Tw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Iw=t=>null===t||""===t;const Cw=!!ob&&{passive:!0};function Aw(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Cw)}function Dw(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Mw(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Dw(n.addedNodes,r),e=e&&!Dw(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Pw(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Dw(n.removedNodes,r),e=e&&!Dw(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Nw=new Map;let Ow=0;function Rw(){const t=window.devicePixelRatio;t!==Ow&&(Ow=t,Nw.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Lw(t,e,n){const r=t.canvas,i=r&&Xv(r);if(!i)return;const o=My(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){Nw.size||window.addEventListener("resize",Rw),Nw.set(t,e)}(t,o),a}function Fw(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Nw.delete(t),Nw.size||window.removeEventListener("resize",Rw)}(t)}function jw(t,e,n){const r=t.canvas,i=My((e=>{null!==t.ctx&&n(function(t,e){const n=Tw[t.type]||t.type,{x:r,y:i}=eb(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,Cw)}(r,e,i),i}class Vw extends Sw{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ew]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Iw(i)){const e=ab(t,"width");void 0!==e&&(t.width=e)}if(Iw(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=ab(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Ew])return!1;const n=e[Ew].initial;["height","width"].forEach((t=>{const r=n[t];Pm(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Ew],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Mw,detach:Pw,resize:Lw}[e]||jw;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Fw,detach:Fw,resize:Fw}[e]||Aw)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return rb(t,e,n,r)}isAttached(t){const e=t&&Xv(t);return!(!e||!e.isConnected)}}class Uw{constructor(){$g(this,"x",void 0),$g(this,"y",void 0),$g(this,"active",!1),$g(this,"options",void 0),$g(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return fy(this.x)&&fy(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function zw(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],a=o.length,s=o[0],u=o[a-1],l=[];if(a>i)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,l,o,a/i),l;const c=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let a=0,s=o.length-1;a<s;a++){const t=o[a];if(t>i)return t}return Math.max(i,1)}(o,e,i);if(a>0){let t,n;const r=a>1?Math.round((u-s)/(a-1)):null;for(Bw(e,l,c,Pm(r)?0:s-r,s),t=0,n=a-1;t<n;t++)Bw(e,l,c,o[t],o[t+1]);return Bw(e,l,c,u,Pm(r)?e.length:u+r),l}return Bw(e,l,c),l}function Bw(t,e,n,r,i){const o=Fm(r,0),a=Math.min(Fm(i,t.length),t.length);let s,u,l,c=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),l=o;l<0;)c++,l=Math.round(o+c*n);for(u=Math.max(o,0);u<a;u++)u===l&&(e.push(t[u]),c++,l=Math.round(o+c*n))}$g(Uw,"defaults",{}),$g(Uw,"defaultRoutes",void 0);const Ww=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,qw=(t,e)=>Math.min(e||t,t);function Hw(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function Kw(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let u,l=t.getPixelForTick(i);if(!(n&&(u=1===r?Math.max(l-o,a-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<o-s||l>a+s)))return l}function Gw(t){return t.drawTicks?t.tickLength:0}function Yw(t,e){if(!t.display)return 0;const n=kv(t.font,e),r=Sv(t.padding);return(Nm(t.text)?t.text.length:1)*n.lineHeight+r.height}function Xw(t,e,n){let r=Py(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class $w extends Uw{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=Lm(t,Number.POSITIVE_INFINITY),e=Lm(e,Number.NEGATIVE_INFINITY),n=Lm(n,Number.POSITIVE_INFINITY),r=Lm(r,Number.NEGATIVE_INFINITY),{min:Lm(t,n),max:Lm(e,r),minDefined:Rm(t),maxDefined:Rm(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,u=a.length;s<u;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:Lm(n,Lm(r,n)),max:Lm(r,Lm(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vm(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=jm(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?Hw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=zw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vm(this.options.afterUpdate,[this])}beforeSetDimensions(){Vm(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vm(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vm(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vm(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=Vm(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Vm(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vm(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=qw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let o,a,s,u=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const l=this._getLabelSizes(),c=l.widest.width,h=l.highest.height,f=_y(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/n:f/(n-1),c+6>o&&(o=f/(n-(t.offset?.5:1)),a=this.maxHeight-Gw(t.grid)-e.padding-Yw(t.title,this.chart.options.font),s=Math.sqrt(c*c+h*h),u=gy(Math.min(Math.asin(_y((l.highest.height+6)/o,-1,1)),Math.asin(_y(a/s,-1,1))-Math.asin(_y(h/s,-1,1)))),u=Math.max(r,Math.min(i,u))),this.labelRotation=u}afterCalculateLabelRotation(){Vm(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vm(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Yw(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Gw(i)+o):(t.height=this.maxHeight,t.width=Gw(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,u=py(this.labelRotation),l=Math.cos(u),c=Math.sin(u);if(a){const e=n.mirror?0:c*i.width+l*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:l*i.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,c,l)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;s?u?(c=r*t.width,h=n*e.height):(c=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?c=t.width:"inner"!==i&&(c=t.width/2,h=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-l+o)*this.width/(this.width-l),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vm(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Pm(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Hw(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],s=Math.floor(e/qw(e,n));let u,l,c,h,f,d,p,g,m,y,v,b=0,w=0;for(u=0;u<e;u+=s){if(h=t[u].label,f=this._resolveTickFontOptions(u),r.font=d=f.string,p=i[d]=i[d]||{data:{},gc:[]},g=f.lineHeight,m=y=0,Pm(h)||Nm(h)){if(Nm(h))for(l=0,c=h.length;l<c;++l)v=h[l],Pm(v)||Nm(v)||(m=ev(r,p.data,p.gc,m,v),y+=g)}else m=ev(r,p.data,p.gc,m,h),y=g;o.push(m),a.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(t,e){Um(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const x=o.indexOf(b),_=a.indexOf(w),S=t=>({width:o[t]||0,height:a[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(_),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _y(this._alignToPixels?rv(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Tv(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Tv(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=py(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,s=i.offset,u=this.isHorizontal(),l=this.ticks.length+(s?1:0),c=Gw(i),h=[],f=a.setContext(this.getContext()),d=f.display?f.width:0,p=d/2,g=function(t){return rv(n,t,d)};let m,y,v,b,w,x,_,S,k,E,T,I;if("top"===o)m=g(this.bottom),x=this.bottom-c,S=m-p,E=g(t.top)+p,I=t.bottom;else if("bottom"===o)m=g(this.top),E=t.top,I=g(t.bottom)-p,x=m+p,S=this.top+c;else if("left"===o)m=g(this.right),w=this.right-c,_=m-p,k=g(t.left)+p,T=t.right;else if("right"===o)m=g(this.left),k=t.left,T=g(t.right)-p,w=m+p,_=this.left+c;else if("x"===e){if("center"===o)m=g((t.top+t.bottom)/2+.5);else if(Om(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}E=t.top,I=t.bottom,x=m+p,S=x+c}else if("y"===e){if("center"===o)m=g((t.left+t.right)/2);else if(Om(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}w=m-p,_=w-c,k=t.left,T=t.right}const C=Fm(r.ticks.maxTicksLimit,l),A=Math.max(1,Math.ceil(l/C));for(y=0;y<l;y+=A){const t=this.getContext(y),e=i.setContext(t),r=a.setContext(t),o=e.lineWidth,l=e.color,c=r.dash||[],f=r.dashOffset,d=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=Kw(this,y,s),void 0!==v&&(b=rv(n,v,o),u?w=_=k=T=b:x=S=E=I=b,h.push({tx1:w,ty1:x,tx2:_,ty2:S,x1:k,y1:E,x2:T,y2:I,width:o,color:l,borderDash:c,borderDashOffset:f,tickWidth:d,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=l,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:u,padding:l,mirror:c}=i,h=Gw(n.grid),f=h+l,d=c?-l:f,p=-py(this.labelRotation),g=[];let m,y,v,b,w,x,_,S,k,E,T,I,C="middle";if("top"===r)x=this.bottom-d,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+d,_=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("x"===e){if("center"===r)x=(t.top+t.bottom)/2+f;else if(Om(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)+f}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-f;else if(Om(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===s?C="top":"end"===s&&(C="bottom"));const A=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){v=a[m],b=v.label;const t=i.setContext(this.getContext(m));S=this.getPixelForTick(m)+i.labelOffset,k=this._resolveTickFontOptions(m),E=k.lineHeight,T=Nm(b)?b.length:1;const e=T/2,n=t.color,s=t.textStrokeColor,l=t.textStrokeWidth;let h,f=_;if(o?(w=S,"inner"===_&&(f=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),I="top"===r?"near"===u||0!==p?-T*E+E/2:"center"===u?-A.highest.height/2-e*E+E:-A.highest.height+E/2:"near"===u||0!==p?E/2:"center"===u?A.highest.height/2-e*E:A.highest.height-T*E,c&&(I*=-1),0===p||t.showLabelBackdrop||(w+=E/2*Math.sin(p))):(x=S,I=(1-T)*E/2),t.showLabelBackdrop){const e=Sv(t.backdropPadding),n=A.heights[m],r=A.widths[m];let i=I-e.top,o=0-e.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":o-=r/2;break;case"right":o-=r;break;case"inner":m===y-1?o-=r:m>0&&(o-=r/2)}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:k,textOffset:I,options:{rotation:p,color:n,strokeColor:s,strokeWidth:l,textAlign:f,textBaseline:C,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-py(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,u;return"left"===e?r?(u=this.right+i,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u+=a)):(u=this.right-o,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u=this.left)):"right"===e?r?(u=this.left+i,"near"===n?s="right":"center"===n?(s="center",u-=a/2):(s="left",u-=a)):(u=this.left+o,"near"===n?s="left":"center"===n?(s="center",u+=a/2):(s="right",u=this.right)):s="right",{textAlign:s,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let u,l,c,h;this.isHorizontal()?(u=rv(t,this.left,o)-o/2,l=rv(t,this.right,a)+a/2,c=h=s):(c=rv(t,this.top,o)-o/2,h=rv(t,this.bottom,a)+a/2,u=l=s),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(u,c),e.lineTo(l,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&uv(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;pv(e,i.label,0,i.textOffset,n,t)}n&&lv(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=kv(n.font),o=Sv(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===e||"center"===e||Om(e)?(s+=o.bottom,Nm(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:u,titleY:l,maxWidth:c,rotation:h}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:u}=t,{chartArea:l,scales:c}=u;let h,f,d,p=0;const g=a-i,m=s-o;if(t.isHorizontal()){if(f=Ny(r,o,s),Om(n)){const t=Object.keys(n)[0],r=n[t];d=c[t].getPixelForValue(r)+g-e}else d="center"===n?(l.bottom+l.top)/2+g-e:Ww(t,n,e);h=s-o}else{if(Om(n)){const t=Object.keys(n)[0],r=n[t];f=c[t].getPixelForValue(r)-m+e}else f="center"===n?(l.left+l.right)/2-m+e:Ww(t,n,e);d=Ny(r,a,i),p="left"===n?-oy:oy}return{titleX:f,titleY:d,maxWidth:h,rotation:p}}(this,s,e,a);pv(t,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:h,textAlign:Xw(a,e,r),textBaseline:"middle",translation:[u,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Fm(t.grid&&t.grid.z,-1),r=Fm(t.border&&t.border.z,0);return this._isVisible()&&this.draw===$w.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return kv(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qw{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=Hm(Object.create(null),[n?tv.get(n):{},tv.get(e),t.defaults]);tv.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),u=a.join(".");tv.route(o,i,u,s)}))}(e,t.defaultRoutes);t.descriptors&&tv.describe(e,t.descriptors)}(t,o,n),this.override&&tv.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in tv[r]&&(delete tv[r][n],this.override&&delete Xy[n])}}class Jw{constructor(){this.controllers=new Qw(Fb,"datasets",!0),this.elements=new Qw(Uw,"elements"),this.plugins=new Qw(Object,"plugins"),this.scales=new Qw($w,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):Um(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=$m(t);Vm(n["before"+r],[],n),e[t](n),Vm(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Zw=new Jw;class tx{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===Vm(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Pm(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=Fm(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(Zw.plugins.items);for(let o=0;o<r.length;o++)n.push(Zw.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:o}=e;const a=[],s=t.getContext();for(const u of i){const e=u.id,i=ex(n[e],r);null!==i&&a.push({plugin:u,options:nx(t.config,{plugin:u,local:o[e]},i,s)})}return a}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function ex(t,e){return e||!1!==t?!0===t?{}:t:null}function nx(t,e,n,r){let{plugin:i,local:o}=e;const a=t.pluginScopeKeys(i),s=t.getOptionScopes(n,a);return o&&i.defaults&&s.push(i.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rx(t,e){const n=tv.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ix(t){if("x"===t||"y"===t||"r"===t)return t}function ox(t){if(ix(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const o of n){const e=o.axis||("top"===(i=o.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&ix(t[0].toLowerCase());if(e)return e}var i;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function ax(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sx(t,e){const n=Xy[t.type]||{scales:{}},r=e.scales||{},i=rx(t.type,e),o=Object.create(null);return Object.keys(r).forEach((e=>{const a=r[e];if(!Om(a))return console.error("Invalid scale configuration for scale: ".concat(e));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const s=ox(e,a,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return ax(t,"x",n[0])||ax(t,"y",n[0])}return{}}(e,t),tv.scales[a.type]),u=function(t,e){return t===e?"_index_":"_value_"}(s,i),l=n.scales||{};o[e]=Km(Object.create(null),[{axis:s},a,l[s],l[u]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,a=n.indexAxis||rx(i,e),s=(Xy[i]||{}).scales||{};Object.keys(s).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),i=n[e+"AxisID"]||e;o[i]=o[i]||Object.create(null),Km(o[i],[{axis:e},r[i],s[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];Km(e,[tv.scales[e.type],tv.scale])})),o}function ux(t){const e=t.options||(t.options={});e.plugins=Fm(e.plugins,{}),e.scales=sx(t,e)}function lx(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const cx=new Map,hx=new Set;function fx(t,e){let n=cx.get(t);return n||(n=e(),cx.set(t,n),hx.add(n)),n}const dx=(t,e,n)=>{const r=Xm(e,n);void 0!==r&&t.add(r)};class px{constructor(t){this._config=function(t){return(t=t||{}).data=lx(t.data),ux(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=lx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ux(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fx(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return fx("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return fx("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return fx("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>dx(s,t,e)))),e.forEach((t=>dx(s,r,t))),e.forEach((t=>dx(s,Xy[i]||{},t))),e.forEach((t=>dx(s,tv,t))),e.forEach((t=>dx(s,$y,t)))}));const u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),hx.has(e)&&o.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,Xy[e]||{},tv.datasets[e]||{},{type:e},tv,$y]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:o,subPrefixes:a}=gx(this._resolverCache,t,r);let s=o;if(function(t,e){const{isScriptable:n,isIndexable:r}=Av(t);for(const i of e){const e=n(i),o=r(i),a=(o||e)&&t[i];if(e&&(Jm(a)||mx(a))||o&&Nm(a))return!0}return!1}(o,e)){i.$shared=!1;s=Cv(o,n=Jm(n)?n():n,this.createResolver(t,n,a))}for(const u of e)i[u]=s[u];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=gx(this._resolverCache,t,n);return Om(e)?Cv(i,e,void 0,r):i}}function gx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:Iv(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const mx=t=>Om(t)&&Object.getOwnPropertyNames(t).some((e=>Jm(t[e])));const yx=["top","bottom","left","right","chartArea"];function vx(t,e){return"top"===t||"bottom"===t||-1===yx.indexOf(t)&&"x"===e}function bx(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function wx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Vm(n&&n.onComplete,[t],e)}function xx(t){const e=t.chart,n=e.options.animation;Vm(n&&n.onProgress,[t],e)}function _x(t){return Yv()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sx={},kx=t=>{const e=_x(t);return Object.values(Sx).filter((t=>t.canvas===e)).pop()};function Ex(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function Tx(t,e,n){return t.options.clip?t[n]:e[n]}class Ix{static register(){Zw.add(...arguments),Cx()}static unregister(){Zw.remove(...arguments),Cx()}constructor(t,e){const n=this.config=new px(e),r=_x(t),i=kx(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Yv()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?kw:Vw}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,u=s&&s.height,l=s&&s.width;this.id=Mm(),this.ctx=a,this.canvas=s,this.width=l,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],Sx[this.id]=this,a&&s?(xb.listen(this,"complete",wx),xb.listen(this,"progress",xx),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Pm(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Zw}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ib(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iv(this.canvas,this.ctx),this}stop(){return xb.stop(this),this}resize(t,e){xb.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ib(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Vm(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Um(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=ox(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),Um(i,(e=>{const i=e.options,o=i.id,a=ox(o,i),s=Fm(i.type,e.dtype);void 0!==i.position&&vx(i.position,a)===vx(e.dposition)||(i.position=e.dposition),r[o]=!0;let u=null;if(o in n&&n[o].type===s)u=n[o];else{u=new(Zw.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(i,t)})),Um(r,((t,e)=>{t||delete n[e]})),Um(n,(t=>{_w.configure(this,t,t.options),_w.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(bx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||rx(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=Zw.getController(o),{datasetElementType:r,dataElementType:a}=tv.datasets[o];Object.assign(e,{dataElementType:Zw.getElement(a),datasetElementType:r&&Zw.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){Um(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,l=this.data.datasets.length;u<l;u++){const{controller:t}=this.getDatasetMeta(u),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Um(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bx("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Um(this.scales,(t=>{_w.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Zm(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){Ex(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!Zm(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_w.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Um(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Jm(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xb.has(this)?this.attached&&!xb.running(this)&&xb.start(this):(this.draw(),wx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Tx(n,e,"left"),right:Tx(n,e,"right"),top:Tx(r,e,"top"),bottom:Tx(r,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&uv(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&lv(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return sv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=lw.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Tv(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);Qm(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xb.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iv(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Sx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Um(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Um(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Um(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!zm(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),u=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,Vm(i.onHover,[t,a,this],this),s&&Vm(i.onClick,[t,a,this],this));const l=!zm(a,r);return(l||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=u,l}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function Cx(){return Um(Ix.instances,(t=>t._plugins.invalidate()))}function Ax(t,e,n,r){const i=wv(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-e)/2,a=Math.min(o,r*e/2),s=t=>{const e=(n-Math.min(o,t))*r/2;return _y(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:_y(i.innerStart,0,a),innerEnd:_y(i.innerEnd,0,a)}}function Dx(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Mx(t,e,n,r,i,o){const{x:a,y:s,startAngle:u,pixelMargin:l,innerRadius:c}=e,h=Math.max(e.outerRadius+r+n-l,0),f=c>0?c+r+n+l:0;let d=0;const p=i-u;if(r){const t=((c>0?c-r:0)+(h>0?h-r:0))/2;d=(p-(0!==t?p*t/(t+r):p))/2}const g=(p-Math.max(.001,p*h-n/ty)/h)/2,m=u+g+d,y=i-g-d,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:x}=Ax(e,f,h,y-m),_=h-v,S=h-b,k=m+v/_,E=y-b/S,T=f+w,I=f+x,C=m+w/T,A=y-x/I;if(t.beginPath(),o){const e=(k+E)/2;if(t.arc(a,s,h,k,e),t.arc(a,s,h,e,E),b>0){const e=Dx(S,E,a,s);t.arc(e.x,e.y,b,E,y+oy)}const n=Dx(I,y,a,s);if(t.lineTo(n.x,n.y),x>0){const e=Dx(I,A,a,s);t.arc(e.x,e.y,x,y+oy,A+Math.PI)}const r=(y-x/f+(m+w/f))/2;if(t.arc(a,s,f,y-x/f,r,!0),t.arc(a,s,f,r,m+w/f,!0),w>0){const e=Dx(T,C,a,s);t.arc(e.x,e.y,w,C+Math.PI,m-oy)}const i=Dx(_,m,a,s);if(t.lineTo(i.x,i.y),v>0){const e=Dx(_,k,a,s);t.arc(e.x,e.y,v,m-oy,k)}}else{t.moveTo(a,s);const e=Math.cos(k)*h+a,n=Math.sin(k)*h+s;t.lineTo(e,n);const r=Math.cos(E)*h+a,i=Math.sin(E)*h+s;t.lineTo(r,i)}t.closePath()}function Px(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s,options:u}=e,{borderWidth:l,borderJoinStyle:c,borderDash:h,borderDashOffset:f}=u,d="inner"===u.borderAlign;if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=f,d?(t.lineWidth=2*l,t.lineJoin=c||"round"):(t.lineWidth=l,t.lineJoin=c||"bevel");let p=e.endAngle;if(o){Mx(t,e,n,r,p,i);for(let e=0;e<o;++e)t.stroke();isNaN(s)||(p=a+(s%ey||ey))}d&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:u}=e;let l=i/s;t.beginPath(),t.arc(o,a,s,r-l,n+l),u>i?(l=i/u,t.arc(o,a,u,n+l,r-l,!0)):t.arc(o,a,i,n+oy,r-oy),t.closePath(),t.clip()}(t,e,p),o||(Mx(t,e,n,r,p,i),t.stroke())}$g(Ix,"defaults",tv),$g(Ix,"instances",Sx),$g(Ix,"overrides",Xy),$g(Ix,"registry",Zw),$g(Ix,"version","4.4.8"),$g(Ix,"getChart",kx);class Nx extends Uw{constructor(t){super(),$g(this,"circumference",void 0),$g(this,"endAngle",void 0),$g(this,"fullCircles",void 0),$g(this,"innerRadius",void 0),$g(this,"outerRadius",void 0),$g(this,"pixelMargin",void 0),$g(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=yy(r,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:u,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,f=Fm(c,s-a),d=xy(i,a,s)&&a!==s,p=f>=ey||d,g=Sy(o,u+h,l+h);return p&&g}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:u}=this.options,l=(r+i)/2,c=(o+a+u+s)/2;return{x:e+Math.cos(l)*c,y:n+Math.sin(l)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>ey?Math.floor(n/ey):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(ty,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let u=e.endAngle;if(o){Mx(t,e,n,r,u,i);for(let e=0;e<o;++e)t.fill();isNaN(s)||(u=a+(s%ey||ey))}Mx(t,e,n,r,u,i),t.fill()}(t,this,s,i,o),Px(t,this,s,i,o),t.restore()}}function Ox(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Fm(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fm(n.borderDash,e.borderDash)),t.lineDashOffset=Fm(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fm(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fm(n.borderWidth,e.borderWidth),t.strokeStyle=Fm(n.borderColor,e.borderColor)}function Rx(t,e,n){t.lineTo(n.x,n.y)}function Lx(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,u=Math.max(i,a),l=Math.min(o,s),c=i<a&&o<a||i>s&&o>s;return{count:r,start:u,loop:e.loop,ilen:l<u&&!c?r+l-u:l-u}}function Fx(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:u,ilen:l}=Lx(i,n,r),c=function(t){return t.stepped?cv:t.tension||"monotone"===t.cubicInterpolationMode?hv:Rx}(o);let h,f,d,{move:p=!0,reverse:g}=r||{};for(h=0;h<=l;++h)f=i[(s+(g?l-h:h))%a],f.skip||(p?(t.moveTo(f.x,f.y),p=!1):c(t,d,f,g,o.stepped),d=f);return u&&(f=i[(s+(g?l:0))%a],c(t,d,f,g,o.stepped)),!!u}function jx(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=Lx(i,n,r),{move:u=!0,reverse:l}=r||{};let c,h,f,d,p,g,m=0,y=0;const v=t=>(a+(l?s-t:t))%o,b=()=>{d!==p&&(t.lineTo(m,p),t.lineTo(m,d),t.lineTo(m,g))};for(u&&(h=i[v(0)],t.moveTo(h.x,h.y)),c=0;c<=s;++c){if(h=i[v(c)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===f?(n<d?d=n:n>p&&(p=n),m=(y*m+e)/++y):(b(),t.lineTo(e,n),f=r,y=0,d=p=n),g=n}b()}function Vx(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?jx:Fx}$g(Nx,"id","arc"),$g(Nx,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$g(Nx,"defaultRoutes",{backgroundColor:"backgroundColor"}),$g(Nx,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Ux="function"===typeof Path2D;function zx(t,e,n,r){Ux&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Ox(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=Vx(e);for(const s of i)Ox(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class Bx extends Uw{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Gv(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return yb(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,u=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?u.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,u.skip&&(e=a)),u=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=mb(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?ub:t.tension||"monotone"===t.cubicInterpolationMode?lb:sb}(n);let u,l;for(u=0,l=o.length;u<l;++u){const{start:l,end:c}=o[u],h=i[l],f=i[c];if(h===f){a.push(h);continue}const d=s(h,f,Math.abs((r-h[e])/(f[e]-h[e])),n.stepped);d[e]=t[e],a.push(d)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return Vx(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=Vx(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),zx(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Wx(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}$g(Bx,"id","line"),$g(Bx,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$g(Bx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$g(Bx,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class qx extends Uw{constructor(t){super(),$g(this,"parsed",void 0),$g(this,"skip",void 0),$g(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Wx(this,t,"x",e)}inYRange(t,e){return Wx(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!sv(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ov(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Hx(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,u,l,c,h;return t.horizontal?(h=a/2,s=Math.min(n,i),u=Math.max(n,i),l=r-h,c=r+h):(h=o/2,s=n-h,u=n+h,l=Math.min(r,i),c=Math.max(r,i)),{left:s,top:l,right:u,bottom:c}}function Kx(t,e,n,r){return t?0:_y(e,n,r)}function Gx(t){const e=Hx(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=xv(r);return{t:Kx(i.top,o.top,0,n),r:Kx(i.right,o.right,0,e),b:Kx(i.bottom,o.bottom,0,n),l:Kx(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=_v(i),a=Math.min(e,n),s=t.borderSkipped,u=r||Om(i);return{topLeft:Kx(!u||s.top||s.left,o.topLeft,0,a),topRight:Kx(!u||s.top||s.right,o.topRight,0,a),bottomLeft:Kx(!u||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Kx(!u||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Yx(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&Hx(t,r);return a&&(i||Sy(e,a.left,a.right))&&(o||Sy(n,a.top,a.bottom))}function Xx(t,e){t.rect(e.x,e.y,e.w,e.h)}function $x(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}$g(qx,"id","point"),$g(qx,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$g(qx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Qx extends Uw{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=Gx(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?gv:Xx;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,$x(o,e,i)),t.clip(),a(t,$x(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,$x(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Yx(this,t,e,n)}inXRange(t,e){return Yx(this,t,null,e)}inYRange(t,e){return Yx(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}$g(Qx,"id","bar"),$g(Qx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$g(Qx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Jx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class Zx extends Uw{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Vm(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=kv(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=Jx(n,i);let u,l;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,l=this._fitRows(o,i,a,s)+10):(l=this.maxHeight,u=this._fitCols(o,r,a,s)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.lineWidths=[0],l=r+a;let c=t;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-l;return this.legendItems.forEach(((t,d)=>{const p=n+e/2+i.measureText(t.text).width;(0===d||u[u.length-1]+p+2*a>o)&&(c+=l,u[u.length-(d>0?0:1)]=0,f+=l,h++),s[d]={left:0,top:f,row:h,width:p,height:r},u[u.length-1]+=p+a})),c}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.columnSizes=[],l=o-t;let c=a,h=0,f=0,d=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,r,i){const o=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),a=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=t_(e,n));return r}(i,r,e.lineHeight);return{itemWidth:o,itemHeight:a}}(n,e,i,t,r);o>0&&f+m+2*a>l&&(c+=h+a,u.push({width:h,height:f}),d+=h+a,p++,h=f=0),s[o]={left:d,top:f,col:p,width:g,height:m},h=Math.max(h,g),f+=m+a})),c+=h,u.push({width:h,height:f}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=cb(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=Ny(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=Ny(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=Ny(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=Ny(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;uv(t,this),this._draw(),lv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=tv.color,s=cb(t.rtl,this.left,this.width),u=kv(o.font),{padding:l}=o,c=u.size,h=c/2;let f;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:d,boxHeight:p,itemHeight:g}=Jx(o,c),m=this.isHorizontal(),y=this._computeTitleHeight();f=m?{x:Ny(i,this.left+l,this.right-n[0]),y:this.top+l+y,line:0}:{x:this.left+l,y:Ny(i,this.top+y+l,this.bottom-e[0].height),line:0},hb(this.ctx,t.textDirection);const v=g+l;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,_=s.textAlign(b.textAlign||(b.textAlign=o.textAlign)),S=d+h+x;let k=f.x,E=f.y;s.setWidth(this.width),m?w>0&&k+S+l>this.right&&(E=f.y+=v,f.line++,k=f.x=Ny(i,this.left+l,this.right-n[f.line])):w>0&&E+v>this.bottom&&(k=f.x=k+e[f.line].width+l,f.line++,E=f.y=Ny(i,this.top+y+l,this.bottom-e[f.line].height));if(function(t,e,n){if(isNaN(d)||d<=0||isNaN(p)||p<0)return;r.save();const i=Fm(n.lineWidth,1);if(r.fillStyle=Fm(n.fillStyle,a),r.lineCap=Fm(n.lineCap,"butt"),r.lineDashOffset=Fm(n.lineDashOffset,0),r.lineJoin=Fm(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Fm(n.strokeStyle,a),r.setLineDash(Fm(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},u=s.xPlus(t,d/2);av(r,a,u,e+h,o.pointStyleWidth&&d)}else{const o=e+Math.max((c-p)/2,0),a=s.leftForLtr(t,d),u=_v(n.borderRadius);r.beginPath(),Object.values(u).some((t=>0!==t))?gv(r,{x:a,y:o,w:d,h:p,radius:u}):r.rect(a,o,d,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(k),E,b),k=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(_,k+d+h,m?k+S:this.right,t.rtl),function(t,e,n){pv(r,n.text,t,e+g/2,u,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),E,b),m)f.x+=S+l;else if("string"!==typeof b.text){const t=u.lineHeight;f.y+=t_(b,t)+l}else f.y+=v})),fb(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=kv(e.font),r=Sv(e.padding);if(!e.display)return;const i=cb(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,u=r.top+s;let l,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),l=this.top+u,c=Ny(t.align,c,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=u+Ny(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const f=Ny(a,c,c+h);o.textAlign=i.textAlign(Py(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,pv(o,e.text,f,l,n)}_computeTitleHeight(){const t=this.options.title,e=kv(t.font),n=Sv(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Sy(t,this.left,this.right)&&Sy(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Sy(t,r.left,r.left+r.width)&&Sy(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&Vm(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!a&&Vm(e.onHover,[t,n,this],this)}else n&&Vm(e.onClick,[t,n,this],this);var r,i}}function t_(t,e){return e*(t.text?t.text.length:0)}var e_={id:"legend",_element:Zx,start(t,e,n){const r=t.legend=new Zx({ctx:t.ctx,options:n,chart:t});_w.configure(t,r,n),_w.addBox(t,r)},stop(t){_w.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;_w.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const u=t.controller.getStyle(n?0:void 0),l=Sv(u.borderWidth);return{text:e[t.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(s||u.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class n_ extends Uw{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Nm(n.text)?n.text.length:1;this._padding=Sv(n.padding);const i=r*kv(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,u,l,c=0;return this.isHorizontal()?(u=Ny(a,n,i),l=e+t,s=i-n):("left"===o.position?(u=n+t,l=Ny(a,r,e),c=-.5*ty):(u=i-t,l=Ny(a,e,r),c=.5*ty),s=r-e),{titleX:u,titleY:l,maxWidth:s,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=kv(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);pv(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:Py(e.align),textBaseline:"middle",translation:[i,o]})}}var r_={id:"title",_element:n_,start(t,e,n){!function(t,e){const n=new n_({ctx:t.ctx,options:e,chart:t});_w.configure(t,n,e),_w.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;_w.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;_w.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const i_={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r.add(t.x),i+=t.y,++o}}if(0===o||0===r.size)return!1;return{x:[...r].reduce(((t,e)=>t+e))/r.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=vy(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function o_(t,e){return e&&(Nm(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function a_(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function s_(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function u_(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,u=kv(e.bodyFont),l=kv(e.titleFont),c=kv(e.footerFont),h=o.length,f=i.length,d=r.length,p=Sv(e.padding);let g=p.height,m=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=d*(e.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(y-d)*u.lineHeight+(y-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let v=0;const b=function(t){m=Math.max(m,n.measureText(t).width+v)};return n.save(),n.font=l.string,Um(t.title,b),n.font=u.string,Um(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,Um(r,(t=>{Um(t.before,b),Um(t.lines,b),Um(t.after,b)})),v=0,n.font=c.string,Um(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function l_(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:u}}=t;let l="center";return"center"===r?l=i<=(s+u)/2?"left":"right":i<=o/2?l="left":i>=a-o/2&&(l="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(l,t,e,n)&&(l="center"),l}function c_(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||l_(t,e,n,r),yAlign:r}}function h_(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:u}=n,l=i+o,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:d}=_v(a);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,u,l);return"center"===u?"left"===s?p+=l:"right"===s&&(p-=l):"left"===s?p-=Math.max(c,f)+i:"right"===s&&(p+=Math.max(h,d)+i),{x:_y(p,0,r.width-e.width),y:_y(g,0,r.height-e.height)}}function f_(t,e,n){const r=Sv(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function d_(t){return o_([],a_(t))}function p_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const g_={beforeTitle:Dm,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Dm,beforeBody:Dm,beforeLabel:Dm,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pm(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Dm,afterBody:Dm,beforeFooter:Dm,footer:Dm,afterFooter:Dm};function m_(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?g_[e].call(n,r):i}class y_ extends Uw{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Eb(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Tv(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=m_(n,"beforeTitle",this,t),i=m_(n,"title",this,t),o=m_(n,"afterTitle",this,t);let a=[];return a=o_(a,a_(r)),a=o_(a,a_(i)),a=o_(a,a_(o)),a}getBeforeBody(t,e){return d_(m_(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return Um(t,(t=>{const e={before:[],lines:[],after:[]},i=p_(n,t);o_(e.before,a_(m_(i,"beforeLabel",this,t))),o_(e.lines,m_(i,"label",this,t)),o_(e.after,a_(m_(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return d_(m_(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=m_(n,"beforeFooter",this,t),i=m_(n,"footer",this,t),o=m_(n,"afterFooter",this,t);let a=[];return a=o_(a,a_(r)),a=o_(a,a_(i)),a=o_(a,a_(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,u=[];for(a=0,s=e.length;a<s;++a)u.push(s_(this.chart,e[a]));return t.filter&&(u=u.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(u=u.sort(((e,r)=>t.itemSort(e,r,n)))),Um(u,(e=>{const n=p_(t.callbacks,e);r.push(m_(n,"labelColor",this,e)),i.push(m_(n,"labelPointStyle",this,e)),o.push(m_(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=u,u}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=i_[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=u_(this,n),a=Object.assign({},t,e),s=c_(this.chart,n,a),u=h_(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:u.x,y:u.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:u,bottomLeft:l,bottomRight:c}=_v(a),{x:h,y:f}=t,{width:d,height:p}=e;let g,m,y,v,b,w;return"center"===i?(b=f+p/2,"left"===r?(g=h,m=g-o,v=b+o,w=b-o):(g=h+d,m=g+o,v=b-o,w=b+o),y=g):(m="left"===r?h+Math.max(s,l)+o:"right"===r?h+d-Math.max(u,c)-o:this.caretX,"top"===i?(v=f,b=v-o,g=m-o,y=m+o):(v=f+p,b=v+o,g=m+o,y=m-o),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const u=cb(n.rtl,this.x,this.width);for(t.x=f_(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",o=kv(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:u}=i,l=kv(i.bodyFont),c=f_(this,"left",i),h=r.x(c),f=s<l.lineHeight?(l.lineHeight-s)/2:0,d=e.y+f;if(i.usePointStyle){const e={radius:Math.min(u,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,u)+u/2,l=d+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ov(t,e,n,l),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ov(t,e,n,l)}else{t.lineWidth=Om(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(h,u),n=r.leftForLtr(r.xPlus(h,1),u-2),a=_v(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,gv(t,{x:e,y:d,w:u,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),gv(t,{x:n,y:d+1,w:u-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,d,u,s),t.strokeRect(e,d,u,s),t.fillStyle=o.backgroundColor,t.fillRect(n,d+1,u-2,s-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:u,boxPadding:l}=n,c=kv(n.bodyFont);let h=c.lineHeight,f=0;const d=cb(n.rtl,this.x,this.width),p=function(n){e.fillText(n,d.x(t.x+f),t.y+h/2),t.y+=h+i},g=d.textAlign(o);let m,y,v,b,w,x,_;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=f_(this,g,n),e.fillStyle=n.bodyColor,Um(this.beforeBody,p),f=a&&"right"!==g?"center"===o?u/2+l:u+2+l:0,b=0,x=r.length;b<x;++b){for(m=r[b],y=this.labelTextColors[b],e.fillStyle=y,Um(m.before,p),v=m.lines,a&&v.length&&(this._drawColorBox(e,t,b,d,n),h=Math.max(c.lineHeight,s)),w=0,_=v.length;w<_;++w)p(v[w]),h=c.lineHeight;Um(m.after,p)}f=0,h=c.lineHeight,Um(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=cb(n.rtl,this.x,this.width);for(t.x=f_(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=kv(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:u,height:l}=n,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:d}=_v(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+c,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+u-h,s),e.quadraticCurveTo(a+u,s,a+u,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+u,s+l-d),e.quadraticCurveTo(a+u,s+l,a+u-d,s+l),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+f,s+l),e.quadraticCurveTo(a,s+l,a,s+l-f),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+c),e.quadraticCurveTo(a,s,a+c,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=i_[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=u_(this,t),a=Object.assign({},n,this._size),s=c_(e,t,a),u=h_(t,a,s,e);r._to===u.x&&i._to===u.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Sv(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),hb(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),fb(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!zm(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!zm(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=i_[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}$g(y_,"positioners",i_);var v_={id:"tooltip",_element:y_,positioners:i_,afterInit(t,e,n){n&&(t.tooltip=new y_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:g_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function b_(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}function w_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class x_ extends $w{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pm(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:_y(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:b_(n,t,Fm(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return w_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function __(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:u,maxTicks:l,maxDigits:c,includeBounds:h}=t,f=i||1,d=l-1,{min:p,max:g}=e,m=!Pm(o),y=!Pm(a),v=!Pm(u),b=(g-p)/(c+1);let w,x,_,S,k=hy((g-p)/d/f)*f;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];S=Math.ceil(g/k)-Math.floor(p/k),S>d&&(k=hy(S*k/d/f)*f),Pm(s)||(w=Math.pow(10,s),k=Math.ceil(k*w)/w),"ticks"===r?(x=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(x=p,_=g),m&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/i,k/1e3)?(S=Math.round(Math.min((a-o)/k,l)),k=(a-o)/S,x=o,_=a):v?(x=m?o:x,_=y?a:_,S=u-1,k=(_-x)/S):(S=(_-x)/k,S=cy(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(my(k),my(x));w=Math.pow(10,Pm(s)?E:s),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let T=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&T++,cy(Math.round((x+T*k)*w)/w,o,S_(o,b,t))&&T++):x<o&&T++);T<S;++T){const t=Math.round((x+T*k)*w)/w;if(y&&t>a)break;n.push({value:t})}return y&&h&&_!==a?n.length&&cy(n[n.length-1].value,a,S_(a,b,t))?n[n.length-1].value=a:n.push({value:a}):y&&_!==a||n.push({value:_}),n}function S_(t,e,n){let{horizontal:r,minRotation:i}=n;const o=py(i),a=(r?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}$g(x_,"id","category"),$g(x_,"defaults",{ticks:{callback:w_}});class k_ extends $w{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pm(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=ly(r),e=ly(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=__({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&dy(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ky(t,this.chart.options.locale,this.options.ticks.format)}}class E_ extends k_{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rm(t)?t:0,this.max=Rm(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=py(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}$g(E_,"id","linear"),$g(E_,"defaults",{ticks:{callback:Yy.formatters.numeric}});const T_=t=>Math.floor(uy(t)),I_=(t,e)=>Math.pow(10,T_(t)+e);function C_(t){return 1===t/Math.pow(10,T_(t))}function A_(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function D_(t,e){let{min:n,max:r}=e;n=Lm(t.min,n);const i=[],o=T_(n);let a=function(t,e){let n=T_(e-t);for(;A_(t,e,n)>10;)n++;for(;A_(t,e,n)<10;)n--;return Math.min(n,T_(t))}(n,r),s=a<0?Math.pow(10,Math.abs(a)):1;const u=Math.pow(10,a),l=o>a?Math.pow(10,o):0,c=Math.round((n-l)*s)/s,h=Math.floor((n-l)/u/10)*u*10;let f=Math.floor((c-h)/Math.pow(10,a)),d=Lm(t.min,Math.round((l+h+f*Math.pow(10,a))*s)/s);for(;d<r;)i.push({value:d,major:C_(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,s=a>=0?1:s),d=Math.round((l+h+f*Math.pow(10,a))*s)/s;const p=Lm(t.max,d);return i.push({value:p,major:C_(p),significand:f}),i}class M_ extends $w{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=k_.prototype.parse.apply(this,[t,e]);if(0!==n)return Rm(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Rm(t)?Math.max(0,t):null,this.max=Rm(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rm(this._userMin)&&(this.min=t===I_(this.min,0)?I_(this.min,-1):I_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,o=t=>r=e?r:t;n===r&&(n<=0?(i(1),o(10)):(i(I_(n,-1)),o(I_(r,1)))),n<=0&&i(I_(r,-1)),r<=0&&o(I_(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=D_({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&dy(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Ky(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=uy(t),this._valueRange=uy(this.max)-uy(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(uy(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function P_(t){const e=t.ticks;if(e.display&&t.display){const t=Sv(e.backdropPadding);return Fm(e.font&&e.font.size,tv.font.size)+t.height}return 0}function N_(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function O_(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?ty/o:0;for(let h=0;h<o;h++){const o=a.setContext(t.getPointLabelContext(h));i[h]=o.padding;const f=t.getPointPosition(h,t.drawingArea+i[h],s),d=kv(o.font),p=(u=t.ctx,l=d,c=Nm(c=t._pointLabels[h])?c:[c],{w:nv(u,l.string,c),h:c.length*l.lineHeight});r[h]=p;const g=wy(t.getIndexAngle(h)+s),m=Math.round(gy(g));R_(n,e,g,N_(m,f.x,p.w,0,180),N_(m,f.y,p.h,90,270))}var u,l,c;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:s}=o.pointLabels,u={extra:P_(o)/2,additionalAngle:a?ty/i:0};let l;for(let c=0;c<i;c++){u.padding=n[c],u.size=e[c];const i=L_(t,c,u);r.push(i),"auto"===s&&(i.visible=F_(i,l),i.visible&&(l=i))}return r}(t,r,i)}function R_(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,u=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(u=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-u)):i.end>e.b&&(u=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+u))}function L_(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:o,padding:a,size:s}=n,u=t.getPointPosition(e,r+i+a,o),l=Math.round(gy(wy(u.angle+oy))),c=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(u.y,s.h,l),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(l),f=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(u.x,s.w,h);return{visible:!0,x:u.x,y:c,textAlign:h,left:f,top:c,right:f+s.w,bottom:c+s.h}}function F_(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:o}=t;return!(sv({x:n,y:r},e)||sv({x:n,y:o},e)||sv({x:i,y:r},e)||sv({x:i,y:o},e))}function j_(t,e,n){const{left:r,top:i,right:o,bottom:a}=n,{backdropColor:s}=e;if(!Pm(s)){const n=_v(e.borderRadius),u=Sv(e.backdropPadding);t.fillStyle=s;const l=r-u.left,c=i-u.top,h=o-r+u.width,f=a-i+u.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),gv(t,{x:l,y:c,w:h,h:f,radius:n}),t.fill()):t.fillRect(l,c,h,f)}}function V_(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ey);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}$g(M_,"id","logarithmic"),$g(M_,"defaults",{ticks:{callback:Yy.formatters.logarithmic,major:{enabled:!0}}});class U_ extends k_{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Sv(P_(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Rm(t)&&!isNaN(t)?t:0,this.max=Rm(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/P_(this.options))}generateTickLabels(t){k_.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=Vm(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?O_(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return wy(t*(ey/(this._pointLabels.length||1))+py(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Pm(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Pm(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Tv(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(t)-oy+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),V_(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:i}=e,o=this._pointLabels.length;let a,s,u;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=t._pointLabelItems[i];if(!e.visible)continue;const o=r.setContext(t.getPointLabelContext(i));j_(n,o,e);const a=kv(o.font),{x:s,y:u,textAlign:l}=e;pv(n,t._pointLabels[i],s,u+a.lineHeight/2,a,{color:o.color,textAlign:l,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){s=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),a=r.setContext(n),u=i.setContext(n);!function(t,e,n,r,i){const o=t.ctx,a=e.circular,{color:s,lineWidth:u}=e;!a&&!r||!s||!u||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=u,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),V_(t,n,a,r),o.closePath(),o.stroke(),o.restore())}(this,a,s,o,u)}})),n.display){for(t.save(),a=o-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:o}=r;o&&i&&(t.lineWidth=o,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(a,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!e.reverse)return;const s=n.setContext(this.getContext(a)),u=kv(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=u.string,o=t.measureText(r.label).width,t.fillStyle=s.backdropColor;const e=Sv(s.backdropPadding);t.fillRect(-o/2-e.left,-i-u.size/2-e.top,o+e.width,u.size+e.height)}pv(t,r.label,0,-i,u,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),t.restore()}drawTitle(){}}$g(U_,"id","radialLinear"),$g(U_,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),$g(U_,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$g(U_,"descriptors",{angleLines:{_fallback:"grid"}});const z_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},B_=Object.keys(z_);function W_(t,e){return t-e}function q_(t,e){if(Pm(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return"function"===typeof r&&(a=r(a)),Rm(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!fy(o)&&!0!==o?n.startOf(a,i):n.startOf(a,"isoWeek",o)),+a)}function H_(t,e,n,r){const i=B_.length;for(let o=B_.indexOf(t);o<i-1;++o){const t=z_[B_[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return B_[o]}return B_[i-1]}function K_(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=ky(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function G_(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,u;for(s=o;s<=a;s=+i.add(s,1,r))u=n[s],u>=0&&(e[u].major=!0);return e}(t,r,i,n):r}class Y_ extends $w{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),r=this._adapter=new nw(t.adapters.date);r.init(e),Km(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:q_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function s(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),a||isNaN(t.max)||(i=Math.max(i,t.max))}o&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),r=Rm(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=Rm(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?H_(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let o=B_.length-1;o>=B_.indexOf(n);o--){const n=B_[o];if(z_[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return B_[n?B_.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=B_.indexOf(t)+1,n=B_.length;e<n;++e)if(z_[B_[e]].common)return B_[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&o.reverse(),G_(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),r=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),i=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;r=_y(r,0,o),i=_y(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||H_(i.minUnit,e,n,this._getLabelCapacity(e)),a=Fm(r.ticks.stepSize,1),s="week"===o&&i.isoWeekday,u=fy(s)||!0===s,l={};let c,h,f=e;if(u&&(f=+t.startOf(f,"isoWeek",s)),f=+t.startOf(f,u?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);const d="data"===r.ticks.source&&this.getDataTimestamps();for(c=f,h=0;c<n;c=+t.add(c,a,o),h++)K_(l,c,d);return c!==n&&"ticks"!==r.bounds&&1!==h||K_(l,c,d),Object.keys(l).sort(W_).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.ticks.callback;if(o)return Vm(o,[t,e,n],this);const a=i.time.displayFormats,s=this._unit,u=this._majorUnit,l=s&&a[s],c=u&&a[u],h=n[e],f=u&&c&&h&&h.major;return this._adapter.format(t,r||(f?c:l))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=py(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,G_(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(q_(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ay(t.sort(W_))}}function X_(t,e,n){let r,i,o,a,s=0,u=t.length-1;n?(e>=t[s].pos&&e<=t[u].pos&&({lo:s,hi:u}=Ey(t,"pos",e)),({pos:r,time:o}=t[s]),({pos:i,time:a}=t[u])):(e>=t[s].time&&e<=t[u].time&&({lo:s,hi:u}=Ey(t,"time",e)),({time:r,pos:o}=t[s]),({time:i,pos:a}=t[u]));const l=i-r;return l?o+(a-o)*(e-r)/l:o}$g(Y_,"id","time"),$g(Y_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class $_ extends Y_{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=X_(e,this.min),this._tableRange=X_(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,a,s,u,l;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=n&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)l=r[o+1],s=r[o-1],u=r[o],Math.round((l+s)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(X_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return X_(this._table,n*this._tableRange+this._minPos,!0)}}$g($_,"id","timeseries"),$g($_,"defaults",Y_.defaults);const Q_="label";function J_(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function Z_(t,e){t.labels=e}function tS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q_;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function eS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q_;const n={labels:[],datasets:[]};return Z_(n,t.labels),tS(n,t.datasets,e),n}function nS(e,n){const{height:r=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:s,data:u,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...d}=e,p=(0,t.useRef)(null),g=(0,t.useRef)(null),m=()=>{p.current&&(g.current=new Ix(p.current,{type:s,data:eS(u,a),options:l&&{...l},plugins:c}),J_(n,g.current))},y=()=>{J_(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,t.useEffect)((()=>{!o&&g.current&&l&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,l)}),[o,l]),(0,t.useEffect)((()=>{!o&&g.current&&Z_(g.current.config.data,u.labels)}),[o,u.labels]),(0,t.useEffect)((()=>{!o&&g.current&&u.datasets&&tS(g.current.config.data,u.datasets,a)}),[o,u.datasets]),(0,t.useEffect)((()=>{g.current&&(o?(y(),setTimeout(m)):g.current.update(f))}),[o,l,u.labels,u.datasets,f]),(0,t.useEffect)((()=>{g.current&&(y(),setTimeout(m))}),[s]),(0,t.useEffect)((()=>(m(),()=>y())),[]),t.createElement("canvas",{ref:p,role:"img",height:r,width:i,...d},h)}const rS=(0,t.forwardRef)(nS);function iS(e,n){return Ix.register(n),(0,t.forwardRef)(((n,r)=>t.createElement(rS,{...n,ref:r,type:e})))}const oS=iS("line",Xb),aS={modes:{point:(t,e)=>uS(t,e,{intersect:!0}),nearest:(t,e,n)=>function(t,e,n){let r=Number.POSITIVE_INFINITY;return uS(t,e,n).reduce(((t,i)=>{const o=i.getCenterPoint(),a=function(t,e,n){if("x"===n)return{x:t.x,y:e.y};if("y"===n)return{x:e.x,y:t.y};return e}(e,o,n.axis),s=vy(e,a);return s<r?(t=[i],r=s):s===r&&t.push(i),t}),[]).sort(((t,e)=>t._index-e._index)).slice(0,1)}(t,e,n),x:(t,e,n)=>uS(t,e,{intersect:n.intersect,axis:"x"}),y:(t,e,n)=>uS(t,e,{intersect:n.intersect,axis:"y"})}};function sS(t,e,n){return(aS.modes[n.mode]||aS.modes.nearest)(t,e,n)}function uS(t,e,n){return t.filter((t=>n.intersect?t.inRange(e.x,e.y):function(t,e,n){return"x"!==n&&"y"!==n?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}(t,e,n.axis)))}function lS(t,e,n){const r=Math.cos(n),i=Math.sin(n),o=e.x,a=e.y;return{x:o+r*(t.x-o)-i*(t.y-a),y:a+i*(t.x-o)+r*(t.y-a)}}const cS=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,hS=.001,fS=(t,e,n)=>Math.min(n,Math.max(e,t)),dS=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function pS(t,e,n){for(const r of Object.keys(t))t[r]=fS(t[r],e,n);return t}function gS(t,e,n,r){let{x:i,y:o,x2:a,y2:s}=e,{borderWidth:u,hitTolerance:l}=r;const c=(u+l)/2,h=t.x>=i-c-hS&&t.x<=a+c+hS,f=t.y>=o-c-hS&&t.y<=s+c+hS;return"x"===n?h:("y"===n||h)&&f}function mS(t,e,n,r){let{rect:i,center:o}=e,{rotation:a,borderWidth:s,hitTolerance:u}=r;return gS(lS(t,o,py(-a)),i,n,{borderWidth:s,hitTolerance:u})}function yS(t,e){const{centerX:n,centerY:r}=t.getProps(["centerX","centerY"],e);return{x:n,y:r}}const vS=t=>"string"===typeof t&&t.endsWith("%"),bS=t=>parseFloat(t)/100,wS=t=>fS(bS(t),0,1),xS=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),_S={box:t=>xS(t.centerX,t.centerY),doughnutLabel:t=>xS(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>xS(t.centerX,t.centerY),line:t=>xS(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>xS(t.centerX,t.centerY)};function SS(t,e){return"start"===e?0:"end"===e?t:vS(e)?wS(e)*t:t/2}function kS(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"===typeof e?e:vS(e)?(n?wS(e):bS(e))*t:t}function ES(t,e,n,r){let{borderWidth:i,position:o,xAdjust:a,yAdjust:s}=n;const u=Om(r),l=e.width+(u?r.width:0)+i,c=e.height+(u?r.height:0)+i,h=TS(o),f=DS(t.x,l,a,h.x),d=DS(t.y,c,s,h.y);return{x:f,y:d,x2:f+l,y2:d+c,width:l,height:c,centerX:f+l/2,centerY:d+c/2}}function TS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";return Om(t)?{x:Fm(t.x,e),y:Fm(t.y,e)}:{x:t=Fm(t,e),y:t}}const IS=(t,e)=>t&&t.autoFit&&e<1;function CS(t,e){const n=t.font,r=Nm(n)?n:[n];return IS(t,e)?r.map((function(t){const n=kv(t);return n.size=Math.floor(t.size*e),n.lineHeight=t.lineHeight,kv(n)})):r.map((t=>kv(t)))}function AS(t){return t&&(Qm(t.xValue)||Qm(t.yValue))}function DS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t-SS(e,arguments.length>3?arguments[3]:void 0)+n}function MS(t,e,n){const r=n.init;if(r)return!0===r?NS(e,n):function(t,e,n){const r=Vm(n.init,[{chart:t,properties:e,options:n}]);if(!0===r)return NS(e,n);if(Om(r))return r}(t,e,n)}function PS(t,e,n){let r=!1;return e.forEach((e=>{Jm(t[e])?(r=!0,n[e]=t[e]):Qm(n[e])&&delete n[e]})),r}function NS(t,e){const n=e.type||"line";return _S[n](t)}const OS=new Map,RS=t=>t.reduce((function(t,e){return t+=e.string}),"");function LS(t){if(t&&"object"===typeof t){const e=t.toString();return"[object HTMLImageElement]"===e||"[object HTMLCanvasElement]"===e}}function FS(t,e,n){let{x:r,y:i}=e;n&&(t.translate(r,i),t.rotate(py(n)),t.translate(-r,-i))}function jS(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function VS(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function US(t,e){const n=e.content;if(LS(n)){return{width:kS(n.width,e.width),height:kS(n.height,e.height)}}const r=CS(e),i=e.textStrokeWidth,o=Nm(n)?n:[n],a=o.join()+RS(r)+i+(t._measureText?"-spriting":"");return OS.has(a)||OS.set(a,function(t,e,n,r){t.save();const i=e.length;let o=0,a=r;for(let s=0;s<i;s++){const i=n[Math.min(s,n.length-1)];t.font=i.string;const u=e[s];o=Math.max(o,t.measureText(u).width+r),a+=i.lineHeight}return t.restore(),{width:o,height:a}}(t,o,r,i)),OS.get(a)}function zS(t,e,n){const{x:r,y:i,width:o,height:a}=e;t.save(),VS(t,n);const s=jS(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),gv(t,{x:r,y:i,w:o,h:a,radius:pS(_v(n.borderRadius),0,Math.min(o,a)/2)}),t.closePath(),t.fill(),s&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function BS(t,e,n,r){const i=n.content;if(LS(i))return t.save(),t.globalAlpha=function(t,e){const n=fy(t)?t:e;return fy(n)?fS(n,0,1):1}(n.opacity,i.style.opacity),t.drawImage(i,e.x,e.y,e.width,e.height),void t.restore();const o=Nm(i)?i:[i],a=CS(n,r),s=n.color,u=Nm(s)?s:[s],l=function(t,e){const{x:n,width:r}=t,i=e.textAlign;return"center"===i?n+r/2:"end"===i||"right"===i?n+r:n}(e,n),c=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,function(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}(t,n)&&function(t,e,n,r){let{x:i,y:o}=e;t.beginPath();let a=0;n.forEach((function(e,n){const s=r[Math.min(n,r.length-1)],u=s.lineHeight;t.font=s.string,t.strokeText(e,i,o+u/2+a),a+=u})),t.stroke()}(t,{x:l,y:c},o,a),function(t,e,n,r){let{x:i,y:o}=e,{fonts:a,colors:s}=r,u=0;n.forEach((function(e,n){const r=s[Math.min(n,s.length-1)],l=a[Math.min(n,a.length-1)],c=l.lineHeight;t.beginPath(),t.font=l.string,t.fillStyle=r,t.fillText(e,i,o+c/2+u),u+=c,t.fill()}))}(t,{x:l,y:c},o,{fonts:a,colors:u}),t.restore()}function WS(t,e,n,r){const{radius:i,options:o}=e,a=o.pointStyle,s=o.rotation;let u=(s||0)*iy;if(LS(a))return t.save(),t.translate(n,r),t.rotate(u),t.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),void t.restore();(t=>isNaN(t)||t<=0)(i)||function(t,e){let n,r,i,o,{x:a,y:s,radius:u,rotation:l,style:c,rad:h}=e;switch(t.beginPath(),c){default:t.arc(a,s,u,0,ey),t.closePath();break;case"triangle":t.moveTo(a+Math.sin(h)*u,s-Math.cos(h)*u),h+=sy,t.lineTo(a+Math.sin(h)*u,s-Math.cos(h)*u),h+=sy,t.lineTo(a+Math.sin(h)*u,s-Math.cos(h)*u),t.closePath();break;case"rectRounded":o=.516*u,i=u-o,n=Math.cos(h+ay)*i,r=Math.sin(h+ay)*i,t.arc(a-n,s-r,o,h-ty,h-oy),t.arc(a+r,s-n,o,h-oy,h),t.arc(a+n,s+r,o,h,h+oy),t.arc(a-r,s+n,o,h+oy,h+ty),t.closePath();break;case"rect":if(!l){i=Math.SQRT1_2*u,t.rect(a-i,s-i,2*i,2*i);break}h+=ay;case"rectRot":n=Math.cos(h)*u,r=Math.sin(h)*u,t.moveTo(a-n,s-r),t.lineTo(a+r,s-n),t.lineTo(a+n,s+r),t.lineTo(a-r,s+n),t.closePath();break;case"crossRot":h+=ay;case"cross":n=Math.cos(h)*u,r=Math.sin(h)*u,t.moveTo(a-n,s-r),t.lineTo(a+n,s+r),t.moveTo(a+r,s-n),t.lineTo(a-r,s+n);break;case"star":n=Math.cos(h)*u,r=Math.sin(h)*u,t.moveTo(a-n,s-r),t.lineTo(a+n,s+r),t.moveTo(a+r,s-n),t.lineTo(a-r,s+n),h+=ay,n=Math.cos(h)*u,r=Math.sin(h)*u,t.moveTo(a-n,s-r),t.lineTo(a+n,s+r),t.moveTo(a+r,s-n),t.lineTo(a-r,s+n);break;case"line":n=Math.cos(h)*u,r=Math.sin(h)*u,t.moveTo(a-n,s-r),t.lineTo(a+n,s+r);break;case"dash":t.moveTo(a,s),t.lineTo(a+Math.cos(h)*u,s+Math.sin(h)*u)}t.fill()}(t,{x:n,y:r,radius:i,rotation:s,style:a,rad:u})}const qS=["left","bottom","top","right"];function HS(t,e){const{pointX:n,pointY:r,options:i}=e,o=i.callout,a=o&&o.display&&function(t,e){const n=e.position;if(qS.includes(n))return n;return function(t,e){const{x:n,y:r,x2:i,y2:o,width:a,height:s,pointX:u,pointY:l,centerX:c,centerY:h,rotation:f}=t,d={x:c,y:h},p=e.start,g=kS(a,p),m=kS(s,p),y=[n,n+g,n+g,i],v=[r+m,o,r,o],b=[];for(let w=0;w<4;w++){const t=lS({x:y[w],y:v[w]},d,py(f));b.push({position:qS[w],distance:vy(t,{x:u,y:l})})}return b.sort(((t,e)=>t.distance-e.distance))[0].position}(t,e)}(e,o);if(!a||function(t,e,n){const{pointX:r,pointY:i}=t,o=e.margin;let a=r,s=i;"left"===n?a+=o:"right"===n?a-=o:"top"===n?s+=o:"bottom"===n&&(s-=o);return t.inRange(a,s)}(e,o,a))return;t.save(),t.beginPath();if(!jS(t,o))return t.restore();const{separatorStart:s,separatorEnd:u}=function(t,e){const{x:n,y:r,x2:i,y2:o}=t,a=function(t,e){const{width:n,height:r,options:i}=t,o=i.callout.margin+i.borderWidth/2;if("right"===e)return n+o;if("bottom"===e)return r+o;return-o}(t,e);let s,u;"left"===e||"right"===e?(s={x:n+a,y:r},u={x:s.x,y:o}):(s={x:n,y:r+a},u={x:i,y:s.y});return{separatorStart:s,separatorEnd:u}}(e,a),{sideStart:l,sideEnd:c}=function(t,e,n){const{y:r,width:i,height:o,options:a}=t,s=a.callout.start,u=function(t,e){const n=e.side;if("left"===t||"top"===t)return-n;return n}(e,a.callout);let l,c;"left"===e||"right"===e?(l={x:n.x,y:r+kS(o,s)},c={x:l.x+u,y:l.y}):(l={x:n.x+kS(i,s),y:n.y},c={x:l.x,y:l.y+u});return{sideStart:l,sideEnd:c}}(e,a,s);(o.margin>0||0===i.borderWidth)&&(t.moveTo(s.x,s.y),t.lineTo(u.x,u.y)),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y);const h=lS({x:n,y:r},e.getCenterPoint(),py(-e.rotation));t.lineTo(h.x,h.y),t.stroke(),t.restore()}const KS={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function GS(t,e,n){return Rm(e="number"===typeof e?e:t.parse(e))?t.getPixelForValue(e):n}function YS(t,e,n){const r=e[n];if(r||"scaleID"===n)return r;const i=n.charAt(0),o=Object.values(t).filter((t=>t.axis&&t.axis===i));return o.length?o[0].id:i}function XS(t,e){if(t){const n=t.options.reverse;return{start:GS(t,e.min,n?e.end:e.start),end:GS(t,e.max,n?e.start:e.end)}}}function $S(t,e){const{chartArea:n,scales:r}=t,i=r[YS(r,e,"xScaleID")],o=r[YS(r,e,"yScaleID")];let a=n.width/2,s=n.height/2;return i&&(a=GS(i,e.xValue,i.left+i.width/2)),o&&(s=GS(o,e.yValue,o.top+o.height/2)),{x:a,y:s}}function QS(t,e){const n=t.scales,r=n[YS(n,e,"xScaleID")],i=n[YS(n,e,"yScaleID")];if(!r&&!i)return{};let{left:o,right:a}=r||t.chartArea,{top:s,bottom:u}=i||t.chartArea;const l=ek(r,{min:e.xMin,max:e.xMax,start:o,end:a});o=l.start,a=l.end;const c=ek(i,{min:e.yMin,max:e.yMax,start:u,end:s});return s=c.start,u=c.end,{x:o,y:s,x2:a,y2:u,width:a-o,height:u-s,centerX:o+(a-o)/2,centerY:s+(u-s)/2}}function JS(t,e){if(!AS(e)){const n=QS(t,e);let r=e.radius;r&&!isNaN(r)||(r=Math.min(n.width,n.height)/2,e.radius=r);const i=2*r,o=n.centerX+e.xAdjust,a=n.centerY+e.yAdjust;return{x:o-r,y:a-r,x2:o+r,y2:a+r,centerX:o,centerY:a,width:i,height:i,radius:r}}return function(t,e){const n=$S(t,e),r=2*e.radius;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:r,height:r}}(t,e)}function ZS(t,e){const{scales:n,chartArea:r}=t,i=n[e.scaleID],o={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?function(t,e,n){const r=GS(t,n.value,NaN),i=GS(t,n.endValue,r);t.isHorizontal()?(e.x=r,e.x2=i):(e.y=r,e.y2=i)}(i,o,e):function(t,e,n){for(const r of Object.keys(KS)){const i=t[YS(t,n,r)];if(i){const{min:t,max:o,start:a,end:s,startProp:u,endProp:l}=KS[r],c=XS(i,{min:n[t],max:n[o],start:i[a],end:i[s]});e[u]=c.start,e[l]=c.end}}}(n,o,e),o}function tk(t,e){const n=QS(t,e);return n.initProperties=MS(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:rk(t,n,e),initProperties:n.initProperties}],n}function ek(t,e){const n=XS(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function nk(t,e){const{start:n,end:r,borderWidth:i}=t,{position:o,padding:{start:a,end:s},adjust:u}=e;return n+i/2+u+SS(r-i-n-a-s-e.size,o)}function rk(t,e,n){const r=n.label;r.backgroundColor="transparent",r.callout.display=!1;const i=TS(r.position),o=Sv(r.padding),a=US(t.ctx,r),s=function(t,e,n,r){let{properties:i,options:o}=t;const{x:a,x2:s,width:u}=i;return nk({start:a,end:s,size:u,borderWidth:o.borderWidth},{position:n.x,padding:{start:r.left,end:r.right},adjust:o.label.xAdjust,size:e.width})}({properties:e,options:n},a,i,o),u=function(t,e,n,r){let{properties:i,options:o}=t;const{y:a,y2:s,height:u}=i;return nk({start:a,end:s,size:u,borderWidth:o.borderWidth},{position:n.y,padding:{start:r.top,end:r.bottom},adjust:o.label.yAdjust,size:e.height})}({properties:e,options:n},a,i,o),l=a.width+o.width,c=a.height+o.height;return{x:s,y:u,x2:s+l,y2:u+c,width:l,height:c,centerX:s+l/2,centerY:u+c/2,rotation:r.rotation}}const ik=["enter","leave"],ok=ik.concat("click");function ak(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return function(t,e,n){if(!t.moveListened)return;let r;r="mousemove"===e.type?sS(t.visibleElements,e,n.interaction):[];const i=t.hovered;t.hovered=r;const o={state:t,event:e};let a=sk(o,"leave",i,r);return sk(o,"enter",r,i)||a}(t,e,n);case"click":return function(t,e,n){const r=t.listeners,i=sS(t.visibleElements,e,n.interaction);let o;for(const a of i)o=uk(a.options.click||r.click,a,e)||o;return o}(t,e,n)}}function sk(t,e,n,r){let i,{state:o,event:a}=t;for(const s of n)r.indexOf(s)<0&&(i=uk(s.options[e]||o.listeners[e],s,a)||i);return i}function uk(t,e,n){return!0===Vm(t,[e.$context,n])}const lk=["afterDraw","beforeDraw"];function ck(t,e,n){if(t.hooked){return Vm(e.options[n]||t.hooks[n],[e.$context])}}function hk(t,e,n){const r=function(t,e,n){const r=e.axis,i=e.id,o=r+"ScaleID",a={min:Fm(e.min,Number.NEGATIVE_INFINITY),max:Fm(e.max,Number.POSITIVE_INFINITY)};for(const s of n)s.scaleID===i?gk(s,e,["value","endValue"],a):YS(t,s,o)===i&&gk(s,e,[r+"Min",r+"Max",r+"Value"],a);return a}(t.scales,e,n);let i=fk(e,r,"min","suggestedMin");i=fk(e,r,"max","suggestedMax")||i,i&&Jm(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function fk(t,e,n,r){if(Rm(e[n])&&!function(t,e,n){return Qm(t[e])||Qm(t[n])}(t.options,n,r)){const r=t[n]!==e[n];return t[n]=e[n],r}}function dk(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const r=YS(e,t,n);r&&!e[r]&&pk(t,n)&&console.warn("No scale found with id '".concat(r,"' for annotation '").concat(t.id,"'"))}}function pk(t,e){if("scaleID"===e)return!0;const n=e.charAt(0);for(const r of["Min","Max","Value"])if(Qm(t[n+r]))return!0;return!1}function gk(t,e,n,r){for(const i of n){const n=t[i];if(Qm(n)){const t=e.parse(n);r.min=Math.min(r.min,t),r.max=Math.max(r.max,t)}}}class mk extends Uw{inRange(t,e,n,r){const{x:i,y:o}=lS({x:t,y:e},this.getCenterPoint(r),py(-this.options.rotation));return gS({x:i,y:o},this.getProps(["x","y","x2","y2"],r),n,this.options)}getCenterPoint(t){return yS(this,t)}draw(t){t.save(),FS(t,this.getCenterPoint(),this.options.rotation),zS(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return tk(t,e)}}mk.id="boxAnnotation",mk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},mk.defaultRoutes={borderColor:"color",backgroundColor:"color"},mk.descriptors={label:{_fallback:!0}};class yk extends Uw{inRange(t,e,n,r){return mS({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return yS(this,t)}draw(t){const e=this.options;e.display&&e.content&&(!function(t,e){const{_centerX:n,_centerY:r,_radius:i,_startAngle:o,_endAngle:a,_counterclockwise:s,options:u}=e;t.save();const l=jS(t,u);t.fillStyle=u.backgroundColor,t.beginPath(),t.arc(n,r,i,o,a,s),t.closePath(),t.fill(),l&&t.stroke();t.restore()}(t,this),t.save(),FS(t,this.getCenterPoint(),this.rotation),BS(t,this,e,this._fitRatio),t.restore())}resolveElementProperties(t,e){const n=function(t,e){return t.getSortedVisibleDatasetMetas().reduce((function(n,r){const i=r.controller;return i instanceof Yb&&function(t,e,n){if(!e.autoHide)return!0;for(let r=0;r<n.length;r++)if(!n[r].hidden&&t.getDataVisibility(r))return!0}(t,e,r.data)&&(!n||i.innerRadius<n.controller.innerRadius)&&i.options.circumference>=90?r:n}),void 0)}(t,e);if(!n)return{};const{controllerMeta:r,point:i,radius:o}=function(t,e,n){let{chartArea:r}=t;const{left:i,top:o,right:a,bottom:s}=r,{innerRadius:u,offsetX:l,offsetY:c}=n.controller,h=(i+a)/2+l,f=(o+s)/2+c,d={left:Math.max(h-u,i),right:Math.min(h+u,a),top:Math.max(f-u,o),bottom:Math.min(f+u,s)},p={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},g=e.spacing+e.borderWidth/2,m=u-g,y=p.y>f,v=function(t,e,n,r){const i=Math.pow(n-t,2),o=Math.pow(r,2),a=-2*e,s=Math.pow(e,2)+i-o,u=Math.pow(a,2)-4*s;if(u<=0)return{_startAngle:0,_endAngle:ey};const l=(-a-Math.sqrt(u))/2,c=(-a+Math.sqrt(u))/2;return{_startAngle:yy({x:e,y:n},{x:l,y:t}).angle,_endAngle:yy({x:e,y:n},{x:c,y:t}).angle}}(y?o+g:s-g,h,f,m),b={_centerX:h,_centerY:f,_radius:m,_counterclockwise:y,...v};return{controllerMeta:b,point:p,radius:Math.min(u,Math.min(d.right-d.left,d.bottom-d.top)/2)}}(t,e,n);let a=US(t.ctx,e);const s=function(t,e){let{width:n,height:r}=t;const i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return 2*e/i}(a,o);IS(e,s)&&(a={width:a.width*s,height:a.height*s});const{position:u,xAdjust:l,yAdjust:c}=e,h=ES(i,a,{borderWidth:0,position:u,xAdjust:l,yAdjust:c});return{initProperties:MS(t,h,e),...h,...r,rotation:e.rotation,_fitRatio:s}}}yk.id="doughnutLabelAnnotation",yk.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},yk.defaultRoutes={};class vk extends Uw{inRange(t,e,n,r){return mS({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return yS(this,t)}draw(t){const e=this.options,n=!Qm(this._visible)||this._visible;e.display&&e.content&&n&&(t.save(),FS(t,this.getCenterPoint(),this.rotation),HS(t,this),zS(t,this,e),BS(t,function(t){let{x:e,y:n,width:r,height:i,options:o}=t;const a=o.borderWidth/2,s=Sv(o.padding);return{x:e+s.left+a,y:n+s.top+a,width:r-s.left-s.right-o.borderWidth,height:i-s.top-s.bottom-o.borderWidth}}(this),e),t.restore())}resolveElementProperties(t,e){let n;if(AS(e))n=$S(t,e);else{const{centerX:r,centerY:i}=QS(t,e);n={x:r,y:i}}const r=Sv(e.padding),i=ES(n,US(t.ctx,e),e,r);return{initProperties:MS(t,i,e),pointX:n.x,pointY:n.y,...i,rotation:e.rotation}}}vk.id="labelAnnotation",vk.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},vk.defaultRoutes={borderColor:"color"};const bk=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),wk=(t,e,n)=>bk(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,xk=(t,e,n)=>bk(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,_k=t=>t*t,Sk=(t,e,n,r)=>(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n,kk=(t,e,n,r)=>({x:Sk(t.x,e.x,n.x,r),y:Sk(t.y,e.y,n.y,r)}),Ek=(t,e,n,r)=>2*(1-r)*(e-t)+2*r*(n-e),Tk=(t,e,n,r)=>-Math.atan2(Ek(t.x,e.x,n.x,r),Ek(t.y,e.y,n.y,r))+.5*ty;class Ik extends Uw{inRange(t,e,n,r){const i=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n){const n={mouseX:t,mouseY:e},{path:o,ctx:a}=this;if(o){jS(a,this.options),a.lineWidth+=this.options.hitTolerance;const{chart:i}=this.$context,s=t*i.currentDevicePixelRatio,u=e*i.currentDevicePixelRatio,l=a.isPointInStroke(o,s,u)||Dk(this,n,r);return a.restore(),l}return function(t,e){let{mouseX:n,mouseY:r}=e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hS,o=arguments.length>3?arguments[3]:void 0;const{x:a,y:s,x2:u,y2:l}=t.getProps(["x","y","x2","y2"],o),c=u-a,h=l-s,f=_k(c)+_k(h),d=0===f?-1:((n-a)*c+(r-s)*h)/f;let p,g;d<0?(p=a,g=s):d>1?(p=u,g=l):(p=a+d*c,g=s+d*h);return _k(n-p)+_k(r-g)<=i}(this,n,_k(i),r)||Dk(this,n,r)}return function(t,e,n,r){let{mouseX:i,mouseY:o}=e,{hitSize:a,useFinalPosition:s}=r;const u=((t,e,n,r)=>{let{x:i,y:o,x2:a,y2:s}=n;return"y"===r?{start:Math.min(o,s),end:Math.max(o,s),value:e}:{start:Math.min(i,a),end:Math.max(i,a),value:t}})(i,o,t.getProps(["x","y","x2","y2"],s),n);return dS(u,a)||Dk(t,{mouseX:i,mouseY:o},s,n)}(this,{mouseX:t,mouseY:e},n,{hitSize:i,useFinalPosition:r})}getCenterPoint(t){return yS(this,t)}draw(t){const{x:e,y:n,x2:r,y2:i,cp:o,options:a}=this;if(t.save(),!jS(t,a))return t.restore();VS(t,a);const s=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2));if(a.curve&&o)return function(t,e,n,r){const{x:i,y:o,x2:a,y2:s,options:u}=e,{startOpts:l,endOpts:c,startAdjust:h,endAdjust:f}=Nk(e),d={x:i,y:o},p={x:a,y:s},g=Tk(d,n,p,0),m=Tk(d,n,p,1)-ty,y=kk(d,n,p,h/r),v=kk(d,n,p,1-f/r),b=new Path2D;t.beginPath(),b.moveTo(y.x,y.y),b.quadraticCurveTo(n.x,n.y,v.x,v.y),t.shadowColor=u.borderShadowColor,t.stroke(b),e.path=b,e.ctx=t,Lk(t,y,{angle:g,adjust:h},l),Lk(t,v,{angle:m,adjust:f},c)}(t,this,o,s),t.restore();const{startOpts:u,endOpts:l,startAdjust:c,endAdjust:h}=Nk(this),f=Math.atan2(i-n,r-e);t.translate(e,n),t.rotate(f),t.beginPath(),t.moveTo(0+c,0),t.lineTo(s-h,0),t.shadowColor=a.borderShadowColor,t.stroke(),Rk(t,0,c,u),Rk(t,s,-h,l),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){const n=ZS(t,e),{x:r,y:i,x2:o,y2:a}=n,s=function(t,e){let{x:n,y:r,x2:i,y2:o}=t,{top:a,right:s,bottom:u,left:l}=e;return!(n<l&&i<l||n>s&&i>s||r<a&&o<a||r>u&&o>u)}(n,t.chartArea),u=s?function(t,e,n){const{x:r,y:i}=Ak(t,e,n),{x:o,y:a}=Ak(e,t,n);return{x:r,y:i,x2:o,y2:a,width:Math.abs(o-r),height:Math.abs(a-i)}}({x:r,y:i},{x:o,y:a},t.chartArea):{x:r,y:i,x2:o,y2:a,width:Math.abs(o-r),height:Math.abs(a-i)};if(u.centerX=(o+r)/2,u.centerY=(a+i)/2,u.initProperties=MS(t,u,e),e.curve){const t={x:u.x,y:u.y},n={x:u.x2,y:u.y2};u.cp=function(t,e,n){const{x:r,y:i,x2:o,y2:a,centerX:s,centerY:u}=t,l=Math.atan2(a-i,o-r),c=TS(e.controlPoint,0);return lS({x:s+kS(n,c.x,!1),y:u+kS(n,c.y,!1)},{x:s,y:u},l)}(u,e,vy(t,n))}const l=function(t,e,n){const r=n.borderWidth,i=Sv(n.padding),o=US(t.ctx,n),a=o.width+i.width+r,s=o.height+i.height+r;return function(t,e,n,r){const{width:i,height:o,padding:a}=n,{xAdjust:s,yAdjust:u}=e,l={x:t.x,y:t.y},c={x:t.x2,y:t.y2},h="auto"===e.rotation?function(t){const{x:e,y:n,x2:r,y2:i}=t,o=Math.atan2(i-n,r-e);return o>ty/2?o-ty:o<ty/-2?o+ty:o}(t):py(e.rotation),f=function(t,e,n){const r=Math.cos(n),i=Math.sin(n);return{w:Math.abs(t*r)+Math.abs(e*i),h:Math.abs(t*i)+Math.abs(e*r)}}(i,o,h),d=function(t,e,n,r){let i;const o=function(t,e){const{x:n,x2:r,y:i,y2:o}=t,a=Math.min(i,o)-e.top,s=Math.min(n,r)-e.left,u=e.bottom-Math.max(i,o),l=e.right-Math.max(n,r);return{x:Math.min(s,l),y:Math.min(a,u),dx:s<=l?1:-1,dy:a<=u?1:-1}}(t,r);i="start"===e.position?Mk({w:t.x2-t.x,h:t.y2-t.y},n,e,o):"end"===e.position?1-Mk({w:t.x-t.x2,h:t.y-t.y2},n,e,o):SS(1,e.position);return i}(t,e,{labelSize:f,padding:a},r),p=t.cp?kk(l,t.cp,c,d):bk(l,c,d),g={size:f.w,min:r.left,max:r.right,padding:a.left},m={size:f.h,min:r.top,max:r.bottom,padding:a.top},y=Pk(p.x,g)+s,v=Pk(p.y,m)+u;return{x:y-i/2,y:v-o/2,x2:y+i/2,y2:v+o/2,centerX:y,centerY:v,pointX:p.x,pointY:p.y,width:i,height:o,rotation:gy(h)}}(e,n,{width:a,height:s,padding:i},t.chartArea)}(t,u,e.label);return l._visible=s,u.elements=[{type:"label",optionScope:"label",properties:l,initProperties:u.initProperties}],u}}Ik.id="lineAnnotation";const Ck={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function Ak(t,e,n){let{x:r,y:i}=t,{top:o,right:a,bottom:s,left:u}=n;return r<u&&(i=xk(u,{x:r,y:i},e),r=u),r>a&&(i=xk(a,{x:r,y:i},e),r=a),i<o&&(r=wk(o,{x:r,y:i},e),i=o),i>s&&(r=wk(s,{x:r,y:i},e),i=s),{x:r,y:i}}function Dk(t,e,n,r){let{mouseX:i,mouseY:o}=e;const a=t.label;return a.options.display&&a.inRange(i,o,r,n)}function Mk(t,e,n,r){const{labelSize:i,padding:o}=e,a=t.w*r.dx,s=t.h*r.dy,u=a>0&&(i.w/2+o.left-r.x)/a,l=s>0&&(i.h/2+o.top-r.y)/s;return fS(Math.max(u,l),0,.25)}function Pk(t,e){const{size:n,min:r,max:i,padding:o}=e,a=n/2;return n>i-r?(i+r)/2:(r>=t-o-a&&(t=r+o+a),i<=t+o+a&&(t=i-o-a),t)}function Nk(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,r=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:r,startAdjust:Ok(t,n),endAdjust:Ok(t,r)}}function Ok(t,e){if(!e||!e.display)return 0;const{length:n,width:r}=e,i=t.options.borderWidth/2,o={x:n,y:r+i},a={x:0,y:i};return Math.abs(wk(0,o,a))}function Rk(t,e,n,r){if(!r||!r.display)return;const{length:i,width:o,fill:a,backgroundColor:s,borderColor:u}=r,l=Math.abs(e-i)+n;t.beginPath(),VS(t,r),jS(t,r),t.moveTo(l,-o),t.lineTo(e+n,0),t.lineTo(l,o),!0===a?(t.fillStyle=s||u,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=r.borderShadowColor,t.stroke()}function Lk(t,e,n,r){let{x:i,y:o}=e,{angle:a,adjust:s}=n;r&&r.display&&(t.save(),t.translate(i,o),t.rotate(a),Rk(t,0,-s,r),t.restore())}Ik.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Ck),fill:!1,length:12,start:Object.assign({},Ck),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},vk.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Ik.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},Ik.defaultRoutes={borderColor:"color"};class Fk extends Uw{inRange(t,e,n,r){const i=this.options.rotation,o=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(t,e,n,r){const{width:i,height:o,centerX:a,centerY:s}=e,u=i/2,l=o/2;if(u<=0||l<=0)return!1;const c=py(n||0),h=Math.cos(c),f=Math.sin(c),d=Math.pow(h*(t.x-a)+f*(t.y-s),2),p=Math.pow(f*(t.x-a)-h*(t.y-s),2);return d/Math.pow(u+r,2)+p/Math.pow(l+r,2)<=1.0001}({x:t,y:e},this.getProps(["width","height","centerX","centerY"],r),i,o);const{x:a,y:s,x2:u,y2:l}=this.getProps(["x","y","x2","y2"],r),c="y"===n?{start:s,end:l}:{start:a,end:u},h=lS({x:t,y:e},this.getCenterPoint(r),py(-i));return h[n]>=c.start-o-hS&&h[n]<=c.end+o+hS}getCenterPoint(t){return yS(this,t)}draw(t){const{width:e,height:n,centerX:r,centerY:i,options:o}=this;t.save(),FS(t,this.getCenterPoint(),o.rotation),VS(t,this.options),t.beginPath(),t.fillStyle=o.backgroundColor;const a=jS(t,o);t.ellipse(r,i,n/2,e/2,ty/2,0,2*ty),t.fill(),a&&(t.shadowColor=o.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return tk(t,e)}}Fk.id="ellipseAnnotation",Fk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},mk.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Fk.defaultRoutes={borderColor:"color",backgroundColor:"color"},Fk.descriptors={label:{_fallback:!0}};class jk extends Uw{inRange(t,e,n,r){const{x:i,y:o,x2:a,y2:s,width:u}=this.getProps(["x","y","x2","y2","width"],r),l=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(t,e,n,r){return!(!t||!e||n<=0)&&Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+r,2)}({x:t,y:e},this.getCenterPoint(r),u/2,l);return dS("y"===n?{start:o,end:s,value:e}:{start:i,end:a,value:t},l)}getCenterPoint(t){return yS(this,t)}draw(t){const e=this.options,n=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,VS(t,e);const r=jS(t,e);WS(t,this,this.centerX,this.centerY),r&&!LS(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=n}resolveElementProperties(t,e){const n=JS(t,e);return n.initProperties=MS(t,n,e),n}}jk.id="pointAnnotation",jk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},jk.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Vk extends Uw{inRange(t,e,n,r){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&function(t,e,n,r){let i=!1,o=t[t.length-1].getProps(["bX","bY"],r);for(const a of t){const t=a.getProps(["bX","bY"],r);t.bY>n!==o.bY>n&&e<(o.bX-t.bX)*(n-t.bY)/(o.bY-t.bY)+t.bX&&(i=!i),o=t}return i}(this.elements,t,e,r);const i=lS({x:t,y:e},this.getCenterPoint(r),py(-this.options.rotation)),o=this.elements.map((t=>"y"===n?t.bY:t.bX)),a=Math.min(...o),s=Math.max(...o);return i[n]>=a&&i[n]<=s}getCenterPoint(t){return yS(this,t)}draw(t){const{elements:e,options:n}=this;t.save(),t.beginPath(),t.fillStyle=n.backgroundColor,VS(t,n);const r=jS(t,n);let i=!0;for(const o of e)i?(t.moveTo(o.x,o.y),i=!1):t.lineTo(o.x,o.y);t.closePath(),t.fill(),r&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){const n=JS(t,e),{sides:r,rotation:i}=e,o=[],a=2*ty/r;let s=i*iy;for(let u=0;u<r;u++,s+=a){const r=Uk(n,e,s);r.initProperties=MS(t,n,e),o.push(r)}return n.elements=o,n}}function Uk(t,e,n){let{centerX:r,centerY:i}=t,{radius:o,borderWidth:a,hitTolerance:s}=e;const u=(a+s)/2,l=Math.sin(n),c=Math.cos(n),h={x:r+l*o,y:i-c*o};return{type:"point",optionScope:"point",properties:{x:h.x,y:h.y,centerX:h.x,centerY:h.y,bX:r+l*(o+u),bY:i-c*(o+u)}}}Vk.id="polygonAnnotation",Vk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Vk.defaultRoutes={borderColor:"color",backgroundColor:"color"};const zk={box:mk,doughnutLabel:yk,ellipse:Fk,label:vk,line:Ik,point:jk,polygon:Vk};Object.keys(zk).forEach((t=>{tv.describe("elements.".concat(zk[t].id),{_fallback:"plugins.annotation.common"})}));const Bk={update:Object.assign},Wk=ok.concat(lk),qk=(t,e)=>Om(e)?Jk(t,e):t,Hk=t=>"color"===t||"font"===t;function Kk(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";return zk[t]?t:(console.warn("Unknown annotation type: '".concat(t,"', defaulting to 'line'")),"line")}function Gk(t,e,n,r){const i=function(t,e,n){if("reset"===n||"none"===n||"resize"===n)return Bk;return new Eb(t,e)}(t,n.animations,r),o=e.annotations,a=function(t,e){const n=e.length,r=t.length;if(r<n){const e=n-r;t.splice(r,0,...new Array(e))}else r>n&&t.splice(n,r-n);return t}(e.elements,o);for(let s=0;s<o.length;s++){const e=o[s],n=$k(a,s,e.type),r=e.setContext(Zk(t,n,a,e)),u=n.resolveElementProperties(t,r);u.skip=Yk(u),"elements"in u&&(Xk(n,u.elements,r,i),delete u.elements),Qm(n.x)||Object.assign(n,u),Object.assign(n,u.initProperties),u.options=Qk(r),i.update(n,u)}}function Yk(t){return isNaN(t.x)||isNaN(t.y)}function Xk(t,e,n,r){const i=t.elements||(t.elements=[]);i.length=e.length;for(let o=0;o<e.length;o++){const t=e[o],a=t.properties,s=$k(i,o,t.type,t.initProperties),u=n[t.optionScope].override(t);a.options=Qk(u),r.update(s,a)}}function $k(t,e,n,r){const i=zk[Kk(n)];let o=t[e];return o&&o instanceof i||(o=t[e]=new i,Object.assign(o,r)),o}function Qk(t){const e=zk[Kk(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,Jk(t,e.defaults),Jk(t,e.defaultRoutes));for(const r of Wk)n[r]=t[r];return n}function Jk(t,e){const n={};for(const r of Object.keys(e)){const i=e[r],o=t[r];Hk(r)&&Nm(o)?n[r]=o.map((t=>qk(t,i))):n[r]=qk(o,i)}return n}function Zk(t,e,n,r){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,get elements(){return n.filter((t=>t&&t.options))},id:r.id,type:"annotation"}))}const tE=new Map,eE=t=>"doughnutLabel"!==t.type,nE=ok.concat(lk);var rE={id:"annotation",version:"3.1.0",beforeRegister(){!function(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=n.split(".");let o=0;for(const a of e.split(".")){const s=i[o++];if(parseInt(a,10)<parseInt(s,10))break;if(cS(s,a)){if(r)throw new Error("".concat(t," v").concat(n," is not supported. v").concat(e," or newer is required."));return!1}}}("chart.js","4.0",Ix.version)},afterRegister(){Ix.register(zk)},afterUnregister(){Ix.unregister(zk)},beforeInit(t){tE.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const r=tE.get(t).annotations=[];let i=n.annotations;Om(i)?Object.keys(i).forEach((t=>{const e=i[t];Om(e)&&(e.id=t,r.push(e))})):Nm(i)&&r.push(...i),function(t,e){for(const n of t)dk(n,e)}(r.filter(eE),t.scales)},afterDataLimits(t,e){const n=tE.get(t);hk(t,e.scale,n.annotations.filter(eE).filter((t=>t.display&&t.adjustScaleRange)))},afterUpdate(t,e,n){const r=tE.get(t);!function(t,e,n){e.listened=PS(n,ok,e.listeners),e.moveListened=!1,ik.forEach((t=>{Jm(n[t])&&(e.moveListened=!0)})),e.listened&&e.moveListened||e.annotations.forEach((t=>{!e.listened&&Jm(t.click)&&(e.listened=!0),e.moveListened||ik.forEach((n=>{Jm(t[n])&&(e.listened=!0,e.moveListened=!0)}))}))}(0,r,n),Gk(t,r,n,e.mode),r.visibleElements=r.elements.filter((t=>!t.skip&&t.options.display)),function(t,e,n){const r=e.visibleElements;e.hooked=PS(n,lk,e.hooks),e.hooked||r.forEach((t=>{e.hooked||lk.forEach((n=>{Jm(t.options[n])&&(e.hooked=!0)}))}))}(0,r,n)},beforeDatasetsDraw(t,e,n){iE(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){iE(t,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(t,e,n){iE(t,e.index,n.clip)},beforeDraw(t,e,n){iE(t,"beforeDraw",n.clip)},afterDraw(t,e,n){iE(t,"afterDraw",n.clip)},beforeEvent(t,e,n){ak(tE.get(t),e.event,n)&&(e.changed=!0)},afterDestroy(t){tE.delete(t)},getAnnotations(t){const e=tE.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode:(t,e,n)=>sS(t,e,n),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!nE.includes(t)&&"init"!==t,annotations:{_allKeys:!1,_fallback:(t,e)=>"elements.".concat(zk[Kk(e.type)].id)},interaction:{_fallback:!0},common:{label:{_indexable:Hk,_fallback:!0},_indexable:Hk}},additionalOptionScopes:[""]};function iE(t,e,n){const{ctx:r,chartArea:i}=t,o=tE.get(t);n&&uv(r,i);const a=function(t,e){const n=[];for(const r of t)if(r.options.drawTime===e&&n.push({element:r,main:!0}),r.elements&&r.elements.length)for(const t of r.elements)t.options.display&&t.options.drawTime===e&&n.push({element:t});return n}(o.visibleElements,e).sort(((t,e)=>t.element.options.z-e.element.options.z));for(const s of a)oE(r,i,o,s);n&&lv(r)}function oE(t,e,n,r){const i=r.element;r.main?(ck(n,i,"beforeDraw"),i.draw(t,e),ck(n,i,"afterDraw")):i.draw(t,e)}const aE=t=>{switch(t){case"temperature":return"Temperature (\xb0C)";case"rainfall":return"Rainfall (mm)";case"windSpeed":return"Wind Speed (m/s)";default:return""}},sE=(t,e,n)=>{let r=[],i=[],o=[],a=[];if(0===e){if(r=t.map((t=>t.date)),"rainfall"===n){i=(t=>{const e=[];for(let n=0;n<t.length;n++){if(null===t[n]||void 0===t[n]){e.push(null);continue}let r=0,i=0;for(let e=Math.max(0,n-1);e<=Math.min(t.length-1,n+1);e++)null!==t[e]&&void 0!==t[e]&&(r+=t[e],i++);e.push(i?r/i:null)}return e})(t.map((t=>"historical"===t.source?parseFloat(t.dailyMaxMins.rainfall.max):null))),a=t.map((t=>parseFloat(t.dailyAverages.rainfall)))}else i=t.map((t=>parseFloat(t.dailyMaxMins[n].max))),o=t.map((t=>parseFloat(t.dailyMaxMins[n].min)));a=t.map((t=>parseFloat(t.dailyAverages[n])))}else 1===e?(r=t.flatMap((t=>t.hourlyData.map((e=>"".concat(t.date," ").concat(e.hourString))))),"temperature"===n?(i=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.maxTemperature))))),o=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.minTemperature))))),a=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.avgTemperature)))))):"rainfall"===n?(i=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.maxRainfall))))),a=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.avgRainfall)))))):"windSpeed"===n&&(i=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.maxWindSpeed))))),o=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.minWindSpeed))))),a=t.flatMap((t=>t.hourlyData.map((t=>parseFloat(t.avgWindSpeed))))))):2===e&&(r=t.flatMap((t=>["".concat(t.date," - Nighttime"),"".concat(t.date," - Morning"),"".concat(t.date," - Afternoon"),"".concat(t.date," - Evening")])),"temperature"===n?(i=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.maxTemperature),parseFloat(t.rangesData.morning.maxTemperature),parseFloat(t.rangesData.afternoon.maxTemperature),parseFloat(t.rangesData.evening.maxTemperature)])),o=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.minTemperature),parseFloat(t.rangesData.morning.minTemperature),parseFloat(t.rangesData.afternoon.minTemperature),parseFloat(t.rangesData.evening.minTemperature)])),a=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.avgTemperature),parseFloat(t.rangesData.morning.avgTemperature),parseFloat(t.rangesData.afternoon.avgTemperature),parseFloat(t.rangesData.evening.avgTemperature)]))):"rainfall"===n?(i=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.maxRainfall),parseFloat(t.rangesData.morning.maxRainfall),parseFloat(t.rangesData.afternoon.maxRainfall),parseFloat(t.rangesData.evening.maxRainfall)])),a=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.sumRainfall),parseFloat(t.rangesData.morning.sumRainfall),parseFloat(t.rangesData.afternoon.sumRainfall),parseFloat(t.rangesData.evening.sumRainfall)]))):"windSpeed"===n&&(i=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.maxWindSpeed),parseFloat(t.rangesData.morning.maxWindSpeed),parseFloat(t.rangesData.afternoon.maxWindSpeed),parseFloat(t.rangesData.evening.maxWindSpeed)])),o=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.minWindSpeed),parseFloat(t.rangesData.morning.minWindSpeed),parseFloat(t.rangesData.afternoon.minWindSpeed),parseFloat(t.rangesData.evening.minWindSpeed)])),a=t.flatMap((t=>[parseFloat(t.rangesData.nighttime.avgWindSpeed),parseFloat(t.rangesData.morning.avgWindSpeed),parseFloat(t.rangesData.afternoon.avgWindSpeed),parseFloat(t.rangesData.evening.avgWindSpeed)]))));return{labels:r,dataMax:i,dataMin:o,dataAvg:a}},uE=(t,e,n)=>{let r=[];return 1===n?r=t.map((t=>({type:"line",mode:"vertical",scaleID:"x",value:"".concat(t.date," 23:00"),borderColor:"rgb(248, 145, 49)",borderWidth:2}))):2===n&&(r=t.map((t=>{const n="".concat(t.date," - Evening");return{type:"line",mode:"vertical",scaleID:"x",value:e.indexOf(n)+.5,borderColor:"rgb(248, 145, 49)",borderWidth:2}}))),r},lE=function(t,e,n,r,i){let{labels:o,dataMax:a,dataMin:s,dataAvg:u}=t,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";const c="1"===l?{max:{border:"rgb(30, 58, 138)",background:"rgba(30, 58, 138, 0.4)"},avg:{border:"rgb(96, 165, 250)",background:"rgba(96, 165, 250, 0.4)"},min:{border:"rgb(10, 74, 158)",background:"rgba(10, 74, 158, 0.4)"}}:"2"===l?{max:{border:"rgb(161, 25, 25)",background:"rgba(161, 25, 25, 0.4)"},avg:{border:"rgb(255, 84, 84)",background:"rgba(255, 84, 84, 0.4)"},min:{border:"rgb(153, 27, 27)",background:"rgba(153, 27, 27, 0.4)"}}:{max:{border:"rgb(255, 99, 99)",background:"rgba(255, 99, 99, 0.4)"},avg:{border:"rgb(99, 255, 141)",background:"rgba(99, 255, 141, 0.4)"},min:{border:"rgb(99, 141, 255)",background:"rgba(99, 141, 255, 0.4)"}},h=[{label:"".concat(n," (Max)").concat(l),data:a,borderColor:c.max.border,backgroundColor:c.max.background,tension:.4,borderDash:[3,6]},{label:"".concat(n," (Average)").concat(l),data:u,borderColor:c.avg.border,backgroundColor:c.avg.background,tension:.4}];s&&s.length>0&&h.push({label:"".concat(n," (Min)").concat(l),data:s,borderColor:c.min.border,backgroundColor:c.min.background,tension:.4,borderDash:[8,6,3,6]});return{chartData:{labels:o,datasets:h},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{boxWidth:60,boxHeight:0}},title:{display:!0,text:e,font:{size:22}},annotation:{annotations:i}},scales:{x:{title:{display:!0,text:"Time"}},y:{title:{display:!0,text:n},max:0===r.max?1:Math.ceil(r.max),min:Math.floor(r.min)}}}}};Ix.register(Bx,qx,x_,E_,v_,e_,r_,rE);const cE=t=>{let{data:e,title:n,timeRangeMode:r,dataQueried:i,sharedYScale:o}=t;const a=aE(i),s=sE(e,r,i),u=uE(e,s.labels,r),l=lE(s,n,a,o,u);return(0,Bg.jsx)(oS,{data:l.chartData,options:l.options})},hE=t=>{let{data1:e,data2:n,title:r,timeRangeMode:i,dataQueried:o,sharedYScale:a,displayedCity1:s,displayedCity2:u}=t;const l=aE(o),c=sE(e,i,o),h=sE(n,i,o),f=uE(e,c.labels,i),d=lE(c,"",l,a,[],"1"),p=lE(h,"",l,a,[],"2"),g=c.labels,m=[{...d.chartData.datasets[0],label:"".concat(l," (Max) - ").concat(s)},{...d.chartData.datasets[1],label:"".concat(l," (Average) - ").concat(s)}];c.dataMin&&c.dataMin.length>0&&m.push({...d.chartData.datasets[2],label:"".concat(l," (Min) - ").concat(s)}),m.push({...p.chartData.datasets[0],label:"".concat(l," (Max) - ").concat(u)}),m.push({...p.chartData.datasets[1],label:"".concat(l," (Average) - ").concat(u)}),h.dataMin&&h.dataMin.length>0&&m.push({...p.chartData.datasets[2],label:"".concat(l," (Min) - ").concat(u)});const y={labels:g,datasets:m},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{boxWidth:60,boxHeight:0}},title:{display:!0,text:r,font:{size:22}},annotation:{annotations:f}},scales:{x:{title:{display:!0,text:"Time"}},y:{title:{display:!0,text:l},max:0===a.max?1:Math.ceil(a.max),min:Math.floor(a.min)}}};return(0,Bg.jsx)(oS,{data:y,options:v})},fE=async t=>{const e="https://geocoding-api.open-meteo.com/v1/search?name=".concat(t,"&count=1&language=en&format=json"),n=await fetch(e),r=await n.json();if(!r.results||0===r.results.length)throw new Error("City not found or something went wrong.");return r.results[0]},dE=t=>t.length?Math.max(...t):null,pE=t=>{if(t.length<2)return dE(t);const e=Math.max(...t),n=t.filter((t=>t!==e));return 0===n.length?e:Math.max(...n)},gE=t=>{if(t.length<3)return pE(t);const e=Math.max(...t),n=t.filter((t=>t!==e));if(0===n.length)return e;const r=Math.max(...n),i=n.filter((t=>t!==r));return 0===i.length?r:Math.max(...i)},mE=t=>t.length?Math.min(...t):null,yE=t=>{if(t.length<2)return mE(t);const e=Math.min(...t),n=t.filter((t=>t!==e));return 0===n.length?e:Math.min(...n)},vE=t=>{if(t.length<3)return yE(t);const e=Math.min(...t),n=t.filter((t=>t!==e));if(0===n.length)return e;const r=Math.min(...n),i=n.filter((t=>t!==r));return 0===i.length?r:Math.min(...i)},bE=(t,e)=>{const n=t.reduce(((t,n,r)=>t+n*e[r]),0),r=e.reduce(((t,e)=>t+e),0);return r>0?(n/r).toFixed(2):"Error"},wE=t=>(t.reduce(((t,e)=>t+e),0)/t.length).toFixed(2),xE=t=>t.map((t=>"string"===typeof t?parseFloat(t):t)).reduce(((t,e)=>t+e),0).toFixed(2),_E=(t,e,n,r)=>{const i=r||!n?27:parseFloat(n[0].highTemp),o=r||!n?0:parseFloat(n[0].lowTemp);let a=0,s=0;return e?(t.minTemperatures.map((t=>{t>i&&(a=-1)})),-1===a?100:(t.maxTemperatures.map((t=>t>i?a++:null)),100*a/t.maxTemperatures.length)):(t.maxTemperatures.map((t=>{t<o&&(s=-1)})),-1===s?100:(t.minTemperatures.map((t=>t<o?s++:null)),100*s/t.minTemperatures.length))},SE=(t,e,n,r)=>{const i=r||!n?3:parseFloat(n[0].rainy),o=r||!n?1.5:parseFloat(n[0].notRainy);if(e){if(t.avgRainSum>i)return 95;if(t.maxRainSum>i)return 33}else if(t.avgRainSum<o)return 95;return 0},kE=(t,e,n,r)=>{const i=r||!n?25:parseFloat(n[0].windy),o=r||!n?8:parseFloat(n[0].notWindy);let a=0,s=0;return e?(t.minWindSpeeds.map((t=>{t>i&&(a=-1)})),-1===a?100:(t.maxWindSpeeds.map((t=>t>i?a++:null)),100*a/t.maxWindSpeeds.length)):(t.avgWindSpeeds.map((t=>t<o?s++:null)),100*s/t.avgWindSpeeds.length)};const EE=(t,e)=>{const n=[],r={nighttime:[],morning:[],afternoon:[],evening:[]},i=(t=>1===t?{max:pE,min:yE}:2===t?{max:gE,min:vE}:{max:dE,min:mE})(e);Object.entries(t).forEach((t=>{let[e,o]=t;const a=parseInt(e.slice(0,2),10),s=i.max(o.temperatures),u=i.min(o.temperatures),l=i.max(o.windSpeeds),c=i.min(o.windSpeeds),h=(t=>{if(0===t.length)return"0.00";const e=t.slice().sort(((t,e)=>e-t));return wE(e.slice(0,7))})(o.rainfalls),f=yE(o.rainfalls),d=bE(o.temperatures,o.weights),p=bE(o.windSpeeds,o.weights),g=bE(o.rainfalls,o.weights);n.push({hourString:e,maxTemperature:s,minTemperature:u,avgTemperature:d,maxWindSpeed:l,minWindSpeed:c,avgWindSpeed:p,maxRainfall:h,minRainfall:f,avgRainfall:g});r[a<6?"nighttime":a<12?"morning":a<18?"afternoon":"evening"].push({maxTemp:s,minTemp:u,maxWind:l,minWind:c,maxRain:h,minRain:f,avgTemp:d,avgWind:p,avgRain:g})}));const o=t=>{const e=i.max(t.map((t=>t.maxTemp))),n=i.min(t.map((t=>t.minTemp))),r=i.max(t.map((t=>t.maxWind))),o=i.min(t.map((t=>t.minWind))),a=xE(t.map((t=>t.maxRain))),s=xE(t.map((t=>t.minRain)));return{maxTemperature:e,minTemperature:n,maxWindSpeed:r,minWindSpeed:o,maxRainfall:a,minRainfall:s,avgTemperature:wE(t.map((t=>Number(t.avgTemp)))),avgWindSpeed:wE(t.map((t=>Number(t.avgWind)))),sumRainfall:xE(t.map((t=>Number(t.avgRain))))}};return{hourlyData:n,rangesData:{nighttime:o(r.nighttime),morning:o(r.morning),afternoon:o(r.afternoon),evening:o(r.evening)}}},TE=function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;console.log("weatherDataArray",t);const o=((t,e)=>{const n={};return Array.isArray(t)||(t=[t]),t.forEach(((t,r)=>{const i=2010+r,o=i<=2014?e.early:i<=2019?e.mid:e.recent,{time:a,temperature_2m:s,rain:u,wind_speed_10m:l}=t.hourly;a.forEach(((t,e)=>{const r=t.slice(5,10),i=t.slice(11,16),a=t.slice(0,4);n[r]||(n[r]={hourlyData:{},yearlyData:{}}),n[r].hourlyData[i]||(n[r].hourlyData[i]={temperatures:[],windSpeeds:[],rainfalls:[],weights:[]}),n[r].yearlyData[a]||(n[r].yearlyData[a]={temperatures:[],windSpeeds:[],rainfalls:[],weights:[]}),n[r].hourlyData[i].temperatures.push(s[e]),n[r].hourlyData[i].windSpeeds.push(l[e]),n[r].hourlyData[i].rainfalls.push(u[e]),n[r].hourlyData[i].weights.push(o),n[r].yearlyData[a].temperatures.push(s[e]),n[r].yearlyData[a].windSpeeds.push(l[e]),n[r].yearlyData[a].rainfalls.push(u[e]),n[r].yearlyData[a].weights.push(o)}))})),n})(t,{early:.2,mid:.35,recent:.45});console.log("groupedData",o);const a=function(t){return Object.entries(t).map((t=>{let[e,n]=t;return{date:e,yearlyStats:Object.entries(n.yearlyData).map((t=>{let[e,n]=t;return{year:e,minTemperature:mE(n.temperatures),maxTemperature:dE(n.temperatures),minRainfall:mE(n.rainfalls),maxRainfall:dE(n.rainfalls),minWindSpeed:mE(n.windSpeeds),maxWindSpeed:dE(n.windSpeeds),avgWindSpeed:wE(n.windSpeeds),sumPrecipitation:xE(n.rainfalls)}}))}}))}(o);console.log("yearlyMinMax",a);const s=function(t){return t.map((t=>{const{date:e,yearlyStats:n}=t;return{date:e,minTemperatures:n.map((t=>t.minTemperature)),maxTemperatures:n.map((t=>t.maxTemperature)),minRainfalls:n.map((t=>t.minRainfall)),maxRainfalls:n.map((t=>t.maxRainfall)),minWindSpeeds:n.map((t=>t.minWindSpeed)),maxWindSpeeds:n.map((t=>t.maxWindSpeed)),avgWindSpeeds:n.map((t=>t.avgWindSpeed)),sumPrecipitations:n.map((t=>t.sumPrecipitation))}}))}(a);return console.log("yearlyDataArrays",s),Object.entries(o).map(((t,o)=>{let[a,u]=t;const l=[],c=[],h=[],f=[],d=[],p=[],g=[],m=[],y=[],{hourlyData:v,rangesData:b}=EE(u.hourlyData,i);v.forEach((t=>{let{maxTemperature:e,minTemperature:n,avgTemperature:r,maxWindSpeed:i,minWindSpeed:o,avgWindSpeed:a,maxRainfall:s,minRainfall:u,avgRainfall:v}=t;l.push(e),c.push(n),h.push(Number(r)),f.push(i),d.push(o),p.push(Number(a)),g.push(s),m.push(u),y.push(Number(v))}));const w=s[o],x=1===w.maxTemperatures.length?[1]:[.2,.2,.2,.2,.2,.35,.35,.35,.35,.35,.45,.45,.45,.45,.45];return{date:a,dailyMaxMins:{temperature:{max:bE(w.maxTemperatures,x),min:bE(w.minTemperatures,x),hotProbability:_E(w,!0,n,r),coldProbability:_E(w,!1,n,r)},windSpeed:{max:bE(w.maxWindSpeeds,x),min:bE(w.minWindSpeeds,x),windyProbability:kE(w,!0,n,r),noWindProbability:kE(w,!1,n,r)},rainfall:{max:xE(g),rainyProbability:SE({maxRainSum:xE(g),avgRainSum:xE(y)},!0,n,r),noRainProbability:SE({maxRainSum:xE(g),avgRainSum:xE(y)},!1,n,r)}},dailyAverages:{temperature:wE(h),windSpeed:wE(p),rainfall:xE(y)},hourlyData:v,rangesData:b,source:e?"forecast":"historical"}}))},IE=t=>(t.setHours(0,0,0,0),t),CE=async(t,e,n,r,i,o)=>{const a=Math.round((e-r)/864e5),s=Math.round((n-r)/864e5);let u=[],l=[];if(a>=0&&s>=0&&a<=s){const r=Math.max(0,a),l=Math.min(14,s);if(r<=l){const r=await(async(t,e,n)=>{const r="https://api.open-meteo.com/v1/forecast?latitude=".concat(t,"&longitude=").concat(e,"&hourly=temperature_2m,wind_speed_10m,rain&forecast_days=").concat(n),i=await fetch(r);if(!i.ok)throw new Error("Unable to fetch weather data.");return i.json()})(t.latitude,t.longitude,l+1);u=TE(r,!0,i,o),u=u.filter((t=>{const[r,i]=t.date.split("-").map(Number),o=new Date(e.getFullYear(),r-1,i);return o>=e&&o<=n}))}}if(s>14){const e=new Date(r);e.setDate(r.getDate()+Math.max(15,a));const s=e.toLocaleDateString("en-CA"),u=n.toLocaleDateString("en-CA"),c=await(async(t,e,n,r)=>{const i=Array.from({length:15},((t,e)=>2010+e));let o=0;n.slice(0,4)!=r.slice(0,4)&&(o=parseInt(r.slice(0,4))-parseInt(n.slice(0,4)));const a=i.map((i=>{const a="https://archive-api.open-meteo.com/v1/era5?latitude=".concat(t,"&longitude=").concat(e,"&start_date=").concat(i,"-").concat(n.slice(5),"&end_date=").concat(i+o,"-").concat(r.slice(5),"&hourly=temperature_2m,rain,wind_speed_10m");return fetch(a).then((t=>t.json()))}));return Promise.all(a)})(t.latitude,t.longitude,s,u);l=TE(c,!1,i,o,1)}return[...u,...l]},AE=t=>t?t[0].toUpperCase()+t.slice(1):"",DE=(t,e,n,r,i)=>{if(!n||!r)return 0;if(0===i){const i=n.map((n=>parseFloat(0===t?n.dailyMaxMins[e].max:1===t?n.dailyMaxMins[e].min:n.dailyAverages[e]))),o=r.map((n=>parseFloat(0===t?n.dailyMaxMins[e].max:1===t?n.dailyMaxMins[e].min:n.dailyAverages[e])));return 0===t?Math.max(...i,...o):Math.min(...i,...o)}if(1===i){const i=0===t?"max"+AE(e):1===t?"min"+AE(e):"avg"+AE(e),o=n.flatMap((t=>t.hourlyData.map((t=>parseFloat(t[i]))))),a=r.flatMap((t=>t.hourlyData.map((t=>parseFloat(t[i])))));return 0===t?Math.max(...o,...a):Math.min(...o,...a)}if(2===i){const i=0===t?"max"+AE(e):1===t?"min"+AE(e):"avg"+AE(e),o=n.flatMap((t=>Object.values(t.rangesData).map((t=>parseFloat(t[i]))))),a=r.flatMap((t=>Object.values(t.rangesData).map((t=>parseFloat(t[i])))));return 0===t?Math.max(...o,...a):Math.min(...o,...a)}return 0};function ME(e){let{preferencesUpdated:n,lowThreshold:r,highThreshold:i,weatherError:o,weatherData1:a,weatherData2:s,displayedCity1:u,displayedCity2:l,setWeatherData1:c,setWeatherData2:h,timeRangeMode:f}=e;return(0,t.useEffect)((()=>{a&&console.log("weatherData1:",a),s&&console.log("weatherData2:",s)}),[a,s]),(0,t.useEffect)((()=>{c(null),h(null)}),[n]),(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[o&&(0,Bg.jsx)("p",{style:{color:"red"},children:o}),a&&s&&(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:(0,Bg.jsx)("div",{style:{width:"100%",height:"35em"},children:(0,Bg.jsx)(hE,{data1:a,data2:s,title:"Temperature Data for ".concat(u," & ").concat(l),timeRangeMode:f,dataQueried:"temperature",sharedYScale:{max:DE(0,"temperature",a,s,f),min:DE(1,"temperature",a,s,f)},displayedCity1:u,displayedCity2:l})})}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",u,", the average temperature is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.temperature)),0)/a.length).toFixed(1),"\xb0C, with temperatures ranging from "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.temperature.max)))),"\xb0C to "," ",Math.min(...a.map((t=>parseFloat(t.dailyMaxMins.temperature.min)))),"\xb0C. During your trip, the probability of experiencing temperatures above ",i,"\xb0C is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.hotProbability)),0)/a.length).toFixed(1),"%, and the probability of experiencing temperatures below ",r,"\xb0C is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.coldProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",l,", the average temperature is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.temperature)),0)/s.length).toFixed(1),"\xb0C, with temperatures ranging from "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.temperature.max)))),"\xb0C to "," ",Math.min(...s.map((t=>parseFloat(t.dailyMaxMins.temperature.min)))),"\xb0C. During your trip, the probability of experiencing temperatures above ",i,"\xb0C is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.hotProbability)),0)/s.length).toFixed(1),"%, and the probability of experiencing temperatures below ",r,"\xb0C is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.coldProbability)),0)/s.length).toFixed(1),"%."]})})]}),a&&s&&(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:(0,Bg.jsx)("div",{style:{width:"100%",height:"35em"},children:(0,Bg.jsx)(hE,{data1:a,data2:s,title:"Rainfall Data for ".concat(u," & ").concat(l),timeRangeMode:f,dataQueried:"rainfall",sharedYScale:{max:DE(0,"rainfall",a,s,f),min:0},displayedCity1:u,displayedCity2:l})})}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",u,", the total rainfall amount per day is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.rainfall)),0)/a.length).toFixed(1),"mm on average, with values reaching up to "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.rainfall.max)))),"mm. During your trip, the probability of experiencing a rainy day is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.rainyProbability)),0)/a.length).toFixed(1),"% and the probability of experiencing little to no rain is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.noRainProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",l,", the total rainfall amount per day is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.rainfall)),0)/s.length).toFixed(1),"mm on average, with values reaching up to "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.rainfall.max)))),"mm. During your trip, the probability of experiencing a rainy day is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.rainyProbability)),0)/s.length).toFixed(1),"% and the probability of experiencing little to no rain is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.noRainProbability)),0)/s.length).toFixed(1),"%."]})})]}),a&&s&&(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:(0,Bg.jsx)("div",{style:{width:"100%",height:"35em"},children:(0,Bg.jsx)(hE,{data1:a,data2:s,title:"WindSpeed Data for ".concat(u," & ").concat(l),timeRangeMode:f,dataQueried:"windSpeed",sharedYScale:{max:DE(0,"windSpeed",a,s,f),min:DE(1,"windSpeed",a,s,f)},displayedCity1:u,displayedCity2:l})})}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",u,", the average wind speed is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.windSpeed)),0)/a.length).toFixed(1),"km/h, with wind speeds ranging from "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.windSpeed.max)))),"km/h to "," ",Math.min(...a.map((t=>parseFloat(t.dailyMaxMins.windSpeed.min)))),"km/h. During your trip, the probability of experiencing a very windy day is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.windyProbability)),0)/a.length).toFixed(1),"% and the probability of experiencing little to no wind is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.noWindProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"70%",fontSize:"15px"},children:["Over the selected date range in ",l,", the average wind speed is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.windSpeed)),0)/s.length).toFixed(1),"km/h, with wind speeds ranging from "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.windSpeed.max)))),"km/h to "," ",Math.min(...s.map((t=>parseFloat(t.dailyMaxMins.windSpeed.min)))),"km/h. During your trip, the probability of experiencing a very windy day is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.windyProbability)),0)/s.length).toFixed(1),"% and the probability of experiencing little to no wind is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.noWindProbability)),0)/s.length).toFixed(1),"%."]})})]})]})}function PE(e){let{preferencesUpdated:n,lowThreshold:r,highThreshold:i,weatherError:o,weatherData1:a,weatherData2:s,displayedCity1:u,displayedCity2:l,setWeatherData1:c,setWeatherData2:h,timeRangeMode:f}=e;return(0,t.useEffect)((()=>{a&&console.log("weatherData1:",a),s&&console.log("weatherData2:",s)}),[a,s]),(0,t.useEffect)((()=>{c(null),h(null)}),[n]),(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[o&&(0,Bg.jsx)("p",{style:{color:"red"},children:o}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:[(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:a,title:"Temperature Data for ".concat(u),timeRangeMode:f,dataQueried:"temperature",sharedYScale:{max:DE(0,"temperature",a,s,f),min:DE(1,"temperature",a,s,f)}})}),(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:s,title:"Temperature Data for ".concat(l),timeRangeMode:f,dataQueried:"temperature",sharedYScale:{max:DE(0,"temperature",a,s,f),min:DE(1,"temperature",a,s,f)}})})]}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",u,", the average temperature is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.temperature)),0)/a.length).toFixed(1),"\xb0C, with temperatures ranging from "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.temperature.max)))),"\xb0C to "," ",Math.min(...a.map((t=>parseFloat(t.dailyMaxMins.temperature.min)))),"\xb0C. During your trip, the probability of experiencing temperatures above ",i,"\xb0C is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.hotProbability)),0)/a.length).toFixed(1),"%, and the probability of experiencing temperatures below ",r,"\xb0C is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.coldProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",l,", the average temperature is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.temperature)),0)/s.length).toFixed(1),"\xb0C, with temperatures ranging from "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.temperature.max)))),"\xb0C to "," ",Math.min(...s.map((t=>parseFloat(t.dailyMaxMins.temperature.min)))),"\xb0C. During your trip, the probability of experiencing temperatures above ",i,"\xb0C is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.hotProbability)),0)/s.length).toFixed(1),"%, and the probability of experiencing temperatures below ",r,"\xb0C is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.temperature.coldProbability)),0)/s.length).toFixed(1),"%."]})})]}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:[(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:a,title:"Rainfall Data for ".concat(u),timeRangeMode:f,dataQueried:"rainfall",sharedYScale:{max:DE(0,"rainfall",a,s,f),min:0}})}),(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:s,title:"Rainfall Data for ".concat(l),timeRangeMode:f,dataQueried:"rainfall",sharedYScale:{max:DE(0,"rainfall",a,s,f),min:0}})})]}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",u,", the total rainfall amount per day is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.rainfall)),0)/a.length).toFixed(1),"mm on average, with values reaching up to "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.rainfall.max)))),"mm. During your trip, the probability of experiencing a rainy day is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.rainyProbability)),0)/a.length).toFixed(1),"% and the probability of experiencing little to no rain is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.noRainProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",l,", the total rainfall amount per day is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.rainfall)),0)/s.length).toFixed(1),"mm on average, with values reaching up to "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.rainfall.max)))),"mm. During your trip, the probability of experiencing a rainy day is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.rainyProbability)),0)/s.length).toFixed(1),"% and the probability of experiencing little to no rain is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.rainfall.noRainProbability)),0)/s.length).toFixed(1),"%."]})})]}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"50px"},children:[(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:a,title:"Wind Speed Data for ".concat(u),timeRangeMode:f,dataQueried:"windSpeed",sharedYScale:{max:DE(0,"windSpeed",a,s,f),min:DE(1,"windSpeed",a,s,f)}})}),(0,Bg.jsx)("div",{style:{width:"45%",height:"25em"},children:(0,Bg.jsx)(cE,{data:s,title:"Wind Speed Data for ".concat(l),timeRangeMode:f,dataQueried:"windSpeed",sharedYScale:{max:DE(0,"windSpeed",a,s,f),min:DE(1,"windSpeed",a,s,f)}})})]}),a&&s&&(0,Bg.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",u,", the average wind speed is estimated to be around "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyAverages.windSpeed)),0)/a.length).toFixed(1),"km/h, with wind speeds ranging from "," ",Math.max(...a.map((t=>parseFloat(t.dailyMaxMins.windSpeed.max)))),"km/h to "," ",Math.min(...a.map((t=>parseFloat(t.dailyMaxMins.windSpeed.min)))),"km/h. During your trip, the probability of experiencing a very windy day is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.windyProbability)),0)/a.length).toFixed(1),"% and the probability of experiencing little to no wind is "," ",(a.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.noWindProbability)),0)/a.length).toFixed(1),"%."]})}),(0,Bg.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Bg.jsxs)("p",{style:{width:"80%",fontSize:"15px"},children:["Over the selected date range in ",l,", the average wind speed is estimated to be around "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyAverages.windSpeed)),0)/s.length).toFixed(1),"km/h, with wind speeds ranging from "," ",Math.max(...s.map((t=>parseFloat(t.dailyMaxMins.windSpeed.max)))),"km/h to "," ",Math.min(...s.map((t=>parseFloat(t.dailyMaxMins.windSpeed.min)))),"km/h. During your trip, the probability of experiencing a very windy day is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.windyProbability)),0)/s.length).toFixed(1),"% and the probability of experiencing little to no wind is "," ",(s.reduce(((t,e)=>t+parseFloat(e.dailyMaxMins.windSpeed.noWindProbability)),0)/s.length).toFixed(1),"%."]})})]})]})}const NE=(e,n,r)=>{const[i,o]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),u=(0,t.useRef)(n).current,l=(0,t.useRef)(r).current;return(0,t.useEffect)((()=>{let t=Vg.collection(e);u&&(t=t.where(...u)),l&&(t=t.orderBy(...l));const n=t.onSnapshot((t=>{let e=[];t.docs.forEach((t=>{e.push({...t.data(),id:t.id})})),o(e),s(null)}),(t=>{console.log(t),s("could not fetch the data")}));return()=>n()}),[e,u,l]),{documents:i,error:a}};let OE={document:null,isPending:!1,error:null,success:null};const RE=(t,e)=>{switch(e.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:e.payload};default:return t}},LE=e=>{const[n,r]=(0,t.useReducer)(RE,OE),[i,o]=(0,t.useState)(!1),a=Vg.collection(e),s=t=>{i||r(t)};return(0,t.useEffect)((()=>()=>o(!0)),[]),{addDocument:async t=>{r({type:"IS_PENDING"});try{const e=zg.fromDate(new Date),n=await a.add({...t,createdAt:e});s({type:"ADDED_DOCUMENT",payload:n})}catch(e){s({type:"ERROR",payload:e.message})}},updateDocument:async t=>{r({type:"IS_PENDING"});try{const{uid:e}=t,n=await a.where("uid","==",e).get(),r=zg.fromDate(new Date);if(n.empty){const e=await a.add({...t,createdAt:r});s({type:"ADDED_DOCUMENT",payload:e})}else{const e=n.docs[0].id;await a.doc(e).update({...t,updatedAt:r}),s({type:"ADDED_DOCUMENT",payload:{id:e,...t,updatedAt:r}})}}catch(e){s({type:"ERROR",payload:e.message})}},deleteDocument:async t=>{r({type:"IS_PENDING"});try{await a.doc(t).delete(),s({type:"DELETED_DOCUMENT"})}catch(e){s({type:"ERROR",payload:"could not delete"})}},response:n}};function FE(e){var n,r,i,o,a,s;let{uid:u,onUpdate:l}=e;const[c,h]=(0,t.useState)(""),[f,d]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[m,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[w,x]=(0,t.useState)(""),{updateDocument:_,response:S}=LE("preferences"),k=(0,t.useRef)(!1),{user:E}=Kg(),T=E?E.uid:"",{documents:I}=NE("preferences",["uid","==",T]);return(0,t.useEffect)((()=>{console.log("UserPreferences useEffect:",S.success,k.current),S.success&&!k.current&&(l&&l(),k.current=!0)}),[S.success,l]),(0,Bg.jsxs)(Bg.Fragment,{children:[(0,Bg.jsx)("h3",{children:"Update Preferences"}),(0,Bg.jsxs)("form",{onSubmit:t=>{var e,n,r,i,o,a;t.preventDefault();const s={uid:u,highTemp:""!==c?c:(null===I||void 0===I||null===(e=I[0])||void 0===e?void 0:e.highTemp)||"27",lowTemp:""!==f?f:(null===I||void 0===I||null===(n=I[0])||void 0===n?void 0:n.lowTemp)||"0",windy:""!==p?p:(null===I||void 0===I||null===(r=I[0])||void 0===r?void 0:r.windy)||"25",notWindy:""!==m?m:(null===I||void 0===I||null===(i=I[0])||void 0===i?void 0:i.notWindy)||"8",rainy:""!==v?v:(null===I||void 0===I||null===(o=I[0])||void 0===o?void 0:o.rainy)||"3",notRainy:""!==w?w:(null===I||void 0===I||null===(a=I[0])||void 0===a?void 0:a.notRainy)||"1.5"};_(s),h(""),d(""),g(""),y(""),b(""),x(""),k.current=!1},children:[(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"High temperature threshold (default is 27\xb0C):"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>h(t.target.value),value:c,placeholder:(null===I||void 0===I||null===(n=I[0])||void 0===n?void 0:n.highTemp)||"27"})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Low temperature threshold (default is 0\xb0C)::"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>d(t.target.value),value:f,placeholder:(null===I||void 0===I||null===(r=I[0])||void 0===r?void 0:r.lowTemp)||"0"})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Windy day threshold (default is 25km/h):"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>g(t.target.value),value:p,placeholder:(null===I||void 0===I||null===(i=I[0])||void 0===i?void 0:i.windy)||"25"})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Not windy day threshold (default is 8km/h):"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>y(t.target.value),value:m,placeholder:(null===I||void 0===I||null===(o=I[0])||void 0===o?void 0:o.notWindy)||"8"})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Rainy day threshold (default is 3mm):"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>b(t.target.value),value:v,placeholder:(null===I||void 0===I||null===(a=I[0])||void 0===a?void 0:a.rainy)||"3"})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Not rainy day threshold (default is 1.5mm):"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>x(t.target.value),value:w,placeholder:(null===I||void 0===I||null===(s=I[0])||void 0===s?void 0:s.notRainy)||"1.5"})]}),(0,Bg.jsx)("button",{children:"Update"})]})]})}const jE=t=>{let{onSubmit:e,setCity1:n,setCity2:r,city1:i,city2:o,setStartDate:a,setEndDate:s,startDate:u,endDate:l,setTimeRangeMode:c,timeRangeMode:h}=t;return(0,Bg.jsxs)("form",{onSubmit:e,children:[(0,Bg.jsx)("input",{type:"text",name:"city1",placeholder:"Enter first city",value:i,onChange:t=>n(t.target.value),required:!0}),(0,Bg.jsx)("input",{type:"text",name:"city2",placeholder:"Enter second city",value:o,onChange:t=>r(t.target.value),required:!0}),(0,Bg.jsx)("input",{type:"date",value:u,onChange:t=>a(t.target.value),required:!0}),(0,Bg.jsx)("input",{type:"date",value:l,onChange:t=>s(t.target.value),required:!0}),(0,Bg.jsxs)("select",{value:h,onChange:t=>c(Number(t.target.value)),children:[(0,Bg.jsx)("option",{value:0,children:"Daily"}),(0,Bg.jsx)("option",{value:1,children:"Hourly"}),(0,Bg.jsx)("option",{value:2,children:"Time Range (00:00-06:00, 06:00-12:00, 12:00-18:00, 18:00-00:00)"})]}),(0,Bg.jsx)("button",{className:"btn",type:"submit",children:"Compare Forecast"})]})};function VE(e){let{graphMode:n}=e;const{user:r}=Kg(),[i,o]=(0,t.useState)(!1),a=r?r.uid:"",{documents:s,error:u}=NE("preferences",["uid","==",a]),l=s,c=u,[h,f]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[x,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[E,T]=(0,t.useState)(""),[I,C]=(0,t.useState)(null),[A,D]=(0,t.useState)(0),M=async t=>{t.preventDefault(),C(null),f(null),p(null);const e=IE(new Date),n=IE(new Date(S)),r=IE(new Date(E));if(r<n)C("End date cannot be earlier than the start date.");else if(n<e||r<e)C("Selected dates must not be in the past");else try{const[t,i]=await Promise.all([fE(g),fE(y)]);w(t.name),_(i.name);const[o,a]=await Promise.all([CE(t,n,r,e,l,c),CE(i,n,r,e,l,c)]);f(o),p(a)}catch(i){C(i.message)}},P=l&&l[0]&&!c?parseFloat(l[0].lowTemp):"0",N=l&&l[0]&&!c?parseFloat(l[0].highTemp):"27";return(0,Bg.jsxs)("div",{className:Gg.container,children:[(0,Bg.jsx)("div",{className:Gg.weatherForm,children:"separated"===n?(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[(0,Bg.jsx)("h2",{children:"Separated Graphs"}),(0,Bg.jsx)(jE,{onSubmit:M,setCity1:m,setCity2:v,city1:g,city2:y,setStartDate:k,setEndDate:T,startDate:S,endDate:E,setTimeRangeMode:D,timeRangeMode:A}),(0,Bg.jsx)(PE,{preferencesUpdated:i,lowThreshold:P,highThreshold:N,weatherError:I,weatherData1:h,weatherData2:d,displayedCity1:b,displayedCity2:x,setWeatherData1:f,setWeatherData2:p,timeRangeMode:A})]}):(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[(0,Bg.jsx)("h2",{children:"Combined Graphs"}),(0,Bg.jsx)(jE,{onSubmit:M,setCity1:m,setCity2:v,city1:g,city2:y,setStartDate:k,setEndDate:T,startDate:S,endDate:E,setTimeRangeMode:D,timeRangeMode:A}),(0,Bg.jsx)(ME,{preferencesUpdated:i,lowThreshold:P,highThreshold:N,weatherError:I,weatherData1:h,weatherData2:d,displayedCity1:b,displayedCity2:x,setWeatherData1:f,setWeatherData2:p,timeRangeMode:A})]})}),(0,Bg.jsx)("div",{className:Gg.sidebar,children:(0,Bg.jsx)(FE,{uid:r.uid,onUpdate:()=>{o((t=>!t))}})})]})}const UE={"login-form":"Login_login-form__w9UJS"},zE=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),{dispatch:s}=Kg();return(0,t.useEffect)((()=>()=>n(!0)),[]),{login:async(t,n)=>{i(null),a(!0);try{const r=await Ug.signInWithEmailAndPassword(t,n);s({type:"LOGIN",payload:r.user}),e||(a(!1),i(null))}catch(r){e||(console.log(r.message),i(r.message),a(!1))}},error:r,isPending:o}};function BE(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),{login:o,error:a,isPending:s}=zE();return(0,Bg.jsxs)("form",{onSubmit:t=>{t.preventDefault(),o(e,r)},className:UE["login-form"],children:[(0,Bg.jsx)("h2",{children:"Login"}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Email:"}),(0,Bg.jsx)("input",{type:"email",onChange:t=>n(t.target.value),value:e})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"Password:"}),(0,Bg.jsx)("input",{type:"password",onChange:t=>i(t.target.value),value:r})]}),!s&&(0,Bg.jsx)("button",{className:"btn",children:"Login"}),s&&(0,Bg.jsx)("button",{className:"btn",disabled:!0,children:"loading"}),a&&(0,Bg.jsx)("p",{children:a})]})}const WE={"signup-form":"Signup_signup-form__7hzXy"},qE=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),{dispatch:s}=Kg();return(0,t.useEffect)((()=>()=>n(!0)),[]),{signup:async(t,n,r)=>{i(null),a(!0);try{const o=await Ug.createUserWithEmailAndPassword(t,n);if(!o)throw new Error("Could not complete signup");await o.user.updateProfile({displayName:r}),s({type:"LOGIN",payload:o.user}),e||(a(!1),i(null))}catch(o){e||(console.log(o.message),i(o.message),a(!1))}},error:r,isPending:o}};function HE(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),{signup:s,isPending:u,error:l}=qE();return(0,Bg.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s(e,r,o)},className:WE["signup-form"],children:[(0,Bg.jsx)("h2",{children:"Signup"}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"email:"}),(0,Bg.jsx)("input",{type:"email",onChange:t=>n(t.target.value),value:e})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"password:"}),(0,Bg.jsx)("input",{type:"password",onChange:t=>i(t.target.value),value:r})]}),(0,Bg.jsxs)("label",{children:[(0,Bg.jsx)("span",{children:"name:"}),(0,Bg.jsx)("input",{type:"text",onChange:t=>a(t.target.value),value:o})]}),!u&&(0,Bg.jsx)("button",{className:"btn",children:"Signup"}),u&&(0,Bg.jsx)("button",{className:"btn",disabled:!0,children:"loading"}),l&&(0,Bg.jsx)("p",{children:l})]})}const KE={navbar:"Navbar_navbar__MF2sg",infoIcon:"Navbar_infoIcon__CZ3Xa",title:"Navbar_title__BdH4-",greeting:"Navbar_greeting__Rs0cU",popupOverlay:"Navbar_popupOverlay__MnZN6",popupContent:"Navbar_popupContent__W0CuD",closeButton:"Navbar_closeButton__8t-Ke"};var GE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YE=t.createContext&&t.createContext(GE),XE=["attr","size","title"];function $E(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JE(Object(n),!0).forEach((function(e){tT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tT(t,e,n){return e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eT(e){return e&&e.map(((e,n)=>t.createElement(e.tag,ZE({key:n},e.attr),eT(e.child))))}function nT(e){return n=>t.createElement(rT,QE({attr:ZE({},e.attr)},n),eT(e.child))}function rT(e){var n=n=>{var r,{attr:i,size:o,title:a}=e,s=$E(e,XE),u=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",QE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ZE(ZE({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==YE?t.createElement(YE.Consumer,null,(t=>n(t))):n(GE)}function iT(t){return nT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}const oT=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),{dispatch:s}=Kg();return(0,t.useEffect)((()=>()=>n(!0)),[]),{logout:async()=>{i(null),a(!0);try{await Ug.signOut(),s({type:"LOGOUT"}),e||(a(!1),i(null))}catch(t){e||(console.log(t.message),i(t.message),a(!1))}},error:r,isPending:o}};function aT(e){let{toggleGraphMode:n}=e;const{logout:r}=oT(),{user:i}=Kg(),o=ct(),a="/Holiday_Weather_Advisor"===o.pathname||"/Holiday_Weather_Advisor/noAccount"===o.pathname,[s,u]=(0,t.useState)(!1),l=()=>{u(!1)};return(0,Bg.jsxs)("nav",{className:KE.navbar,children:[(0,Bg.jsxs)("ul",{children:[(0,Bg.jsx)("li",{className:KE.title,children:"Holiday Weather Advisor"}),(0,Bg.jsx)("li",{className:KE.infoIcon,onClick:()=>{u(!0)},children:(0,Bg.jsx)(iT,{})}),a&&(0,Bg.jsx)("li",{children:(0,Bg.jsx)("button",{className:"btn",onClick:n,children:"Toggle Graph"})}),!i&&(0,Bg.jsxs)(Bg.Fragment,{children:[(0,Bg.jsx)("li",{children:(0,Bg.jsx)(yt,{to:"/Holiday_Weather_Advisor/login",children:"Login"})}),(0,Bg.jsx)("li",{children:(0,Bg.jsx)(yt,{to:"/Holiday_Weather_Advisor/signup",children:"Signup"})}),(0,Bg.jsx)("li",{children:(0,Bg.jsx)(yt,{to:"/Holiday_Weather_Advisor/noAccount",children:"Use without account"})})]}),i&&(0,Bg.jsxs)(Bg.Fragment,{children:[(0,Bg.jsxs)("li",{className:KE.greeting,children:["Hello, ",i.displayName]}),(0,Bg.jsx)("li",{children:(0,Bg.jsx)("button",{className:"btn",onClick:r,children:"Logout"})})]})]}),s&&(0,Bg.jsx)("div",{className:KE.popupOverlay,onClick:l,children:(0,Bg.jsxs)("div",{className:KE.popupContent,onClick:t=>{t.stopPropagation()},children:[(0,Bg.jsx)("button",{className:KE.closeButton,onClick:l,children:"X"}),(0,Bg.jsx)("h2",{children:"Information"}),(0,Bg.jsx)("p",{children:"The Holiday Weather Advisor allows users to retrieve weather data for a given time range, which can help inform decision-making in weather-related matters."}),(0,Bg.jsx)("p",{children:"For up to 14 days from the current date (including day 14), the displayed information is based on forecast data. Beyond that, forecast data becomes less reliable, so we present data based on historical records from the last 15 years."}),(0,Bg.jsxs)("p",{children:["This application is made possible thanks to",(0,Bg.jsx)("a",{style:{color:"blue",margin:0},href:"https://open-meteo.com/en/docs",target:"_blank",rel:"noopener noreferrer",children:" Open-Meteo "}),"and their free weather APIs."]})]})})]})}function sT(e){let{graphMode:n}=e;const{user:r}=Kg(),{documents:i,error:o}=NE("preferences",["uid","==",""]),a=null,s=null,[u,l]=(0,t.useState)(null),[c,h]=(0,t.useState)(null),[f,d]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[m,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[w,x]=(0,t.useState)(""),[_,S]=(0,t.useState)(""),[k,E]=(0,t.useState)(null),[T,I]=(0,t.useState)(0),C=async t=>{t.preventDefault(),E(null),l(null),h(null);const e=IE(new Date),n=IE(new Date(w)),r=IE(new Date(_));if(r<n)E("End date cannot be earlier than the start date.");else if(n<e||r<e)E("Selected dates must not be in the past");else try{const[t,i]=await Promise.all([fE(f),fE(p)]);y(t.name),b(i.name);const[o,u]=await Promise.all([CE(t,n,r,e,a,s),CE(i,n,r,e,a,s)]);l(o),h(u)}catch(i){E(i.message)}};return(0,Bg.jsx)("div",{className:Gg.weatherForm,style:{width:"94%",margin:"2% auto 2%"},children:"separated"===n?(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[(0,Bg.jsx)("h2",{children:"Separated Graphs"}),(0,Bg.jsx)(jE,{onSubmit:C,setCity1:d,setCity2:g,city1:f,city2:p,setStartDate:x,setEndDate:S,startDate:w,endDate:_,setTimeRangeMode:I,timeRangeMode:T}),(0,Bg.jsx)(PE,{lowThreshold:"0",highThreshold:"27",weatherError:k,weatherData1:u,weatherData2:c,displayedCity1:m,displayedCity2:v,setWeatherData1:l,setWeatherData2:h,timeRangeMode:T})]}):(0,Bg.jsxs)("div",{style:{textAlign:"center",padding:"0px 20px 20px"},children:[(0,Bg.jsx)("h2",{children:"Combined Graphs"}),(0,Bg.jsx)(jE,{onSubmit:C,setCity1:d,setCity2:g,city1:f,city2:p,setStartDate:x,setEndDate:S,startDate:w,endDate:_,setTimeRangeMode:I,timeRangeMode:T}),(0,Bg.jsx)(ME,{lowThreshold:"0",highThreshold:"27",weatherError:k,weatherData1:u,weatherData2:c,displayedCity1:m,displayedCity2:v,setWeatherData1:l,setWeatherData2:h,timeRangeMode:T})]})})}const uT=function(){const{authIsReady:e,user:n}=Kg(),[r,i]=(0,t.useState)("separated");return(0,Bg.jsx)("div",{className:"App",children:e&&(0,Bg.jsxs)(ht,{children:[(0,Bg.jsx)(aT,{toggleGraphMode:()=>{i((t=>"separated"===t?"combined":"separated"))}}),(0,Bg.jsxs)(ut,{children:[(0,Bg.jsxs)(nt,{exact:!0,path:"/Holiday_Weather_Advisor",children:[!n&&(0,Bg.jsx)(Q,{to:"/Holiday_Weather_Advisor/noAccount"}),n&&(0,Bg.jsx)(VE,{graphMode:r})]}),(0,Bg.jsxs)(nt,{path:"/Holiday_Weather_Advisor/login",children:[n&&(0,Bg.jsx)(Q,{to:"/Holiday_Weather_Advisor"}),!n&&(0,Bg.jsx)(BE,{})]}),(0,Bg.jsxs)(nt,{path:"/Holiday_Weather_Advisor/signup",children:[n&&(0,Bg.jsx)(Q,{to:"/Holiday_Weather_Advisor"}),!n&&(0,Bg.jsx)(HE,{})]}),(0,Bg.jsxs)(nt,{path:"/Holiday_Weather_Advisor/noAccount",children:[n&&(0,Bg.jsx)(Q,{to:"/Holiday_Weather_Advisor"}),!n&&(0,Bg.jsx)(sT,{graphMode:r})]}),(0,Bg.jsx)(nt,{path:"*",children:(0,Bg.jsx)(Q,{to:"/Holiday_Weather_Advisor"})})]})]})})};e.createRoot(document.getElementById("root")).render((0,Bg.jsx)(Hg,{children:(0,Bg.jsx)(uT,{})}))})()})();
//# sourceMappingURL=main.0a7091e6.js.map